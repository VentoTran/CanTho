ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"MQTTSim800.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.reverse,"ax",%progbits
  16              		.align	1
  17              		.global	reverse
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	reverse:
  25              	.LVL0:
  26              	.LFB72:
  27              		.file 1 "Core/Src/MQTTSim800.c"
   1:Core/Src/MQTTSim800.c **** /*
   2:Core/Src/MQTTSim800.c ****  * MQTTSim800.c
   3:Core/Src/MQTTSim800.c ****  *
   4:Core/Src/MQTTSim800.c ****  *  Created on: Jan 4, 2020
   5:Core/Src/MQTTSim800.c ****  *      Author: Bulanov Konstantin
   6:Core/Src/MQTTSim800.c ****  *
   7:Core/Src/MQTTSim800.c ****  *  Contact information
   8:Core/Src/MQTTSim800.c ****  *  -------------------
   9:Core/Src/MQTTSim800.c ****  *
  10:Core/Src/MQTTSim800.c ****  * e-mail   :   leech001@gmail.com
  11:Core/Src/MQTTSim800.c ****  * telegram :   https://t.me/leech001
  12:Core/Src/MQTTSim800.c ****  *
  13:Core/Src/MQTTSim800.c ****  */
  14:Core/Src/MQTTSim800.c **** 
  15:Core/Src/MQTTSim800.c **** /*
  16:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  17:Core/Src/MQTTSim800.c ****         DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  18:Core/Src/MQTTSim800.c ****                     Version 2, December 2004
  19:Core/Src/MQTTSim800.c **** 
  20:Core/Src/MQTTSim800.c **** Copyright (C) 2020 Bulanov Konstantin <leech001@gmail.com>
  21:Core/Src/MQTTSim800.c **** 
  22:Core/Src/MQTTSim800.c **** Everyone is permitted to copy and distribute verbatim or modified
  23:Core/Src/MQTTSim800.c **** copies of this license document, and changing it is allowed as long
  24:Core/Src/MQTTSim800.c **** as the name is changed.
  25:Core/Src/MQTTSim800.c **** 
  26:Core/Src/MQTTSim800.c ****             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  27:Core/Src/MQTTSim800.c **** TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
  28:Core/Src/MQTTSim800.c **** 
  29:Core/Src/MQTTSim800.c **** 0. You just DO WHAT THE FUCK YOU WANT TO.
  30:Core/Src/MQTTSim800.c **** 
  31:Core/Src/MQTTSim800.c **** MQTT packet https://github.com/eclipse/paho.mqtt.embedded-c/tree/master/MQTTPacket
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 2


  32:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  33:Core/Src/MQTTSim800.c **** */
  34:Core/Src/MQTTSim800.c **** 
  35:Core/Src/MQTTSim800.c **** #include "MQTTSim800.h"
  36:Core/Src/MQTTSim800.c **** #include "main.h"
  37:Core/Src/MQTTSim800.c **** #include "usart.h"
  38:Core/Src/MQTTSim800.c **** #include <string.h>
  39:Core/Src/MQTTSim800.c **** #include "MQTTPacket.h"
  40:Core/Src/MQTTSim800.c **** #include "math.h"
  41:Core/Src/MQTTSim800.c **** 
  42:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
  43:Core/Src/MQTTSim800.c **** #include <cmsis_os.h>
  44:Core/Src/MQTTSim800.c **** #endif
  45:Core/Src/MQTTSim800.c **** 
  46:Core/Src/MQTTSim800.c **** typedef struct
  47:Core/Src/MQTTSim800.c **** {
  48:Core/Src/MQTTSim800.c ****     uint8_t SIM;
  49:Core/Src/MQTTSim800.c ****     uint8_t GPRS;
  50:Core/Src/MQTTSim800.c ****     uint8_t MQTT;
  51:Core/Src/MQTTSim800.c **** } SIM800_St;
  52:Core/Src/MQTTSim800.c **** 
  53:Core/Src/MQTTSim800.c **** 
  54:Core/Src/MQTTSim800.c **** extern SIM800_t SIM800;
  55:Core/Src/MQTTSim800.c **** SIM800_St SIM800_Status = {0, 0, 0};
  56:Core/Src/MQTTSim800.c **** SIM800_Batt_t SIM800_Batt = {0, 0};
  57:Core/Src/MQTTSim800.c **** uint8_t is_GPS = 0;
  58:Core/Src/MQTTSim800.c **** extern uint8_t is_SMS_done;
  59:Core/Src/MQTTSim800.c **** 
  60:Core/Src/MQTTSim800.c **** uint8_t rx_data = 0;
  61:Core/Src/MQTTSim800.c **** uint8_t rx_buffer[200] = {0};
  62:Core/Src/MQTTSim800.c **** uint16_t rx_index = 0;
  63:Core/Src/MQTTSim800.c **** 
  64:Core/Src/MQTTSim800.c **** uint8_t mqtt_receive = 0;
  65:Core/Src/MQTTSim800.c **** char mqtt_buffer[200] = {0};
  66:Core/Src/MQTTSim800.c **** uint16_t mqtt_index = 0;
  67:Core/Src/MQTTSim800.c **** 
  68:Core/Src/MQTTSim800.c **** extern GPS_Sta_t myGPS;
  69:Core/Src/MQTTSim800.c **** 
  70:Core/Src/MQTTSim800.c **** //-------------------------------------------------------------------------
  71:Core/Src/MQTTSim800.c **** 
  72:Core/Src/MQTTSim800.c **** // Reverses a string 'str' of length 'len'
  73:Core/Src/MQTTSim800.c **** void reverse(char* str, int len)
  74:Core/Src/MQTTSim800.c **** {
  28              		.loc 1 74 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  75:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  33              		.loc 1 75 5 view .LVU1
  34              		.loc 1 75 16 is_stmt 0 view .LVU2
  35 0000 0139     		subs	r1, r1, #1
  36              	.LVL1:
  76:Core/Src/MQTTSim800.c ****     while (i < j)
  37              		.loc 1 76 5 is_stmt 1 view .LVU3
  75:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  38              		.loc 1 75 9 is_stmt 0 view .LVU4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 3


  39 0002 0023     		movs	r3, #0
  40              		.loc 1 76 11 view .LVU5
  41 0004 07E0     		b	.L2
  42              	.LVL2:
  43              	.L3:
  77:Core/Src/MQTTSim800.c ****     {
  78:Core/Src/MQTTSim800.c ****         temp = str[i];
  44              		.loc 1 78 9 is_stmt 1 view .LVU6
  45              		.loc 1 78 19 is_stmt 0 view .LVU7
  46 0006 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
  47              	.LVL3:
  79:Core/Src/MQTTSim800.c ****         str[i] = str[j];
  48              		.loc 1 79 9 is_stmt 1 view .LVU8
  49              		.loc 1 79 21 is_stmt 0 view .LVU9
  50 0008 10F801C0 		ldrb	ip, [r0, r1]	@ zero_extendqisi2
  51              		.loc 1 79 16 view .LVU10
  52 000c 00F803C0 		strb	ip, [r0, r3]
  80:Core/Src/MQTTSim800.c ****         str[j] = temp;
  53              		.loc 1 80 9 is_stmt 1 view .LVU11
  54              		.loc 1 80 16 is_stmt 0 view .LVU12
  55 0010 4254     		strb	r2, [r0, r1]
  81:Core/Src/MQTTSim800.c ****         i++;
  56              		.loc 1 81 9 is_stmt 1 view .LVU13
  57              		.loc 1 81 10 is_stmt 0 view .LVU14
  58 0012 0133     		adds	r3, r3, #1
  59              	.LVL4:
  82:Core/Src/MQTTSim800.c ****         j--;
  60              		.loc 1 82 9 is_stmt 1 view .LVU15
  61              		.loc 1 82 10 is_stmt 0 view .LVU16
  62 0014 0139     		subs	r1, r1, #1
  63              	.LVL5:
  64              	.L2:
  76:Core/Src/MQTTSim800.c ****     {
  65              		.loc 1 76 11 is_stmt 1 view .LVU17
  66 0016 8B42     		cmp	r3, r1
  67 0018 F5DB     		blt	.L3
  83:Core/Src/MQTTSim800.c ****     }
  84:Core/Src/MQTTSim800.c **** }
  68              		.loc 1 84 1 is_stmt 0 view .LVU18
  69 001a 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE72:
  73              		.section	.text.intToStr,"ax",%progbits
  74              		.align	1
  75              		.global	intToStr
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu softvfp
  81              	intToStr:
  82              	.LVL6:
  83              	.LFB73:
  85:Core/Src/MQTTSim800.c **** 
  86:Core/Src/MQTTSim800.c **** // Converts a given integer x to string str[]. 
  87:Core/Src/MQTTSim800.c **** // d is the number of digits required in the output. 
  88:Core/Src/MQTTSim800.c **** // If d is more than the number of digits in x, 
  89:Core/Src/MQTTSim800.c **** // then 0s are added at the beginning.
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 4


  90:Core/Src/MQTTSim800.c **** int intToStr(int x, char str[], int d)
  91:Core/Src/MQTTSim800.c **** {
  84              		.loc 1 91 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		.loc 1 91 1 is_stmt 0 view .LVU20
  89 0000 70B5     		push	{r4, r5, r6, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 4, -16
  93              		.cfi_offset 5, -12
  94              		.cfi_offset 6, -8
  95              		.cfi_offset 14, -4
  96 0002 0E46     		mov	r6, r1
  92:Core/Src/MQTTSim800.c ****     int i = 0;
  97              		.loc 1 92 5 is_stmt 1 view .LVU21
  98              	.LVL7:
  93:Core/Src/MQTTSim800.c ****     if (x == 0)
  99              		.loc 1 93 5 view .LVU22
 100              		.loc 1 93 8 is_stmt 0 view .LVU23
 101 0004 18B9     		cbnz	r0, .L10
  94:Core/Src/MQTTSim800.c ****     {
  95:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 102              		.loc 1 95 9 is_stmt 1 view .LVU24
 103              	.LVL8:
 104              		.loc 1 95 18 is_stmt 0 view .LVU25
 105 0006 3023     		movs	r3, #48
 106 0008 0B70     		strb	r3, [r1]
 107              		.loc 1 95 14 view .LVU26
 108 000a 0124     		movs	r4, #1
 109 000c 15E0     		b	.L6
 110              	.LVL9:
 111              	.L10:
 112              		.loc 1 95 14 view .LVU27
 113 000e 0546     		mov	r5, r0
  92:Core/Src/MQTTSim800.c ****     if (x == 0)
 114              		.loc 1 92 9 view .LVU28
 115 0010 0024     		movs	r4, #0
 116              	.LVL10:
 117              	.L5:
  96:Core/Src/MQTTSim800.c ****     }
  97:Core/Src/MQTTSim800.c ****     else
  98:Core/Src/MQTTSim800.c ****     {
  99:Core/Src/MQTTSim800.c ****         while (x)
 118              		.loc 1 99 15 is_stmt 1 view .LVU29
 119 0012 95B1     		cbz	r5, .L6
 100:Core/Src/MQTTSim800.c ****         {
 101:Core/Src/MQTTSim800.c ****             str[i++] = (x % 10) + '0';
 120              		.loc 1 101 13 view .LVU30
 121              		.loc 1 101 27 is_stmt 0 view .LVU31
 122 0014 0E49     		ldr	r1, .L12
 123 0016 81FB0531 		smull	r3, r1, r1, r5
 124 001a EB17     		asrs	r3, r5, #31
 125 001c C3EBA103 		rsb	r3, r3, r1, asr #2
 126 0020 1946     		mov	r1, r3
 127 0022 03EB8303 		add	r3, r3, r3, lsl #2
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 5


 128 0026 A5EB4303 		sub	r3, r5, r3, lsl #1
 129              	.LVL11:
 130              		.loc 1 101 33 view .LVU32
 131 002a 3033     		adds	r3, r3, #48
 132              		.loc 1 101 22 view .LVU33
 133 002c 3355     		strb	r3, [r6, r4]
 102:Core/Src/MQTTSim800.c ****             x = x / 10;
 134              		.loc 1 102 13 is_stmt 1 view .LVU34
 135              		.loc 1 102 15 is_stmt 0 view .LVU35
 136 002e 0D46     		mov	r5, r1
 137              	.LVL12:
 101:Core/Src/MQTTSim800.c ****             x = x / 10;
 138              		.loc 1 101 18 view .LVU36
 139 0030 0134     		adds	r4, r4, #1
 140              	.LVL13:
 101:Core/Src/MQTTSim800.c ****             x = x / 10;
 141              		.loc 1 101 18 view .LVU37
 142 0032 EEE7     		b	.L5
 143              	.LVL14:
 144              	.L9:
 103:Core/Src/MQTTSim800.c ****         }
 104:Core/Src/MQTTSim800.c ****     }
 105:Core/Src/MQTTSim800.c ****     
 106:Core/Src/MQTTSim800.c ****     // If number of digits required is more, then
 107:Core/Src/MQTTSim800.c ****     // add 0s at the beginning
 108:Core/Src/MQTTSim800.c ****     while (i < d)
 109:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 145              		.loc 1 109 9 is_stmt 1 view .LVU38
 146              		.loc 1 109 18 is_stmt 0 view .LVU39
 147 0034 3023     		movs	r3, #48
 148 0036 3355     		strb	r3, [r6, r4]
 149              		.loc 1 109 14 view .LVU40
 150 0038 0134     		adds	r4, r4, #1
 151              	.LVL15:
 152              	.L6:
 108:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 153              		.loc 1 108 11 is_stmt 1 view .LVU41
 154 003a 9442     		cmp	r4, r2
 155 003c FADB     		blt	.L9
 110:Core/Src/MQTTSim800.c **** 
 111:Core/Src/MQTTSim800.c ****     reverse(str, i);
 156              		.loc 1 111 5 view .LVU42
 157 003e 2146     		mov	r1, r4
 158 0040 3046     		mov	r0, r6
 159 0042 FFF7FEFF 		bl	reverse
 160              	.LVL16:
 112:Core/Src/MQTTSim800.c ****     str[i] = '\0';
 161              		.loc 1 112 5 view .LVU43
 162              		.loc 1 112 12 is_stmt 0 view .LVU44
 163 0046 0023     		movs	r3, #0
 164 0048 3355     		strb	r3, [r6, r4]
 113:Core/Src/MQTTSim800.c ****     return i;
 165              		.loc 1 113 5 is_stmt 1 view .LVU45
 114:Core/Src/MQTTSim800.c **** }
 166              		.loc 1 114 1 is_stmt 0 view .LVU46
 167 004a 2046     		mov	r0, r4
 168 004c 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 6


 169              	.LVL17:
 170              	.L13:
 171              		.loc 1 114 1 view .LVU47
 172 004e 00BF     		.align	2
 173              	.L12:
 174 0050 67666666 		.word	1717986919
 175              		.cfi_endproc
 176              	.LFE73:
 178              		.global	__aeabi_f2iz
 179              		.global	__aeabi_i2f
 180              		.global	__aeabi_fsub
 181              		.global	__aeabi_i2d
 182              		.global	__aeabi_f2d
 183              		.global	__aeabi_dmul
 184              		.global	__aeabi_d2f
 185              		.section	.text.ftoa,"ax",%progbits
 186              		.align	1
 187              		.global	ftoa
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu softvfp
 193              	ftoa:
 194              	.LVL18:
 195              	.LFB74:
 115:Core/Src/MQTTSim800.c **** 
 116:Core/Src/MQTTSim800.c **** // Converts a floating-point/double number to a string.
 117:Core/Src/MQTTSim800.c **** void ftoa(float n, char* res, int afterpoint)
 118:Core/Src/MQTTSim800.c **** {
 196              		.loc 1 118 1 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200              		.loc 1 118 1 is_stmt 0 view .LVU49
 201 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 202              	.LCFI1:
 203              		.cfi_def_cfa_offset 32
 204              		.cfi_offset 3, -32
 205              		.cfi_offset 4, -28
 206              		.cfi_offset 5, -24
 207              		.cfi_offset 6, -20
 208              		.cfi_offset 7, -16
 209              		.cfi_offset 8, -12
 210              		.cfi_offset 9, -8
 211              		.cfi_offset 14, -4
 212 0004 0646     		mov	r6, r0
 213 0006 0C46     		mov	r4, r1
 214 0008 1746     		mov	r7, r2
 119:Core/Src/MQTTSim800.c ****     // Extract integer part
 120:Core/Src/MQTTSim800.c ****     int ipart = (int)n;
 215              		.loc 1 120 5 is_stmt 1 view .LVU50
 216              		.loc 1 120 9 is_stmt 0 view .LVU51
 217 000a FFF7FEFF 		bl	__aeabi_f2iz
 218              	.LVL19:
 219              		.loc 1 120 9 view .LVU52
 220 000e 0546     		mov	r5, r0
 221              	.LVL20:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 7


 121:Core/Src/MQTTSim800.c ****     // Extract floating part
 122:Core/Src/MQTTSim800.c ****     float fpart = n - (float)ipart;
 222              		.loc 1 122 5 is_stmt 1 view .LVU53
 223              		.loc 1 122 23 is_stmt 0 view .LVU54
 224 0010 FFF7FEFF 		bl	__aeabi_i2f
 225              	.LVL21:
 226              		.loc 1 122 23 view .LVU55
 227 0014 0146     		mov	r1, r0
 228              		.loc 1 122 11 view .LVU56
 229 0016 3046     		mov	r0, r6
 230 0018 FFF7FEFF 		bl	__aeabi_fsub
 231              	.LVL22:
 232 001c 0646     		mov	r6, r0
 233              	.LVL23:
 123:Core/Src/MQTTSim800.c ****     // convert integer part to string
 124:Core/Src/MQTTSim800.c ****     int i = intToStr(ipart, res, 0);
 234              		.loc 1 124 5 is_stmt 1 view .LVU57
 235              		.loc 1 124 13 is_stmt 0 view .LVU58
 236 001e 0022     		movs	r2, #0
 237 0020 2146     		mov	r1, r4
 238 0022 2846     		mov	r0, r5
 239              	.LVL24:
 240              		.loc 1 124 13 view .LVU59
 241 0024 FFF7FEFF 		bl	intToStr
 242              	.LVL25:
 125:Core/Src/MQTTSim800.c ****     // check for display option after point
 126:Core/Src/MQTTSim800.c ****     if (afterpoint != 0)
 243              		.loc 1 126 5 is_stmt 1 view .LVU60
 244              		.loc 1 126 8 is_stmt 0 view .LVU61
 245 0028 0FB9     		cbnz	r7, .L17
 246              	.LVL26:
 247              	.L14:
 127:Core/Src/MQTTSim800.c ****     {
 128:Core/Src/MQTTSim800.c ****         res[i] = '.'; // add dot
 129:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 130:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 131:Core/Src/MQTTSim800.c ****     }
 132:Core/Src/MQTTSim800.c **** }
 248              		.loc 1 132 1 view .LVU62
 249 002a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 250              	.LVL27:
 251              	.L17:
 252              		.loc 1 132 1 view .LVU63
 253 002e 0546     		mov	r5, r0
 254              	.LVL28:
 128:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 255              		.loc 1 128 9 is_stmt 1 view .LVU64
 128:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 256              		.loc 1 128 16 is_stmt 0 view .LVU65
 257 0030 2E23     		movs	r3, #46
 258 0032 2354     		strb	r3, [r4, r0]
 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 259              		.loc 1 129 9 is_stmt 1 view .LVU66
 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 260              		.loc 1 129 25 is_stmt 0 view .LVU67
 261 0034 3846     		mov	r0, r7
 262              	.LVL29:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 8


 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 263              		.loc 1 129 25 view .LVU68
 264 0036 FFF7FEFF 		bl	__aeabi_i2d
 265              	.LVL30:
 266 003a 0246     		mov	r2, r0
 267 003c 0B46     		mov	r3, r1
 268 003e 0020     		movs	r0, #0
 269 0040 0B49     		ldr	r1, .L18
 270 0042 FFF7FEFF 		bl	pow
 271              	.LVL31:
 272 0046 8046     		mov	r8, r0
 273 0048 8946     		mov	r9, r1
 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 274              		.loc 1 129 23 view .LVU69
 275 004a 3046     		mov	r0, r6
 276 004c FFF7FEFF 		bl	__aeabi_f2d
 277              	.LVL32:
 278 0050 4246     		mov	r2, r8
 279 0052 4B46     		mov	r3, r9
 280 0054 FFF7FEFF 		bl	__aeabi_dmul
 281              	.LVL33:
 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 282              		.loc 1 129 15 view .LVU70
 283 0058 FFF7FEFF 		bl	__aeabi_d2f
 284              	.LVL34:
 130:Core/Src/MQTTSim800.c ****     }
 285              		.loc 1 130 9 is_stmt 1 view .LVU71
 130:Core/Src/MQTTSim800.c ****     }
 286              		.loc 1 130 38 is_stmt 0 view .LVU72
 287 005c 691C     		adds	r1, r5, #1
 130:Core/Src/MQTTSim800.c ****     }
 288              		.loc 1 130 9 view .LVU73
 289 005e 0C44     		add	r4, r4, r1
 290              	.LVL35:
 130:Core/Src/MQTTSim800.c ****     }
 291              		.loc 1 130 9 view .LVU74
 292 0060 FFF7FEFF 		bl	__aeabi_f2iz
 293              	.LVL36:
 130:Core/Src/MQTTSim800.c ****     }
 294              		.loc 1 130 9 view .LVU75
 295 0064 3A46     		mov	r2, r7
 296 0066 2146     		mov	r1, r4
 297 0068 FFF7FEFF 		bl	intToStr
 298              	.LVL37:
 299              		.loc 1 132 1 view .LVU76
 300 006c DDE7     		b	.L14
 301              	.L19:
 302 006e 00BF     		.align	2
 303              	.L18:
 304 0070 00002440 		.word	1076101120
 305              		.cfi_endproc
 306              	.LFE74:
 308              		.global	__aeabi_fmul
 309              		.global	__aeabi_fadd
 310              		.global	__aeabi_ddiv
 311              		.global	__aeabi_dadd
 312              		.section	.text.str2float,"ax",%progbits
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 9


 313              		.align	1
 314              		.global	str2float
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 318              		.fpu softvfp
 320              	str2float:
 321              	.LVL38:
 322              	.LFB75:
 133:Core/Src/MQTTSim800.c **** 
 134:Core/Src/MQTTSim800.c **** float str2float(char* str, int afterpoint)
 135:Core/Src/MQTTSim800.c **** {
 323              		.loc 1 135 1 is_stmt 1 view -0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		.loc 1 135 1 is_stmt 0 view .LVU78
 328 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 329              	.LCFI2:
 330              		.cfi_def_cfa_offset 24
 331              		.cfi_offset 4, -24
 332              		.cfi_offset 5, -20
 333              		.cfi_offset 6, -16
 334              		.cfi_offset 7, -12
 335              		.cfi_offset 8, -8
 336              		.cfi_offset 14, -4
 337 0004 0646     		mov	r6, r0
 338 0006 0F46     		mov	r7, r1
 136:Core/Src/MQTTSim800.c ****     float f = 0.0;
 339              		.loc 1 136 5 is_stmt 1 view .LVU79
 340              	.LVL39:
 137:Core/Src/MQTTSim800.c ****     int f_part = 0;
 341              		.loc 1 137 5 view .LVU80
 138:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 342              		.loc 1 138 5 view .LVU81
 139:Core/Src/MQTTSim800.c **** 
 140:Core/Src/MQTTSim800.c ****     while (str[count] != '.')
 343              		.loc 1 140 5 view .LVU82
 138:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 344              		.loc 1 138 13 is_stmt 0 view .LVU83
 345 0008 0024     		movs	r4, #0
 136:Core/Src/MQTTSim800.c ****     int f_part = 0;
 346              		.loc 1 136 11 view .LVU84
 347 000a 0025     		movs	r5, #0
 348              		.loc 1 140 11 view .LVU85
 349 000c 0FE0     		b	.L21
 350              	.LVL40:
 351              	.L22:
 141:Core/Src/MQTTSim800.c ****     {
 142:Core/Src/MQTTSim800.c ****         f = f * 10 + (int)(str[count++] - 48);
 352              		.loc 1 142 9 is_stmt 1 view .LVU86
 353              		.loc 1 142 15 is_stmt 0 view .LVU87
 354 000e 2249     		ldr	r1, .L26
 355 0010 2846     		mov	r0, r5
 356 0012 FFF7FEFF 		bl	__aeabi_fmul
 357              	.LVL41:
 358 0016 0546     		mov	r5, r0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 10


 359              	.LVL42:
 360              		.loc 1 142 37 view .LVU88
 361 0018 0134     		adds	r4, r4, #1
 362              	.LVL43:
 363              		.loc 1 142 37 view .LVU89
 364 001a E4B2     		uxtb	r4, r4
 365              	.LVL44:
 366              		.loc 1 142 20 view .LVU90
 367 001c A8F13000 		sub	r0, r8, #48
 368 0020 FFF7FEFF 		bl	__aeabi_i2f
 369              	.LVL45:
 370 0024 0146     		mov	r1, r0
 371              		.loc 1 142 11 view .LVU91
 372 0026 2846     		mov	r0, r5
 373 0028 FFF7FEFF 		bl	__aeabi_fadd
 374              	.LVL46:
 375 002c 0546     		mov	r5, r0
 376              	.LVL47:
 377              	.L21:
 140:Core/Src/MQTTSim800.c ****     {
 378              		.loc 1 140 11 is_stmt 1 view .LVU92
 140:Core/Src/MQTTSim800.c ****     {
 379              		.loc 1 140 15 is_stmt 0 view .LVU93
 380 002e 16F80480 		ldrb	r8, [r6, r4]	@ zero_extendqisi2
 140:Core/Src/MQTTSim800.c ****     {
 381              		.loc 1 140 11 view .LVU94
 382 0032 B8F12E0F 		cmp	r8, #46
 383 0036 EAD1     		bne	.L22
 143:Core/Src/MQTTSim800.c ****     }
 144:Core/Src/MQTTSim800.c **** 
 145:Core/Src/MQTTSim800.c ****     count++;
 384              		.loc 1 145 5 is_stmt 1 view .LVU95
 385              		.loc 1 145 10 is_stmt 0 view .LVU96
 386 0038 0134     		adds	r4, r4, #1
 387              	.LVL48:
 388              		.loc 1 145 10 view .LVU97
 389 003a E4B2     		uxtb	r4, r4
 390              	.LVL49:
 146:Core/Src/MQTTSim800.c **** 
 147:Core/Src/MQTTSim800.c ****     for (uint8_t i = 0; i < afterpoint; i++)
 391              		.loc 1 147 5 is_stmt 1 view .LVU98
 392              	.LBB2:
 393              		.loc 1 147 10 view .LVU99
 394              		.loc 1 147 18 is_stmt 0 view .LVU100
 395 003c 0023     		movs	r3, #0
 396              	.LBE2:
 137:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 397              		.loc 1 137 9 view .LVU101
 398 003e 9846     		mov	r8, r3
 399              	.LBB3:
 400              		.loc 1 147 5 view .LVU102
 401 0040 09E0     		b	.L23
 402              	.LVL50:
 403              	.L24:
 148:Core/Src/MQTTSim800.c ****     {
 149:Core/Src/MQTTSim800.c ****         // f = f + (float)(str[count++] - 48)/(pow(10, i+1));
 150:Core/Src/MQTTSim800.c ****         f_part = f_part * 10 + (int)(str[count++] - 48);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 11


 404              		.loc 1 150 9 is_stmt 1 discriminator 3 view .LVU103
 405              		.loc 1 150 25 is_stmt 0 discriminator 3 view .LVU104
 406 0042 08EB8808 		add	r8, r8, r8, lsl #2
 407              	.LVL51:
 408              		.loc 1 150 47 discriminator 3 view .LVU105
 409 0046 611C     		adds	r1, r4, #1
 410              	.LVL52:
 411              		.loc 1 150 41 discriminator 3 view .LVU106
 412 0048 325D     		ldrb	r2, [r6, r4]	@ zero_extendqisi2
 413              		.loc 1 150 32 discriminator 3 view .LVU107
 414 004a 303A     		subs	r2, r2, #48
 415              		.loc 1 150 16 discriminator 3 view .LVU108
 416 004c 02EB4808 		add	r8, r2, r8, lsl #1
 417              	.LVL53:
 147:Core/Src/MQTTSim800.c ****     {
 418              		.loc 1 147 41 is_stmt 1 discriminator 3 view .LVU109
 147:Core/Src/MQTTSim800.c ****     {
 419              		.loc 1 147 42 is_stmt 0 discriminator 3 view .LVU110
 420 0050 0133     		adds	r3, r3, #1
 421              	.LVL54:
 147:Core/Src/MQTTSim800.c ****     {
 422              		.loc 1 147 42 discriminator 3 view .LVU111
 423 0052 DBB2     		uxtb	r3, r3
 424              	.LVL55:
 425              		.loc 1 150 47 discriminator 3 view .LVU112
 426 0054 CCB2     		uxtb	r4, r1
 427              	.LVL56:
 428              	.L23:
 147:Core/Src/MQTTSim800.c ****     {
 429              		.loc 1 147 25 is_stmt 1 discriminator 1 view .LVU113
 147:Core/Src/MQTTSim800.c ****     {
 430              		.loc 1 147 5 is_stmt 0 discriminator 1 view .LVU114
 431 0056 BB42     		cmp	r3, r7
 432 0058 F3DB     		blt	.L24
 433              	.LBE3:
 151:Core/Src/MQTTSim800.c ****     }
 152:Core/Src/MQTTSim800.c **** 
 153:Core/Src/MQTTSim800.c ****     f += f_part / pow(10, afterpoint);
 434              		.loc 1 153 5 is_stmt 1 view .LVU115
 435              		.loc 1 153 19 is_stmt 0 view .LVU116
 436 005a 3846     		mov	r0, r7
 437 005c FFF7FEFF 		bl	__aeabi_i2d
 438              	.LVL57:
 439              		.loc 1 153 19 view .LVU117
 440 0060 0246     		mov	r2, r0
 441 0062 0B46     		mov	r3, r1
 442 0064 0020     		movs	r0, #0
 443 0066 0D49     		ldr	r1, .L26+4
 444 0068 FFF7FEFF 		bl	pow
 445              	.LVL58:
 446 006c 0646     		mov	r6, r0
 447              	.LVL59:
 448              		.loc 1 153 19 view .LVU118
 449 006e 0F46     		mov	r7, r1
 450              	.LVL60:
 451              		.loc 1 153 17 view .LVU119
 452 0070 4046     		mov	r0, r8
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 12


 453 0072 FFF7FEFF 		bl	__aeabi_i2d
 454              	.LVL61:
 455 0076 3246     		mov	r2, r6
 456 0078 3B46     		mov	r3, r7
 457 007a FFF7FEFF 		bl	__aeabi_ddiv
 458              	.LVL62:
 459 007e 0646     		mov	r6, r0
 460 0080 0F46     		mov	r7, r1
 461              		.loc 1 153 7 view .LVU120
 462 0082 2846     		mov	r0, r5
 463 0084 FFF7FEFF 		bl	__aeabi_f2d
 464              	.LVL63:
 465 0088 3246     		mov	r2, r6
 466 008a 3B46     		mov	r3, r7
 467 008c FFF7FEFF 		bl	__aeabi_dadd
 468              	.LVL64:
 469 0090 FFF7FEFF 		bl	__aeabi_d2f
 470              	.LVL65:
 154:Core/Src/MQTTSim800.c **** 
 155:Core/Src/MQTTSim800.c ****     return f;
 471              		.loc 1 155 5 is_stmt 1 view .LVU121
 156:Core/Src/MQTTSim800.c **** }
 472              		.loc 1 156 1 is_stmt 0 view .LVU122
 473 0094 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 474              	.LVL66:
 475              	.L27:
 476              		.loc 1 156 1 view .LVU123
 477              		.align	2
 478              	.L26:
 479 0098 00002041 		.word	1092616192
 480 009c 00002440 		.word	1076101120
 481              		.cfi_endproc
 482              	.LFE75:
 484              		.section	.text.GPS_Time_Parse,"ax",%progbits
 485              		.align	1
 486              		.global	GPS_Time_Parse
 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 490              		.fpu softvfp
 492              	GPS_Time_Parse:
 493              	.LVL67:
 494              	.LFB77:
 157:Core/Src/MQTTSim800.c **** 
 158:Core/Src/MQTTSim800.c **** void getGPS(void)
 159:Core/Src/MQTTSim800.c **** {
 160:Core/Src/MQTTSim800.c ****     // SIM800_SendCommand("AT+CGNSINF\r\n", "", 1000);
 161:Core/Src/MQTTSim800.c ****     is_GPS = 1;
 162:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CGNSINF\r\n";
 163:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 164:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 165:Core/Src/MQTTSim800.c **** 
 166:Core/Src/MQTTSim800.c ****     osDelay(1000);
 167:Core/Src/MQTTSim800.c **** 
 168:Core/Src/MQTTSim800.c ****     sscanf(mqtt_buffer, "+CGNSINF: %[^,],%[^,],%[^,],%[^,],%[^,],%*[^,],%*[^,],%*[^,],%d,,%*[^,],%*
 169:Core/Src/MQTTSim800.c ****         &myGPS.GPS_Status, &myGPS.Fix_Status, myGPS.UTC_Time, myGPS.cLat, myGPS.cLon, \
 170:Core/Src/MQTTSim800.c ****         &myGPS.FixMode, &myGPS.NumSatView, &myGPS.NumSatUsed, &myGPS.NumGLONASS);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 13


 171:Core/Src/MQTTSim800.c **** 
 172:Core/Src/MQTTSim800.c ****     if (myGPS.Fix_Status == 1)
 173:Core/Src/MQTTSim800.c ****     {
 174:Core/Src/MQTTSim800.c ****         myGPS.Latitude = str2float(myGPS.cLat, 6);
 175:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 176:Core/Src/MQTTSim800.c ****     }
 177:Core/Src/MQTTSim800.c ****     
 178:Core/Src/MQTTSim800.c ****     GPS_Time_Parse(myGPS.UTC_Time);
 179:Core/Src/MQTTSim800.c **** 
 180:Core/Src/MQTTSim800.c ****     is_GPS = 0;
 181:Core/Src/MQTTSim800.c **** 
 182:Core/Src/MQTTSim800.c ****     clearMqttBuffer();
 183:Core/Src/MQTTSim800.c ****     // clearRxBuffer();
 184:Core/Src/MQTTSim800.c **** 
 185:Core/Src/MQTTSim800.c **** }
 186:Core/Src/MQTTSim800.c **** 
 187:Core/Src/MQTTSim800.c **** void GPS_Time_Parse(char * cTime)
 188:Core/Src/MQTTSim800.c **** {
 495              		.loc 1 188 1 is_stmt 1 view -0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 8
 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              		.loc 1 188 1 is_stmt 0 view .LVU125
 500 0000 70B5     		push	{r4, r5, r6, lr}
 501              	.LCFI3:
 502              		.cfi_def_cfa_offset 16
 503              		.cfi_offset 4, -16
 504              		.cfi_offset 5, -12
 505              		.cfi_offset 6, -8
 506              		.cfi_offset 14, -4
 507 0002 82B0     		sub	sp, sp, #8
 508              	.LCFI4:
 509              		.cfi_def_cfa_offset 24
 510 0004 0446     		mov	r4, r0
 189:Core/Src/MQTTSim800.c ****     char str[4] = {0};
 511              		.loc 1 189 5 is_stmt 1 view .LVU126
 512              		.loc 1 189 10 is_stmt 0 view .LVU127
 513 0006 0025     		movs	r5, #0
 514 0008 0195     		str	r5, [sp, #4]
 190:Core/Src/MQTTSim800.c **** 
 191:Core/Src/MQTTSim800.c ****     memcpy(str, cTime, 4);
 515              		.loc 1 191 5 is_stmt 1 view .LVU128
 516 000a 0368     		ldr	r3, [r0]	@ unaligned
 517 000c 0193     		str	r3, [sp, #4]
 192:Core/Src/MQTTSim800.c ****     myGPS.Time.Year = (uint16_t)strtol(str, NULL, 10);
 518              		.loc 1 192 5 view .LVU129
 519              		.loc 1 192 33 is_stmt 0 view .LVU130
 520 000e 0A22     		movs	r2, #10
 521 0010 2946     		mov	r1, r5
 522 0012 01A8     		add	r0, sp, #4
 523              	.LVL68:
 524              		.loc 1 192 33 view .LVU131
 525 0014 FFF7FEFF 		bl	strtol
 526              	.LVL69:
 527              		.loc 1 192 21 view .LVU132
 528 0018 274E     		ldr	r6, .L37
 529 001a F082     		strh	r0, [r6, #22]	@ movhi
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 14


 193:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 530              		.loc 1 193 5 is_stmt 1 view .LVU133
 531 001c 0195     		str	r5, [sp, #4]
 194:Core/Src/MQTTSim800.c **** 
 195:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 4, 2);
 532              		.loc 1 195 5 view .LVU134
 533 001e A388     		ldrh	r3, [r4, #4]	@ unaligned
 534 0020 ADF80430 		strh	r3, [sp, #4]	@ movhi
 196:Core/Src/MQTTSim800.c ****     myGPS.Time.Month = (uint8_t)strtol(str, NULL, 10);
 535              		.loc 1 196 5 view .LVU135
 536              		.loc 1 196 33 is_stmt 0 view .LVU136
 537 0024 0A22     		movs	r2, #10
 538 0026 2946     		mov	r1, r5
 539 0028 01A8     		add	r0, sp, #4
 540 002a FFF7FEFF 		bl	strtol
 541              	.LVL70:
 542              		.loc 1 196 22 view .LVU137
 543 002e 3076     		strb	r0, [r6, #24]
 197:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 544              		.loc 1 197 5 is_stmt 1 view .LVU138
 545 0030 0195     		str	r5, [sp, #4]
 198:Core/Src/MQTTSim800.c **** 
 199:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 6, 2);
 546              		.loc 1 199 5 view .LVU139
 547 0032 E388     		ldrh	r3, [r4, #6]	@ unaligned
 548 0034 ADF80430 		strh	r3, [sp, #4]	@ movhi
 200:Core/Src/MQTTSim800.c ****     myGPS.Time.Day = (uint8_t)strtol(str, NULL, 10);
 549              		.loc 1 200 5 view .LVU140
 550              		.loc 1 200 31 is_stmt 0 view .LVU141
 551 0038 0A22     		movs	r2, #10
 552 003a 2946     		mov	r1, r5
 553 003c 01A8     		add	r0, sp, #4
 554 003e FFF7FEFF 		bl	strtol
 555              	.LVL71:
 556              		.loc 1 200 20 view .LVU142
 557 0042 7076     		strb	r0, [r6, #25]
 201:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 558              		.loc 1 201 5 is_stmt 1 view .LVU143
 559 0044 0195     		str	r5, [sp, #4]
 202:Core/Src/MQTTSim800.c **** 
 203:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 8, 2);
 560              		.loc 1 203 5 view .LVU144
 561 0046 2389     		ldrh	r3, [r4, #8]	@ unaligned
 562 0048 ADF80430 		strh	r3, [sp, #4]	@ movhi
 204:Core/Src/MQTTSim800.c ****     myGPS.Time.Hour = (uint8_t)strtol(str, NULL, 10);
 563              		.loc 1 204 5 view .LVU145
 564              		.loc 1 204 32 is_stmt 0 view .LVU146
 565 004c 0A22     		movs	r2, #10
 566 004e 2946     		mov	r1, r5
 567 0050 01A8     		add	r0, sp, #4
 568 0052 FFF7FEFF 		bl	strtol
 569              	.LVL72:
 570              		.loc 1 204 23 view .LVU147
 571 0056 C0B2     		uxtb	r0, r0
 572              		.loc 1 204 21 view .LVU148
 573 0058 B076     		strb	r0, [r6, #26]
 205:Core/Src/MQTTSim800.c ****     if ((myGPS.Time.Hour + 7) >= 24)
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 15


 574              		.loc 1 205 5 is_stmt 1 view .LVU149
 575              		.loc 1 205 8 is_stmt 0 view .LVU150
 576 005a 1028     		cmp	r0, #16
 577 005c 2AD8     		bhi	.L34
 206:Core/Src/MQTTSim800.c ****     {
 207:Core/Src/MQTTSim800.c ****         for (uint8_t i = 0; i < 7; i++)
 208:Core/Src/MQTTSim800.c ****         {
 209:Core/Src/MQTTSim800.c ****             myGPS.Time.Hour++;
 210:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 211:Core/Src/MQTTSim800.c ****         }
 212:Core/Src/MQTTSim800.c ****     }
 213:Core/Src/MQTTSim800.c ****     else    myGPS.Time.Hour += 7;
 578              		.loc 1 213 13 is_stmt 1 view .LVU151
 579              		.loc 1 213 29 is_stmt 0 view .LVU152
 580 005e 0730     		adds	r0, r0, #7
 581 0060 154B     		ldr	r3, .L37
 582 0062 9876     		strb	r0, [r3, #26]
 583              	.L33:
 214:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 584              		.loc 1 214 5 is_stmt 1 view .LVU153
 585 0064 0025     		movs	r5, #0
 586 0066 0195     		str	r5, [sp, #4]
 215:Core/Src/MQTTSim800.c **** 
 216:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 10, 2);
 587              		.loc 1 216 5 view .LVU154
 588 0068 6389     		ldrh	r3, [r4, #10]	@ unaligned
 589 006a ADF80430 		strh	r3, [sp, #4]	@ movhi
 217:Core/Src/MQTTSim800.c ****     myGPS.Time.Minute = (uint8_t)strtol(str, NULL, 10);
 590              		.loc 1 217 5 view .LVU155
 591              		.loc 1 217 34 is_stmt 0 view .LVU156
 592 006e 0A22     		movs	r2, #10
 593 0070 2946     		mov	r1, r5
 594 0072 01A8     		add	r0, sp, #4
 595 0074 FFF7FEFF 		bl	strtol
 596              	.LVL73:
 597              		.loc 1 217 23 view .LVU157
 598 0078 0F4E     		ldr	r6, .L37
 599 007a F076     		strb	r0, [r6, #27]
 218:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 600              		.loc 1 218 5 is_stmt 1 view .LVU158
 601 007c 0195     		str	r5, [sp, #4]
 219:Core/Src/MQTTSim800.c **** 
 220:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 12, 2);
 602              		.loc 1 220 5 view .LVU159
 603 007e A389     		ldrh	r3, [r4, #12]	@ unaligned
 604 0080 ADF80430 		strh	r3, [sp, #4]	@ movhi
 221:Core/Src/MQTTSim800.c ****     myGPS.Time.Second = (uint8_t)strtol(str, NULL, 10);
 605              		.loc 1 221 5 view .LVU160
 606              		.loc 1 221 34 is_stmt 0 view .LVU161
 607 0084 0A22     		movs	r2, #10
 608 0086 2946     		mov	r1, r5
 609 0088 01A8     		add	r0, sp, #4
 610 008a FFF7FEFF 		bl	strtol
 611              	.LVL74:
 612              		.loc 1 221 23 view .LVU162
 613 008e 3077     		strb	r0, [r6, #28]
 222:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 16


 614              		.loc 1 222 5 is_stmt 1 view .LVU163
 615 0090 0195     		str	r5, [sp, #4]
 223:Core/Src/MQTTSim800.c **** 
 224:Core/Src/MQTTSim800.c **** }
 616              		.loc 1 224 1 is_stmt 0 view .LVU164
 617 0092 02B0     		add	sp, sp, #8
 618              	.LCFI5:
 619              		.cfi_remember_state
 620              		.cfi_def_cfa_offset 16
 621              		@ sp needed
 622 0094 70BD     		pop	{r4, r5, r6, pc}
 623              	.LVL75:
 624              	.L31:
 625              	.LCFI6:
 626              		.cfi_restore_state
 627              	.LBB4:
 207:Core/Src/MQTTSim800.c ****         {
 628              		.loc 1 207 36 is_stmt 1 discriminator 2 view .LVU165
 207:Core/Src/MQTTSim800.c ****         {
 629              		.loc 1 207 37 is_stmt 0 discriminator 2 view .LVU166
 630 0096 0132     		adds	r2, r2, #1
 631              	.LVL76:
 207:Core/Src/MQTTSim800.c ****         {
 632              		.loc 1 207 37 discriminator 2 view .LVU167
 633 0098 D2B2     		uxtb	r2, r2
 634              	.LVL77:
 635              	.L29:
 207:Core/Src/MQTTSim800.c ****         {
 636              		.loc 1 207 29 is_stmt 1 discriminator 1 view .LVU168
 207:Core/Src/MQTTSim800.c ****         {
 637              		.loc 1 207 9 is_stmt 0 discriminator 1 view .LVU169
 638 009a 062A     		cmp	r2, #6
 639 009c E2D8     		bhi	.L33
 209:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 640              		.loc 1 209 13 is_stmt 1 view .LVU170
 209:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 641              		.loc 1 209 23 is_stmt 0 view .LVU171
 642 009e 0649     		ldr	r1, .L37
 643 00a0 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 209:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 644              		.loc 1 209 28 view .LVU172
 645 00a2 0133     		adds	r3, r3, #1
 646 00a4 DBB2     		uxtb	r3, r3
 647 00a6 8B76     		strb	r3, [r1, #26]
 210:Core/Src/MQTTSim800.c ****         }
 648              		.loc 1 210 13 is_stmt 1 view .LVU173
 210:Core/Src/MQTTSim800.c ****         }
 649              		.loc 1 210 16 is_stmt 0 view .LVU174
 650 00a8 182B     		cmp	r3, #24
 651 00aa F4D1     		bne	.L31
 210:Core/Src/MQTTSim800.c ****         }
 652              		.loc 1 210 41 is_stmt 1 discriminator 1 view .LVU175
 210:Core/Src/MQTTSim800.c ****         }
 653              		.loc 1 210 57 is_stmt 0 discriminator 1 view .LVU176
 654 00ac 0B46     		mov	r3, r1
 655 00ae 0021     		movs	r1, #0
 656 00b0 9976     		strb	r1, [r3, #26]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 17


 657 00b2 F0E7     		b	.L31
 658              	.LVL78:
 659              	.L34:
 207:Core/Src/MQTTSim800.c ****         {
 660              		.loc 1 207 22 view .LVU177
 661 00b4 0022     		movs	r2, #0
 662 00b6 F0E7     		b	.L29
 663              	.L38:
 664              		.align	2
 665              	.L37:
 666 00b8 00000000 		.word	myGPS
 667              	.LBE4:
 668              		.cfi_endproc
 669              	.LFE77:
 671              		.section	.text.clearRxBuffer,"ax",%progbits
 672              		.align	1
 673              		.global	clearRxBuffer
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu softvfp
 679              	clearRxBuffer:
 680              	.LFB80:
 225:Core/Src/MQTTSim800.c **** 
 226:Core/Src/MQTTSim800.c **** void getBattery(void)
 227:Core/Src/MQTTSim800.c **** {
 228:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CBC\r\n";
 229:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 230:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 231:Core/Src/MQTTSim800.c **** 
 232:Core/Src/MQTTSim800.c ****     osDelay(1500);
 233:Core/Src/MQTTSim800.c **** 
 234:Core/Src/MQTTSim800.c ****     sscanf(mqtt_buffer, "+CBC: %*[^,],%i,%i", &SIM800_Batt.BattPerc, &SIM800_Batt.BattVol);
 235:Core/Src/MQTTSim800.c **** }
 236:Core/Src/MQTTSim800.c **** 
 237:Core/Src/MQTTSim800.c **** //-------------------------------------------------------------------------------------------------
 238:Core/Src/MQTTSim800.c **** 
 239:Core/Src/MQTTSim800.c **** /**
 240:Core/Src/MQTTSim800.c ****  * Call back function for release read SIM800 UART buffer.
 241:Core/Src/MQTTSim800.c ****  * @param NONE
 242:Core/Src/MQTTSim800.c ****  * @return NONE
 243:Core/Src/MQTTSim800.c ****  */
 244:Core/Src/MQTTSim800.c **** void Sim800_RxCallBack(void)
 245:Core/Src/MQTTSim800.c **** {
 246:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 247:Core/Src/MQTTSim800.c **** 
 248:Core/Src/MQTTSim800.c **** 
 249:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "\r\n") != NULL && rx_index == 2)
 250:Core/Src/MQTTSim800.c ****     {
 251:Core/Src/MQTTSim800.c ****         rx_index = 0;
 252:Core/Src/MQTTSim800.c ****     }
 253:Core/Src/MQTTSim800.c ****     else if ((strstr((char *)rx_buffer, "OK\r\n") != NULL) || (strstr((char *)rx_buffer, "ERROR\r\n
 254:Core/Src/MQTTSim800.c ****     {
 255:Core/Src/MQTTSim800.c ****         memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 256:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 257:Core/Src/MQTTSim800.c ****         if (strstr(mqtt_buffer, "ERROR") && (SIM800.mqttServer.connect == 1))
 258:Core/Src/MQTTSim800.c ****         {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 18


 259:Core/Src/MQTTSim800.c ****             SIM800.mqttServer.connect = 0;
 260:Core/Src/MQTTSim800.c ****         }
 261:Core/Src/MQTTSim800.c ****         else if (strstr(mqtt_buffer, "CONNECT"))
 262:Core/Src/MQTTSim800.c ****         {
 263:Core/Src/MQTTSim800.c ****             SIM800.mqttServer.connect = 1;
 264:Core/Src/MQTTSim800.c ****         }
 265:Core/Src/MQTTSim800.c ****     }
 266:Core/Src/MQTTSim800.c **** 
 267:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "CLOSED\r\n") || strstr((char *)rx_buffer, "DEACT\r\n"))
 268:Core/Src/MQTTSim800.c ****     {
 269:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 0;
 270:Core/Src/MQTTSim800.c ****     }
 271:Core/Src/MQTTSim800.c ****     // if (strstr((char*)rx_buffer, "SEND OK\r\n"))  
 272:Core/Src/MQTTSim800.c ****     // {
 273:Core/Src/MQTTSim800.c ****     //     SIM800.mqttServer.connect = 1;
 274:Core/Src/MQTTSim800.c ****     //     clearRxBuffer();
 275:Core/Src/MQTTSim800.c ****     // } 
 276:Core/Src/MQTTSim800.c ****     // if (SIM800.mqttServer.connect == 1 && rx_data == 48)
 277:Core/Src/MQTTSim800.c ****     // {
 278:Core/Src/MQTTSim800.c ****     //     mqtt_receive = 1;
 279:Core/Src/MQTTSim800.c ****     // }
 280:Core/Src/MQTTSim800.c ****     // if (mqtt_receive == 1)
 281:Core/Src/MQTTSim800.c ****     // {
 282:Core/Src/MQTTSim800.c ****     //     mqtt_buffer[mqtt_index++] = rx_data;
 283:Core/Src/MQTTSim800.c ****     //     if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 284:Core/Src/MQTTSim800.c ****     //     {
 285:Core/Src/MQTTSim800.c ****     //         //MQTT_Receive((unsigned char *)mqtt_buffer);
 286:Core/Src/MQTTSim800.c ****     //         clearRxBuffer();
 287:Core/Src/MQTTSim800.c ****     //         clearMqttBuffer();
 288:Core/Src/MQTTSim800.c ****     //     }
 289:Core/Src/MQTTSim800.c ****     //     if (mqtt_index >= sizeof(mqtt_buffer))
 290:Core/Src/MQTTSim800.c ****     //     {
 291:Core/Src/MQTTSim800.c ****     //         clearMqttBuffer();
 292:Core/Src/MQTTSim800.c ****     //     }
 293:Core/Src/MQTTSim800.c ****     // }
 294:Core/Src/MQTTSim800.c ****     if (rx_index >= sizeof(mqtt_buffer))
 295:Core/Src/MQTTSim800.c ****     {
 296:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 297:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 298:Core/Src/MQTTSim800.c ****     }
 299:Core/Src/MQTTSim800.c ****     if ((strstr((char *)rx_buffer, ">") != NULL) && (rx_index < 5))
 300:Core/Src/MQTTSim800.c ****     {
 301:Core/Src/MQTTSim800.c ****         memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 302:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 303:Core/Src/MQTTSim800.c ****     }
 304:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "+CMGS:") != NULL)
 305:Core/Src/MQTTSim800.c ****     {
 306:Core/Src/MQTTSim800.c ****         is_SMS_done = 1;
 307:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 308:Core/Src/MQTTSim800.c ****     }
 309:Core/Src/MQTTSim800.c **** 
 310:Core/Src/MQTTSim800.c ****     if((rx_data == '^') && (is_GPS == 0))
 311:Core/Src/MQTTSim800.c ****     {
 312:Core/Src/MQTTSim800.c ****         MQTT_Receive(rx_buffer);
 313:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 314:Core/Src/MQTTSim800.c ****     }
 315:Core/Src/MQTTSim800.c **** 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 19


 316:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 317:Core/Src/MQTTSim800.c **** }
 318:Core/Src/MQTTSim800.c **** 
 319:Core/Src/MQTTSim800.c **** /**
 320:Core/Src/MQTTSim800.c ****  * Clear SIM800 UART RX buffer.
 321:Core/Src/MQTTSim800.c ****  * @param NONE
 322:Core/Src/MQTTSim800.c ****  * @return NONE
 323:Core/Src/MQTTSim800.c ****  */
 324:Core/Src/MQTTSim800.c **** void clearRxBuffer(void)
 325:Core/Src/MQTTSim800.c **** {
 681              		.loc 1 325 1 is_stmt 1 view -0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 0
 684              		@ frame_needed = 0, uses_anonymous_args = 0
 685 0000 08B5     		push	{r3, lr}
 686              	.LCFI7:
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 3, -8
 689              		.cfi_offset 14, -4
 326:Core/Src/MQTTSim800.c ****     rx_index = 0;
 690              		.loc 1 326 5 view .LVU179
 691              		.loc 1 326 14 is_stmt 0 view .LVU180
 692 0002 0021     		movs	r1, #0
 693 0004 034B     		ldr	r3, .L41
 694 0006 1980     		strh	r1, [r3]	@ movhi
 327:Core/Src/MQTTSim800.c ****     memset(rx_buffer, 0, sizeof(rx_buffer));
 695              		.loc 1 327 5 is_stmt 1 view .LVU181
 696 0008 C822     		movs	r2, #200
 697 000a 0348     		ldr	r0, .L41+4
 698 000c FFF7FEFF 		bl	memset
 699              	.LVL79:
 328:Core/Src/MQTTSim800.c **** }
 700              		.loc 1 328 1 is_stmt 0 view .LVU182
 701 0010 08BD     		pop	{r3, pc}
 702              	.L42:
 703 0012 00BF     		.align	2
 704              	.L41:
 705 0014 00000000 		.word	.LANCHOR0
 706 0018 00000000 		.word	.LANCHOR1
 707              		.cfi_endproc
 708              	.LFE80:
 710              		.section	.rodata.getBattery.str1.4,"aMS",%progbits,1
 711              		.align	2
 712              	.LC2:
 713 0000 2B434243 		.ascii	"+CBC: %*[^,],%i,%i\000"
 713      3A20252A 
 713      5B5E2C5D 
 713      2C25692C 
 713      256900
 714              		.section	.text.getBattery,"ax",%progbits
 715              		.align	1
 716              		.global	getBattery
 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 720              		.fpu softvfp
 722              	getBattery:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 20


 723              	.LFB78:
 227:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CBC\r\n";
 724              		.loc 1 227 1 is_stmt 1 view -0
 725              		.cfi_startproc
 726              		@ args = 0, pretend = 0, frame = 16
 727              		@ frame_needed = 0, uses_anonymous_args = 0
 728 0000 00B5     		push	{lr}
 729              	.LCFI8:
 730              		.cfi_def_cfa_offset 4
 731              		.cfi_offset 14, -4
 732 0002 85B0     		sub	sp, sp, #20
 733              	.LCFI9:
 734              		.cfi_def_cfa_offset 24
 228:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 735              		.loc 1 228 5 view .LVU184
 228:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 736              		.loc 1 228 10 is_stmt 0 view .LVU185
 737 0004 104A     		ldr	r2, .L45
 738 0006 6B46     		mov	r3, sp
 739 0008 07CA     		ldm	r2, {r0, r1, r2}
 740 000a 03C3     		stmia	r3!, {r0, r1}
 741 000c 1A70     		strb	r2, [r3]
 742 000e 0023     		movs	r3, #0
 743 0010 CDF80930 		str	r3, [sp, #9]	@ unaligned
 744 0014 ADF80D30 		strh	r3, [sp, #13]	@ unaligned
 229:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 745              		.loc 1 229 5 is_stmt 1 view .LVU186
 746 0018 FFF7FEFF 		bl	clearRxBuffer
 747              	.LVL80:
 230:Core/Src/MQTTSim800.c **** 
 748              		.loc 1 230 5 view .LVU187
 230:Core/Src/MQTTSim800.c **** 
 749              		.loc 1 230 71 is_stmt 0 view .LVU188
 750 001c 6846     		mov	r0, sp
 751 001e FFF7FEFF 		bl	strlen
 752              	.LVL81:
 230:Core/Src/MQTTSim800.c **** 
 753              		.loc 1 230 5 view .LVU189
 754 0022 82B2     		uxth	r2, r0
 755 0024 6946     		mov	r1, sp
 756 0026 0948     		ldr	r0, .L45+4
 757 0028 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 758              	.LVL82:
 232:Core/Src/MQTTSim800.c **** 
 759              		.loc 1 232 5 is_stmt 1 view .LVU190
 760 002c 40F2DC50 		movw	r0, #1500
 761 0030 FFF7FEFF 		bl	osDelay
 762              	.LVL83:
 234:Core/Src/MQTTSim800.c **** }
 763              		.loc 1 234 5 view .LVU191
 764 0034 064A     		ldr	r2, .L45+8
 765 0036 931C     		adds	r3, r2, #2
 766 0038 0649     		ldr	r1, .L45+12
 767 003a 0748     		ldr	r0, .L45+16
 768 003c FFF7FEFF 		bl	sscanf
 769              	.LVL84:
 235:Core/Src/MQTTSim800.c **** 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 21


 770              		.loc 1 235 1 is_stmt 0 view .LVU192
 771 0040 05B0     		add	sp, sp, #20
 772              	.LCFI10:
 773              		.cfi_def_cfa_offset 4
 774              		@ sp needed
 775 0042 5DF804FB 		ldr	pc, [sp], #4
 776              	.L46:
 777 0046 00BF     		.align	2
 778              	.L45:
 779 0048 00000000 		.word	.LANCHOR2
 780 004c 00000000 		.word	huart1
 781 0050 00000000 		.word	.LANCHOR3
 782 0054 00000000 		.word	.LC2
 783 0058 00000000 		.word	.LANCHOR4
 784              		.cfi_endproc
 785              	.LFE78:
 787              		.section	.text.clearMqttBuffer,"ax",%progbits
 788              		.align	1
 789              		.global	clearMqttBuffer
 790              		.syntax unified
 791              		.thumb
 792              		.thumb_func
 793              		.fpu softvfp
 795              	clearMqttBuffer:
 796              	.LFB81:
 329:Core/Src/MQTTSim800.c **** 
 330:Core/Src/MQTTSim800.c **** /**
 331:Core/Src/MQTTSim800.c ****  * Clear MQTT buffer.
 332:Core/Src/MQTTSim800.c ****  * @param NONE
 333:Core/Src/MQTTSim800.c ****  * @return NONE
 334:Core/Src/MQTTSim800.c ****  */
 335:Core/Src/MQTTSim800.c **** void clearMqttBuffer(void)
 336:Core/Src/MQTTSim800.c **** {
 797              		.loc 1 336 1 is_stmt 1 view -0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801 0000 08B5     		push	{r3, lr}
 802              	.LCFI11:
 803              		.cfi_def_cfa_offset 8
 804              		.cfi_offset 3, -8
 805              		.cfi_offset 14, -4
 337:Core/Src/MQTTSim800.c ****     mqtt_receive = 0;
 806              		.loc 1 337 5 view .LVU194
 807              		.loc 1 337 18 is_stmt 0 view .LVU195
 808 0002 0021     		movs	r1, #0
 809 0004 044B     		ldr	r3, .L49
 810 0006 1970     		strb	r1, [r3]
 338:Core/Src/MQTTSim800.c ****     mqtt_index = 0;
 811              		.loc 1 338 5 is_stmt 1 view .LVU196
 812              		.loc 1 338 16 is_stmt 0 view .LVU197
 813 0008 044B     		ldr	r3, .L49+4
 814 000a 1980     		strh	r1, [r3]	@ movhi
 339:Core/Src/MQTTSim800.c ****     memset(mqtt_buffer, 0, sizeof(mqtt_buffer));
 815              		.loc 1 339 5 is_stmt 1 view .LVU198
 816 000c C822     		movs	r2, #200
 817 000e 0448     		ldr	r0, .L49+8
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 22


 818 0010 FFF7FEFF 		bl	memset
 819              	.LVL85:
 340:Core/Src/MQTTSim800.c **** }
 820              		.loc 1 340 1 is_stmt 0 view .LVU199
 821 0014 08BD     		pop	{r3, pc}
 822              	.L50:
 823 0016 00BF     		.align	2
 824              	.L49:
 825 0018 00000000 		.word	.LANCHOR5
 826 001c 00000000 		.word	.LANCHOR6
 827 0020 00000000 		.word	.LANCHOR4
 828              		.cfi_endproc
 829              	.LFE81:
 831              		.section	.rodata.getGPS.str1.4,"aMS",%progbits,1
 832              		.align	2
 833              	.LC4:
 834 0000 2B43474E 		.ascii	"+CGNSINF: %[^,],%[^,],%[^,],%[^,],%[^,],%*[^,],%*[^"
 834      53494E46 
 834      3A20255B 
 834      5E2C5D2C 
 834      255B5E2C 
 835 0033 2C5D2C25 		.ascii	",],%*[^,],%d,,%*[^,],%*[^,],%*[^,],,%d,%d,%d,,%*[^,"
 835      2A5B5E2C 
 835      5D2C2564 
 835      2C2C252A 
 835      5B5E2C5D 
 836 0066 5D2C252A 		.ascii	"],%*[^,],%*[^,]\000"
 836      5B5E2C5D 
 836      2C252A5B 
 836      5E2C5D00 
 837              		.section	.text.getGPS,"ax",%progbits
 838              		.align	1
 839              		.global	getGPS
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu softvfp
 845              	getGPS:
 846              	.LFB76:
 159:Core/Src/MQTTSim800.c ****     // SIM800_SendCommand("AT+CGNSINF\r\n", "", 1000);
 847              		.loc 1 159 1 is_stmt 1 view -0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 16
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851 0000 10B5     		push	{r4, lr}
 852              	.LCFI12:
 853              		.cfi_def_cfa_offset 8
 854              		.cfi_offset 4, -8
 855              		.cfi_offset 14, -4
 856 0002 8CB0     		sub	sp, sp, #48
 857              	.LCFI13:
 858              		.cfi_def_cfa_offset 56
 161:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CGNSINF\r\n";
 859              		.loc 1 161 5 view .LVU201
 161:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CGNSINF\r\n";
 860              		.loc 1 161 12 is_stmt 0 view .LVU202
 861 0004 294B     		ldr	r3, .L55
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 23


 862 0006 0122     		movs	r2, #1
 863 0008 1A70     		strb	r2, [r3]
 162:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 864              		.loc 1 162 5 is_stmt 1 view .LVU203
 162:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 865              		.loc 1 162 10 is_stmt 0 view .LVU204
 866 000a 0DF1200C 		add	ip, sp, #32
 867 000e 284B     		ldr	r3, .L55+4
 868 0010 0FCB     		ldm	r3, {r0, r1, r2, r3}
 869 0012 ACE80700 		stmia	ip!, {r0, r1, r2}
 870 0016 8CF80030 		strb	r3, [ip]
 871 001a 0023     		movs	r3, #0
 872 001c ADF82D30 		strh	r3, [sp, #45]	@ unaligned
 163:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 873              		.loc 1 163 5 is_stmt 1 view .LVU205
 874 0020 FFF7FEFF 		bl	clearRxBuffer
 875              	.LVL86:
 164:Core/Src/MQTTSim800.c **** 
 876              		.loc 1 164 5 view .LVU206
 164:Core/Src/MQTTSim800.c **** 
 877              		.loc 1 164 71 is_stmt 0 view .LVU207
 878 0024 08A8     		add	r0, sp, #32
 879 0026 FFF7FEFF 		bl	strlen
 880              	.LVL87:
 164:Core/Src/MQTTSim800.c **** 
 881              		.loc 1 164 5 view .LVU208
 882 002a 82B2     		uxth	r2, r0
 883 002c 08A9     		add	r1, sp, #32
 884 002e 2148     		ldr	r0, .L55+8
 885 0030 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 886              	.LVL88:
 166:Core/Src/MQTTSim800.c **** 
 887              		.loc 1 166 5 is_stmt 1 view .LVU209
 888 0034 4FF47A70 		mov	r0, #1000
 889 0038 FFF7FEFF 		bl	osDelay
 890              	.LVL89:
 168:Core/Src/MQTTSim800.c ****         &myGPS.GPS_Status, &myGPS.Fix_Status, myGPS.UTC_Time, myGPS.cLat, myGPS.cLon, \
 891              		.loc 1 168 5 view .LVU210
 892 003c 1E4B     		ldr	r3, .L55+12
 893 003e 5C1E     		subs	r4, r3, #1
 894 0040 03F13E02 		add	r2, r3, #62
 895 0044 0692     		str	r2, [sp, #24]
 896 0046 03F13D02 		add	r2, r3, #61
 897 004a 0592     		str	r2, [sp, #20]
 898 004c 03F13C02 		add	r2, r3, #60
 899 0050 0492     		str	r2, [sp, #16]
 900 0052 03F13B02 		add	r2, r3, #59
 901 0056 0392     		str	r2, [sp, #12]
 902 0058 03F12B02 		add	r2, r3, #43
 903 005c 0292     		str	r2, [sp, #8]
 904 005e 03F11D02 		add	r2, r3, #29
 905 0062 0192     		str	r2, [sp, #4]
 906 0064 5A1C     		adds	r2, r3, #1
 907 0066 0092     		str	r2, [sp]
 908 0068 2246     		mov	r2, r4
 909 006a 1449     		ldr	r1, .L55+16
 910 006c 1448     		ldr	r0, .L55+20
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 24


 911 006e FFF7FEFF 		bl	sscanf
 912              	.LVL90:
 172:Core/Src/MQTTSim800.c ****     {
 913              		.loc 1 172 5 view .LVU211
 172:Core/Src/MQTTSim800.c ****     {
 914              		.loc 1 172 14 is_stmt 0 view .LVU212
 915 0072 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 172:Core/Src/MQTTSim800.c ****     {
 916              		.loc 1 172 8 view .LVU213
 917 0074 012B     		cmp	r3, #1
 918 0076 09D0     		beq	.L54
 919              	.L52:
 178:Core/Src/MQTTSim800.c **** 
 920              		.loc 1 178 5 is_stmt 1 view .LVU214
 921 0078 1248     		ldr	r0, .L55+24
 922 007a FFF7FEFF 		bl	GPS_Time_Parse
 923              	.LVL91:
 180:Core/Src/MQTTSim800.c **** 
 924              		.loc 1 180 5 view .LVU215
 180:Core/Src/MQTTSim800.c **** 
 925              		.loc 1 180 12 is_stmt 0 view .LVU216
 926 007e 0B4B     		ldr	r3, .L55
 927 0080 0022     		movs	r2, #0
 928 0082 1A70     		strb	r2, [r3]
 182:Core/Src/MQTTSim800.c ****     // clearRxBuffer();
 929              		.loc 1 182 5 is_stmt 1 view .LVU217
 930 0084 FFF7FEFF 		bl	clearMqttBuffer
 931              	.LVL92:
 185:Core/Src/MQTTSim800.c **** 
 932              		.loc 1 185 1 is_stmt 0 view .LVU218
 933 0088 0CB0     		add	sp, sp, #48
 934              	.LCFI14:
 935              		.cfi_remember_state
 936              		.cfi_def_cfa_offset 8
 937              		@ sp needed
 938 008a 10BD     		pop	{r4, pc}
 939              	.L54:
 940              	.LCFI15:
 941              		.cfi_restore_state
 174:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 942              		.loc 1 174 9 is_stmt 1 view .LVU219
 174:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 943              		.loc 1 174 26 is_stmt 0 view .LVU220
 944 008c 1E34     		adds	r4, r4, #30
 945 008e 0621     		movs	r1, #6
 946 0090 2046     		mov	r0, r4
 947 0092 FFF7FEFF 		bl	str2float
 948              	.LVL93:
 174:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 949              		.loc 1 174 24 view .LVU221
 950 0096 C4F80A00 		str	r0, [r4, #10]	@ float
 175:Core/Src/MQTTSim800.c ****     }
 951              		.loc 1 175 9 is_stmt 1 view .LVU222
 175:Core/Src/MQTTSim800.c ****     }
 952              		.loc 1 175 27 is_stmt 0 view .LVU223
 953 009a 0621     		movs	r1, #6
 954 009c 04F10E00 		add	r0, r4, #14
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 25


 955 00a0 FFF7FEFF 		bl	str2float
 956              	.LVL94:
 175:Core/Src/MQTTSim800.c ****     }
 957              		.loc 1 175 25 view .LVU224
 958 00a4 C4F81A00 		str	r0, [r4, #26]	@ float
 959 00a8 E6E7     		b	.L52
 960              	.L56:
 961 00aa 00BF     		.align	2
 962              	.L55:
 963 00ac 00000000 		.word	.LANCHOR7
 964 00b0 10000000 		.word	.LANCHOR2+16
 965 00b4 00000000 		.word	huart1
 966 00b8 01000000 		.word	myGPS+1
 967 00bc 00000000 		.word	.LC4
 968 00c0 00000000 		.word	.LANCHOR4
 969 00c4 02000000 		.word	myGPS+2
 970              		.cfi_endproc
 971              	.LFE76:
 973              		.section	.text.SIM800_SendCommand,"ax",%progbits
 974              		.align	1
 975              		.global	SIM800_SendCommand
 976              		.syntax unified
 977              		.thumb
 978              		.thumb_func
 979              		.fpu softvfp
 981              	SIM800_SendCommand:
 982              	.LVL95:
 983              	.LFB82:
 341:Core/Src/MQTTSim800.c **** 
 342:Core/Src/MQTTSim800.c **** /**
 343:Core/Src/MQTTSim800.c ****  * Send AT command to SIM800 over UART.
 344:Core/Src/MQTTSim800.c ****  * @param command the command to be used the send AT command
 345:Core/Src/MQTTSim800.c ****  * @param reply to be used to set the correct answer to the command
 346:Core/Src/MQTTSim800.c ****  * @param delay to be used to the set pause to the reply
 347:Core/Src/MQTTSim800.c ****  * @return error, 0 is OK
 348:Core/Src/MQTTSim800.c ****  */
 349:Core/Src/MQTTSim800.c **** int SIM800_SendCommand(char *command, char *reply, uint16_t delay)
 350:Core/Src/MQTTSim800.c **** {
 984              		.loc 1 350 1 is_stmt 1 view -0
 985              		.cfi_startproc
 986              		@ args = 0, pretend = 0, frame = 0
 987              		@ frame_needed = 0, uses_anonymous_args = 0
 988              		.loc 1 350 1 is_stmt 0 view .LVU226
 989 0000 70B5     		push	{r4, r5, r6, lr}
 990              	.LCFI16:
 991              		.cfi_def_cfa_offset 16
 992              		.cfi_offset 4, -16
 993              		.cfi_offset 5, -12
 994              		.cfi_offset 6, -8
 995              		.cfi_offset 14, -4
 996 0002 0646     		mov	r6, r0
 997 0004 0C46     		mov	r4, r1
 998 0006 1546     		mov	r5, r2
 351:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)command, (uint16_t)strlen(command));
 999              		.loc 1 351 5 is_stmt 1 view .LVU227
 1000              		.loc 1 351 75 is_stmt 0 view .LVU228
 1001 0008 FFF7FEFF 		bl	strlen
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 26


 1002              	.LVL96:
 1003              		.loc 1 351 5 view .LVU229
 1004 000c 82B2     		uxth	r2, r0
 1005 000e 3146     		mov	r1, r6
 1006 0010 0948     		ldr	r0, .L61
 1007 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1008              	.LVL97:
 352:Core/Src/MQTTSim800.c **** 
 353:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 354:Core/Src/MQTTSim800.c ****     osDelay(delay);
 1009              		.loc 1 354 5 is_stmt 1 view .LVU230
 1010 0016 2846     		mov	r0, r5
 1011 0018 FFF7FEFF 		bl	osDelay
 1012              	.LVL98:
 355:Core/Src/MQTTSim800.c **** #else
 356:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 357:Core/Src/MQTTSim800.c **** #endif
 358:Core/Src/MQTTSim800.c **** 
 359:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 1013              		.loc 1 359 5 view .LVU231
 1014              		.loc 1 359 9 is_stmt 0 view .LVU232
 1015 001c 2146     		mov	r1, r4
 1016 001e 0748     		ldr	r0, .L61+4
 1017 0020 FFF7FEFF 		bl	strstr
 1018              	.LVL99:
 1019              		.loc 1 359 8 view .LVU233
 1020 0024 18B1     		cbz	r0, .L58
 360:Core/Src/MQTTSim800.c ****     {
 361:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 1021              		.loc 1 361 9 is_stmt 1 view .LVU234
 1022 0026 FFF7FEFF 		bl	clearRxBuffer
 1023              	.LVL100:
 362:Core/Src/MQTTSim800.c ****         return 0;
 1024              		.loc 1 362 9 view .LVU235
 1025              		.loc 1 362 16 is_stmt 0 view .LVU236
 1026 002a 0020     		movs	r0, #0
 1027              	.L57:
 363:Core/Src/MQTTSim800.c ****     }
 364:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 365:Core/Src/MQTTSim800.c ****     return 1;
 366:Core/Src/MQTTSim800.c **** }
 1028              		.loc 1 366 1 view .LVU237
 1029 002c 70BD     		pop	{r4, r5, r6, pc}
 1030              	.LVL101:
 1031              	.L58:
 364:Core/Src/MQTTSim800.c ****     return 1;
 1032              		.loc 1 364 5 is_stmt 1 view .LVU238
 1033 002e FFF7FEFF 		bl	clearRxBuffer
 1034              	.LVL102:
 365:Core/Src/MQTTSim800.c **** }
 1035              		.loc 1 365 5 view .LVU239
 365:Core/Src/MQTTSim800.c **** }
 1036              		.loc 1 365 12 is_stmt 0 view .LVU240
 1037 0032 0120     		movs	r0, #1
 1038 0034 FAE7     		b	.L57
 1039              	.L62:
 1040 0036 00BF     		.align	2
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 27


 1041              	.L61:
 1042 0038 00000000 		.word	huart1
 1043 003c 00000000 		.word	.LANCHOR4
 1044              		.cfi_endproc
 1045              	.LFE82:
 1047              		.section	.text.SIM800_SendMQTT,"ax",%progbits
 1048              		.align	1
 1049              		.global	SIM800_SendMQTT
 1050              		.syntax unified
 1051              		.thumb
 1052              		.thumb_func
 1053              		.fpu softvfp
 1055              	SIM800_SendMQTT:
 1056              	.LVL103:
 1057              	.LFB83:
 367:Core/Src/MQTTSim800.c **** 
 368:Core/Src/MQTTSim800.c **** /**
 369:Core/Src/MQTTSim800.c ****  * @brief 
 370:Core/Src/MQTTSim800.c ****  * Send MQTT command <packet> to broker over UART
 371:Core/Src/MQTTSim800.c ****  * @param mqtt the packet
 372:Core/Src/MQTTSim800.c ****  * @param len the length of the packet
 373:Core/Src/MQTTSim800.c ****  * @param reply expected reply
 374:Core/Src/MQTTSim800.c ****  * @param delay wait for reply
 375:Core/Src/MQTTSim800.c ****  * @return int 
 376:Core/Src/MQTTSim800.c ****  */
 377:Core/Src/MQTTSim800.c **** int SIM800_SendMQTT(char* mqtt, uint8_t len, char* reply, uint16_t delay)
 378:Core/Src/MQTTSim800.c **** {
 1058              		.loc 1 378 1 is_stmt 1 view -0
 1059              		.cfi_startproc
 1060              		@ args = 0, pretend = 0, frame = 0
 1061              		@ frame_needed = 0, uses_anonymous_args = 0
 1062              		.loc 1 378 1 is_stmt 0 view .LVU242
 1063 0000 38B5     		push	{r3, r4, r5, lr}
 1064              	.LCFI17:
 1065              		.cfi_def_cfa_offset 16
 1066              		.cfi_offset 3, -16
 1067              		.cfi_offset 4, -12
 1068              		.cfi_offset 5, -8
 1069              		.cfi_offset 14, -4
 1070 0002 1446     		mov	r4, r2
 1071 0004 1D46     		mov	r5, r3
 379:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)mqtt, (uint16_t)len);
 1072              		.loc 1 379 5 is_stmt 1 view .LVU243
 1073 0006 0A46     		mov	r2, r1
 1074              	.LVL104:
 1075              		.loc 1 379 5 is_stmt 0 view .LVU244
 1076 0008 0146     		mov	r1, r0
 1077              	.LVL105:
 1078              		.loc 1 379 5 view .LVU245
 1079 000a 0948     		ldr	r0, .L67
 1080              	.LVL106:
 1081              		.loc 1 379 5 view .LVU246
 1082 000c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1083              	.LVL107:
 380:Core/Src/MQTTSim800.c **** 
 381:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 382:Core/Src/MQTTSim800.c ****     osDelay(delay);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 28


 1084              		.loc 1 382 5 is_stmt 1 view .LVU247
 1085 0010 2846     		mov	r0, r5
 1086 0012 FFF7FEFF 		bl	osDelay
 1087              	.LVL108:
 383:Core/Src/MQTTSim800.c **** #else
 384:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 385:Core/Src/MQTTSim800.c **** #endif
 386:Core/Src/MQTTSim800.c **** 
 387:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 1088              		.loc 1 387 5 view .LVU248
 1089              		.loc 1 387 9 is_stmt 0 view .LVU249
 1090 0016 2146     		mov	r1, r4
 1091 0018 0648     		ldr	r0, .L67+4
 1092 001a FFF7FEFF 		bl	strstr
 1093              	.LVL109:
 1094              		.loc 1 387 8 view .LVU250
 1095 001e 18B1     		cbz	r0, .L64
 388:Core/Src/MQTTSim800.c ****     {
 389:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 1096              		.loc 1 389 9 is_stmt 1 view .LVU251
 1097 0020 FFF7FEFF 		bl	clearRxBuffer
 1098              	.LVL110:
 390:Core/Src/MQTTSim800.c ****         return 0;
 1099              		.loc 1 390 9 view .LVU252
 1100              		.loc 1 390 16 is_stmt 0 view .LVU253
 1101 0024 0020     		movs	r0, #0
 1102              	.L63:
 391:Core/Src/MQTTSim800.c ****     }
 392:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 393:Core/Src/MQTTSim800.c ****     return 1;
 394:Core/Src/MQTTSim800.c **** }
 1103              		.loc 1 394 1 view .LVU254
 1104 0026 38BD     		pop	{r3, r4, r5, pc}
 1105              	.LVL111:
 1106              	.L64:
 392:Core/Src/MQTTSim800.c ****     return 1;
 1107              		.loc 1 392 5 is_stmt 1 view .LVU255
 1108 0028 FFF7FEFF 		bl	clearRxBuffer
 1109              	.LVL112:
 393:Core/Src/MQTTSim800.c **** }
 1110              		.loc 1 393 5 view .LVU256
 393:Core/Src/MQTTSim800.c **** }
 1111              		.loc 1 393 12 is_stmt 0 view .LVU257
 1112 002c 0120     		movs	r0, #1
 1113 002e FAE7     		b	.L63
 1114              	.L68:
 1115              		.align	2
 1116              	.L67:
 1117 0030 00000000 		.word	huart1
 1118 0034 00000000 		.word	.LANCHOR4
 1119              		.cfi_endproc
 1120              	.LFE83:
 1122              		.section	.rodata.MQTT_Connect.str1.4,"aMS",%progbits,1
 1123              		.align	2
 1124              	.LC5:
 1125 0000 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\015\012\000"
 1125      49505354 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 29


 1125      4152543D 
 1125      22544350 
 1125      222C2225 
 1126 001e 0000     		.align	2
 1127              	.LC6:
 1128 0020 4F4B0D0A 		.ascii	"OK\015\012\000"
 1128      00
 1129 0025 000000   		.align	2
 1130              	.LC7:
 1131 0028 3E00     		.ascii	">\000"
 1132 002a 0000     		.align	2
 1133              	.LC8:
 1134 002c 41542B43 		.ascii	"AT+CIPSEND\015\012\000"
 1134      49505345 
 1134      4E440D0A 
 1134      00
 1135 0039 000000   		.align	2
 1136              	.LC9:
 1137 003c 00       		.ascii	"\000"
 1138              		.section	.text.MQTT_Connect,"ax",%progbits
 1139              		.align	1
 1140              		.global	MQTT_Connect
 1141              		.syntax unified
 1142              		.thumb
 1143              		.thumb_func
 1144              		.fpu softvfp
 1146              	MQTT_Connect:
 1147              	.LFB85:
 395:Core/Src/MQTTSim800.c **** 
 396:Core/Src/MQTTSim800.c **** /**
 397:Core/Src/MQTTSim800.c ****  * initialization SIM800.
 398:Core/Src/MQTTSim800.c ****  * @param NONE
 399:Core/Src/MQTTSim800.c ****  * @return error status, 0 - OK
 400:Core/Src/MQTTSim800.c ****  */
 401:Core/Src/MQTTSim800.c **** int MQTT_Init(void)
 402:Core/Src/MQTTSim800.c **** {
 403:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 404:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 405:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 406:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 407:Core/Src/MQTTSim800.c **** 
 408:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY);
 409:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 410:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CMGF=1\r\n", "OK\r\n", 1000);
 411:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "OK\r\n", CMD_DELAY);
 412:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 413:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 414:Core/Src/MQTTSim800.c **** 
 415:Core/Src/MQTTSim800.c ****     snprintf(str, sizeof(str), "AT+CSTT=\"%s\",\"%s\",\"%s\"\r\n", SIM800.sim.apn, SIM800.sim.apn_u
 416:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 417:Core/Src/MQTTSim800.c **** 
 418:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIICR\r\n", "OK\r\n", CMD_DELAY);
 419:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 420:Core/Src/MQTTSim800.c ****     if (error != 0)
 421:Core/Src/MQTTSim800.c ****     {   
 422:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 0;
 423:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 30


 424:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 425:Core/Src/MQTTSim800.c ****         return error;
 426:Core/Src/MQTTSim800.c ****     }
 427:Core/Src/MQTTSim800.c ****     else
 428:Core/Src/MQTTSim800.c ****     {   
 429:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 1;
 430:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 1;
 431:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 1;
 432:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 433:Core/Src/MQTTSim800.c ****         return error;
 434:Core/Src/MQTTSim800.c ****     }
 435:Core/Src/MQTTSim800.c ****     // return 0;
 436:Core/Src/MQTTSim800.c **** }
 437:Core/Src/MQTTSim800.c **** 
 438:Core/Src/MQTTSim800.c **** /**
 439:Core/Src/MQTTSim800.c ****  * Connect to MQTT server in Internet over TCP.
 440:Core/Src/MQTTSim800.c ****  * @param NONE
 441:Core/Src/MQTTSim800.c ****  * @return NONE
 442:Core/Src/MQTTSim800.c ****  */
 443:Core/Src/MQTTSim800.c **** void MQTT_Connect(void)
 444:Core/Src/MQTTSim800.c **** {
 1148              		.loc 1 444 1 is_stmt 1 view -0
 1149              		.cfi_startproc
 1150              		@ args = 0, pretend = 0, frame = 352
 1151              		@ frame_needed = 0, uses_anonymous_args = 0
 1152 0000 70B5     		push	{r4, r5, r6, lr}
 1153              	.LCFI18:
 1154              		.cfi_def_cfa_offset 16
 1155              		.cfi_offset 4, -16
 1156              		.cfi_offset 5, -12
 1157              		.cfi_offset 6, -8
 1158              		.cfi_offset 14, -4
 1159 0002 DAB0     		sub	sp, sp, #360
 1160              	.LCFI19:
 1161              		.cfi_def_cfa_offset 376
 445:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 0;
 1162              		.loc 1 445 5 view .LVU259
 1163              		.loc 1 445 33 is_stmt 0 view .LVU260
 1164 0004 354D     		ldr	r5, .L77
 1165 0006 0024     		movs	r4, #0
 1166 0008 85F82440 		strb	r4, [r5, #36]
 446:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 1167              		.loc 1 446 5 is_stmt 1 view .LVU261
 1168              		.loc 1 446 31 is_stmt 0 view .LVU262
 1169 000c AC74     		strb	r4, [r5, #18]
 447:Core/Src/MQTTSim800.c ****     char str1[128] = {0};
 1170              		.loc 1 447 5 is_stmt 1 view .LVU263
 1171              		.loc 1 447 10 is_stmt 0 view .LVU264
 1172 000e 3A94     		str	r4, [sp, #232]
 1173 0010 7C26     		movs	r6, #124
 1174 0012 3246     		mov	r2, r6
 1175 0014 2146     		mov	r1, r4
 1176 0016 3BA8     		add	r0, sp, #236
 1177 0018 FFF7FEFF 		bl	memset
 1178              	.LVL113:
 448:Core/Src/MQTTSim800.c ****     unsigned char buf[128] = {0};
 1179              		.loc 1 448 5 is_stmt 1 view .LVU265
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 31


 1180              		.loc 1 448 19 is_stmt 0 view .LVU266
 1181 001c 1A94     		str	r4, [sp, #104]
 1182 001e 3246     		mov	r2, r6
 1183 0020 2146     		mov	r1, r4
 1184 0022 1BA8     		add	r0, sp, #108
 1185 0024 FFF7FEFF 		bl	memset
 1186              	.LVL114:
 449:Core/Src/MQTTSim800.c ****     snprintf(str1, sizeof(str1), "AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\r\n", SIM800.mqttServer.host, S
 1187              		.loc 1 449 5 is_stmt 1 view .LVU267
 1188              		.loc 1 449 116 is_stmt 0 view .LVU268
 1189 0028 2B8A     		ldrh	r3, [r5, #16]
 1190              		.loc 1 449 5 view .LVU269
 1191 002a 0093     		str	r3, [sp]
 1192 002c EB68     		ldr	r3, [r5, #12]
 1193 002e 2C4A     		ldr	r2, .L77+4
 1194 0030 8021     		movs	r1, #128
 1195 0032 3AA8     		add	r0, sp, #232
 1196 0034 FFF7FEFF 		bl	snprintf
 1197              	.LVL115:
 450:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand(str1, "OK\r\n", CMD_DELAY) == 0)
 1198              		.loc 1 450 5 is_stmt 1 view .LVU270
 1199              		.loc 1 450 9 is_stmt 0 view .LVU271
 1200 0038 4FF4FA62 		mov	r2, #2000
 1201 003c 2949     		ldr	r1, .L77+8
 1202 003e 3AA8     		add	r0, sp, #232
 1203 0040 FFF7FEFF 		bl	SIM800_SendCommand
 1204              	.LVL116:
 1205              		.loc 1 450 8 view .LVU272
 1206 0044 08B9     		cbnz	r0, .L70
 451:Core/Src/MQTTSim800.c ****     {
 452:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 1;
 1207              		.loc 1 452 9 is_stmt 1 view .LVU273
 1208              		.loc 1 452 35 is_stmt 0 view .LVU274
 1209 0046 0122     		movs	r2, #1
 1210 0048 AA74     		strb	r2, [r5, #18]
 1211              	.L70:
 453:Core/Src/MQTTSim800.c ****     }
 454:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1) {SIM800_Status.MQTT = 1;}
 1212              		.loc 1 454 5 is_stmt 1 view .LVU275
 1213              		.loc 1 454 26 is_stmt 0 view .LVU276
 1214 004a 244B     		ldr	r3, .L77
 1215 004c 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 1216              		.loc 1 454 8 view .LVU277
 1217 004e 012B     		cmp	r3, #1
 1218 0050 0BD0     		beq	.L75
 455:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1219              		.loc 1 455 14 is_stmt 1 view .LVU278
 1220              		.loc 1 455 33 is_stmt 0 view .LVU279
 1221 0052 254B     		ldr	r3, .L77+12
 1222 0054 0022     		movs	r2, #0
 1223 0056 9A70     		strb	r2, [r3, #2]
 1224              	.L72:
 456:Core/Src/MQTTSim800.c **** 
 457:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 458:Core/Src/MQTTSim800.c ****     osDelay(200);
 1225              		.loc 1 458 5 is_stmt 1 view .LVU280
 1226 0058 C820     		movs	r0, #200
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 32


 1227 005a FFF7FEFF 		bl	osDelay
 1228              	.LVL117:
 459:Core/Src/MQTTSim800.c **** #else
 460:Core/Src/MQTTSim800.c ****     HAL_Delay(5000);
 461:Core/Src/MQTTSim800.c **** #endif
 462:Core/Src/MQTTSim800.c **** 
 463:Core/Src/MQTTSim800.c ****     if (SIM800_Status.MQTT == 1)
 1229              		.loc 1 463 5 view .LVU281
 1230              		.loc 1 463 22 is_stmt 0 view .LVU282
 1231 005e 224B     		ldr	r3, .L77+12
 1232 0060 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1233              		.loc 1 463 8 view .LVU283
 1234 0062 012B     		cmp	r3, #1
 1235 0064 05D0     		beq	.L76
 1236              	.L69:
 464:Core/Src/MQTTSim800.c ****     {
 465:Core/Src/MQTTSim800.c ****         char temp[1]= {26};
 466:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 467:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 468:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 469:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 470:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 471:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 472:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 473:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 474:Core/Src/MQTTSim800.c ****         osDelay(200);
 475:Core/Src/MQTTSim800.c ****         SIM800_SendMQTT((char*)buf, mqtt_len, "", CMD_DELAY);
 476:Core/Src/MQTTSim800.c ****         osDelay(200);
 477:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 478:Core/Src/MQTTSim800.c **** 
 479:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 480:Core/Src/MQTTSim800.c ****         osDelay(3000);
 481:Core/Src/MQTTSim800.c **** #else
 482:Core/Src/MQTTSim800.c ****         HAL_Delay(3000);
 483:Core/Src/MQTTSim800.c **** #endif
 484:Core/Src/MQTTSim800.c ****     }
 485:Core/Src/MQTTSim800.c **** }
 1237              		.loc 1 485 1 view .LVU284
 1238 0066 5AB0     		add	sp, sp, #360
 1239              	.LCFI20:
 1240              		.cfi_remember_state
 1241              		.cfi_def_cfa_offset 16
 1242              		@ sp needed
 1243 0068 70BD     		pop	{r4, r5, r6, pc}
 1244              	.L75:
 1245              	.LCFI21:
 1246              		.cfi_restore_state
 454:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1247              		.loc 1 454 42 is_stmt 1 discriminator 1 view .LVU285
 454:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1248              		.loc 1 454 61 is_stmt 0 discriminator 1 view .LVU286
 1249 006a 1F4B     		ldr	r3, .L77+12
 1250 006c 0122     		movs	r2, #1
 1251 006e 9A70     		strb	r2, [r3, #2]
 1252 0070 F2E7     		b	.L72
 1253              	.L76:
 1254              	.LBB5:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 33


 465:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 1255              		.loc 1 465 9 is_stmt 1 view .LVU287
 465:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 1256              		.loc 1 465 14 is_stmt 0 view .LVU288
 1257 0072 1A23     		movs	r3, #26
 1258 0074 8DF80C30 		strb	r3, [sp, #12]
 466:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 1259              		.loc 1 466 9 is_stmt 1 view .LVU289
 466:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 1260              		.loc 1 466 32 is_stmt 0 view .LVU290
 1261 0078 5822     		movs	r2, #88
 1262 007a 1C49     		ldr	r1, .L77+16
 1263 007c 04A8     		add	r0, sp, #16
 1264 007e FFF7FEFF 		bl	memcpy
 1265              	.LVL118:
 467:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 1266              		.loc 1 467 9 is_stmt 1 view .LVU291
 467:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 1267              		.loc 1 467 51 is_stmt 0 view .LVU292
 1268 0082 164B     		ldr	r3, .L77
 1269 0084 5A69     		ldr	r2, [r3, #20]
 467:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 1270              		.loc 1 467 32 view .LVU293
 1271 0086 1492     		str	r2, [sp, #80]
 468:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1272              		.loc 1 468 9 is_stmt 1 view .LVU294
 468:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1273              		.loc 1 468 51 is_stmt 0 view .LVU295
 1274 0088 9A69     		ldr	r2, [r3, #24]
 468:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1275              		.loc 1 468 32 view .LVU296
 1276 008a 1792     		str	r2, [sp, #92]
 469:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1277              		.loc 1 469 9 is_stmt 1 view .LVU297
 469:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1278              		.loc 1 469 51 is_stmt 0 view .LVU298
 1279 008c DA69     		ldr	r2, [r3, #28]
 469:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1280              		.loc 1 469 32 view .LVU299
 1281 008e 0792     		str	r2, [sp, #28]
 470:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1282              		.loc 1 470 9 is_stmt 1 view .LVU300
 470:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1283              		.loc 1 470 52 is_stmt 0 view .LVU301
 1284 0090 1B8C     		ldrh	r3, [r3, #32]
 470:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1285              		.loc 1 470 33 view .LVU302
 1286 0092 ADF82830 		strh	r3, [sp, #40]	@ movhi
 471:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 1287              		.loc 1 471 9 is_stmt 1 view .LVU303
 472:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1288              		.loc 1 472 9 view .LVU304
 472:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1289              		.loc 1 472 24 is_stmt 0 view .LVU305
 1290 0096 04AA     		add	r2, sp, #16
 1291 0098 8021     		movs	r1, #128
 1292 009a 1AA8     		add	r0, sp, #104
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 34


 1293 009c FFF7FEFF 		bl	MQTTSerialize_connect
 1294              	.LVL119:
 1295 00a0 0446     		mov	r4, r0
 1296              	.LVL120:
 473:Core/Src/MQTTSim800.c ****         osDelay(200);
 1297              		.loc 1 473 9 is_stmt 1 view .LVU306
 1298 00a2 4FF4FA62 		mov	r2, #2000
 1299 00a6 1249     		ldr	r1, .L77+20
 1300 00a8 1248     		ldr	r0, .L77+24
 1301              	.LVL121:
 473:Core/Src/MQTTSim800.c ****         osDelay(200);
 1302              		.loc 1 473 9 is_stmt 0 view .LVU307
 1303 00aa FFF7FEFF 		bl	SIM800_SendCommand
 1304              	.LVL122:
 474:Core/Src/MQTTSim800.c ****         SIM800_SendMQTT((char*)buf, mqtt_len, "", CMD_DELAY);
 1305              		.loc 1 474 9 is_stmt 1 view .LVU308
 1306 00ae C820     		movs	r0, #200
 1307 00b0 FFF7FEFF 		bl	osDelay
 1308              	.LVL123:
 475:Core/Src/MQTTSim800.c ****         osDelay(200);
 1309              		.loc 1 475 9 view .LVU309
 1310 00b4 4FF4FA63 		mov	r3, #2000
 1311 00b8 0F4A     		ldr	r2, .L77+28
 1312 00ba E1B2     		uxtb	r1, r4
 1313 00bc 1AA8     		add	r0, sp, #104
 1314 00be FFF7FEFF 		bl	SIM800_SendMQTT
 1315              	.LVL124:
 476:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 1316              		.loc 1 476 9 view .LVU310
 1317 00c2 C820     		movs	r0, #200
 1318 00c4 FFF7FEFF 		bl	osDelay
 1319              	.LVL125:
 477:Core/Src/MQTTSim800.c **** 
 1320              		.loc 1 477 9 view .LVU311
 1321 00c8 0122     		movs	r2, #1
 1322 00ca 03A9     		add	r1, sp, #12
 1323 00cc 0B48     		ldr	r0, .L77+32
 1324 00ce FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1325              	.LVL126:
 480:Core/Src/MQTTSim800.c **** #else
 1326              		.loc 1 480 9 view .LVU312
 1327 00d2 40F6B830 		movw	r0, #3000
 1328 00d6 FFF7FEFF 		bl	osDelay
 1329              	.LVL127:
 1330              	.LBE5:
 1331              		.loc 1 485 1 is_stmt 0 view .LVU313
 1332 00da C4E7     		b	.L69
 1333              	.L78:
 1334              		.align	2
 1335              	.L77:
 1336 00dc 00000000 		.word	SIM800
 1337 00e0 00000000 		.word	.LC5
 1338 00e4 20000000 		.word	.LC6
 1339 00e8 00000000 		.word	.LANCHOR8
 1340 00ec 20000000 		.word	.LANCHOR2+32
 1341 00f0 28000000 		.word	.LC7
 1342 00f4 2C000000 		.word	.LC8
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 35


 1343 00f8 3C000000 		.word	.LC9
 1344 00fc 00000000 		.word	huart1
 1345              		.cfi_endproc
 1346              	.LFE85:
 1348              		.section	.rodata.MQTT_Init.str1.4,"aMS",%progbits,1
 1349              		.align	2
 1350              	.LC10:
 1351 0000 41540D0A 		.ascii	"AT\015\012\000"
 1351      00
 1352 0005 000000   		.align	2
 1353              	.LC11:
 1354 0008 41544530 		.ascii	"ATE0\015\012\000"
 1354      0D0A00
 1355 000f 00       		.align	2
 1356              	.LC12:
 1357 0010 41542B43 		.ascii	"AT+CMGF=1\015\012\000"
 1357      4D47463D 
 1357      310D0A00 
 1358              		.align	2
 1359              	.LC13:
 1360 001c 41542B43 		.ascii	"AT+CIPSHUT\015\012\000"
 1360      49505348 
 1360      55540D0A 
 1360      00
 1361 0029 000000   		.align	2
 1362              	.LC14:
 1363 002c 41542B43 		.ascii	"AT+CGATT=1\015\012\000"
 1363      47415454 
 1363      3D310D0A 
 1363      00
 1364 0039 000000   		.align	2
 1365              	.LC15:
 1366 003c 41542B43 		.ascii	"AT+CIPMODE=0\015\012\000"
 1366      49504D4F 
 1366      44453D30 
 1366      0D0A00
 1367 004b 00       		.align	2
 1368              	.LC16:
 1369 004c 41542B43 		.ascii	"AT+CSTT=\"%s\",\"%s\",\"%s\"\015\012\000"
 1369      5354543D 
 1369      22257322 
 1369      2C222573 
 1369      222C2225 
 1370 0065 000000   		.align	2
 1371              	.LC17:
 1372 0068 41542B43 		.ascii	"AT+CIICR\015\012\000"
 1372      49494352 
 1372      0D0A00
 1373 0073 00       		.align	2
 1374              	.LC18:
 1375 0074 41542B43 		.ascii	"AT+CIFSR\015\012\000"
 1375      49465352 
 1375      0D0A00
 1376              		.section	.text.MQTT_Init,"ax",%progbits
 1377              		.align	1
 1378              		.global	MQTT_Init
 1379              		.syntax unified
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 36


 1380              		.thumb
 1381              		.thumb_func
 1382              		.fpu softvfp
 1384              	MQTT_Init:
 1385              	.LFB84:
 402:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 1386              		.loc 1 402 1 is_stmt 1 view -0
 1387              		.cfi_startproc
 1388              		@ args = 0, pretend = 0, frame = 40
 1389              		@ frame_needed = 0, uses_anonymous_args = 0
 1390 0000 30B5     		push	{r4, r5, lr}
 1391              	.LCFI22:
 1392              		.cfi_def_cfa_offset 12
 1393              		.cfi_offset 4, -12
 1394              		.cfi_offset 5, -8
 1395              		.cfi_offset 14, -4
 1396 0002 8DB0     		sub	sp, sp, #52
 1397              	.LCFI23:
 1398              		.cfi_def_cfa_offset 64
 403:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1399              		.loc 1 403 5 view .LVU315
 403:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1400              		.loc 1 403 31 is_stmt 0 view .LVU316
 1401 0004 374D     		ldr	r5, .L83
 1402 0006 0023     		movs	r3, #0
 1403 0008 AB74     		strb	r3, [r5, #18]
 404:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1404              		.loc 1 404 5 is_stmt 1 view .LVU317
 404:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1405              		.loc 1 404 18 is_stmt 0 view .LVU318
 1406 000a 0B93     		str	r3, [sp, #44]
 405:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1407              		.loc 1 405 5 is_stmt 1 view .LVU319
 405:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1408              		.loc 1 405 10 is_stmt 0 view .LVU320
 1409 000c 0393     		str	r3, [sp, #12]
 1410 000e 0493     		str	r3, [sp, #16]
 1411 0010 0593     		str	r3, [sp, #20]
 1412 0012 0693     		str	r3, [sp, #24]
 1413 0014 0793     		str	r3, [sp, #28]
 1414 0016 0893     		str	r3, [sp, #32]
 1415 0018 0993     		str	r3, [sp, #36]
 1416 001a 0A93     		str	r3, [sp, #40]
 408:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 1417              		.loc 1 408 5 is_stmt 1 view .LVU321
 1418 001c 324C     		ldr	r4, .L83+4
 1419 001e 4FF4FA62 		mov	r2, #2000
 1420 0022 2146     		mov	r1, r4
 1421 0024 3148     		ldr	r0, .L83+8
 1422 0026 FFF7FEFF 		bl	SIM800_SendCommand
 1423              	.LVL128:
 409:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CMGF=1\r\n", "OK\r\n", 1000);
 1424              		.loc 1 409 5 view .LVU322
 1425 002a 4FF4FA62 		mov	r2, #2000
 1426 002e 2146     		mov	r1, r4
 1427 0030 2F48     		ldr	r0, .L83+12
 1428 0032 FFF7FEFF 		bl	SIM800_SendCommand
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 37


 1429              	.LVL129:
 410:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "OK\r\n", CMD_DELAY);
 1430              		.loc 1 410 5 view .LVU323
 1431 0036 4FF47A72 		mov	r2, #1000
 1432 003a 2146     		mov	r1, r4
 1433 003c 2D48     		ldr	r0, .L83+16
 1434 003e FFF7FEFF 		bl	SIM800_SendCommand
 1435              	.LVL130:
 411:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1436              		.loc 1 411 5 view .LVU324
 411:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1437              		.loc 1 411 14 is_stmt 0 view .LVU325
 1438 0042 4FF4FA62 		mov	r2, #2000
 1439 0046 2146     		mov	r1, r4
 1440 0048 2B48     		ldr	r0, .L83+20
 1441 004a FFF7FEFF 		bl	SIM800_SendCommand
 1442              	.LVL131:
 411:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1443              		.loc 1 411 11 view .LVU326
 1444 004e 0B9B     		ldr	r3, [sp, #44]
 1445 0050 0344     		add	r3, r3, r0
 1446 0052 0B93     		str	r3, [sp, #44]
 412:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1447              		.loc 1 412 5 is_stmt 1 view .LVU327
 412:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1448              		.loc 1 412 14 is_stmt 0 view .LVU328
 1449 0054 4FF4FA62 		mov	r2, #2000
 1450 0058 2146     		mov	r1, r4
 1451 005a 2848     		ldr	r0, .L83+24
 1452 005c FFF7FEFF 		bl	SIM800_SendCommand
 1453              	.LVL132:
 412:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1454              		.loc 1 412 11 view .LVU329
 1455 0060 0B9B     		ldr	r3, [sp, #44]
 1456 0062 0344     		add	r3, r3, r0
 1457 0064 0B93     		str	r3, [sp, #44]
 413:Core/Src/MQTTSim800.c **** 
 1458              		.loc 1 413 5 is_stmt 1 view .LVU330
 413:Core/Src/MQTTSim800.c **** 
 1459              		.loc 1 413 14 is_stmt 0 view .LVU331
 1460 0066 4FF4FA62 		mov	r2, #2000
 1461 006a 2146     		mov	r1, r4
 1462 006c 2448     		ldr	r0, .L83+28
 1463 006e FFF7FEFF 		bl	SIM800_SendCommand
 1464              	.LVL133:
 413:Core/Src/MQTTSim800.c **** 
 1465              		.loc 1 413 11 view .LVU332
 1466 0072 0B9B     		ldr	r3, [sp, #44]
 1467 0074 0344     		add	r3, r3, r0
 1468 0076 0B93     		str	r3, [sp, #44]
 415:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 1469              		.loc 1 415 5 is_stmt 1 view .LVU333
 1470 0078 AB68     		ldr	r3, [r5, #8]
 1471 007a 0193     		str	r3, [sp, #4]
 1472 007c 6B68     		ldr	r3, [r5, #4]
 1473 007e 0093     		str	r3, [sp]
 1474 0080 2B68     		ldr	r3, [r5]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 38


 1475 0082 204A     		ldr	r2, .L83+32
 1476 0084 2021     		movs	r1, #32
 1477 0086 03A8     		add	r0, sp, #12
 1478 0088 FFF7FEFF 		bl	snprintf
 1479              	.LVL134:
 416:Core/Src/MQTTSim800.c **** 
 1480              		.loc 1 416 5 view .LVU334
 416:Core/Src/MQTTSim800.c **** 
 1481              		.loc 1 416 14 is_stmt 0 view .LVU335
 1482 008c 4FF4FA62 		mov	r2, #2000
 1483 0090 2146     		mov	r1, r4
 1484 0092 03A8     		add	r0, sp, #12
 1485 0094 FFF7FEFF 		bl	SIM800_SendCommand
 1486              	.LVL135:
 416:Core/Src/MQTTSim800.c **** 
 1487              		.loc 1 416 11 view .LVU336
 1488 0098 0B9B     		ldr	r3, [sp, #44]
 1489 009a 0344     		add	r3, r3, r0
 1490 009c 0B93     		str	r3, [sp, #44]
 418:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1491              		.loc 1 418 5 is_stmt 1 view .LVU337
 418:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1492              		.loc 1 418 14 is_stmt 0 view .LVU338
 1493 009e 4FF4FA62 		mov	r2, #2000
 1494 00a2 2146     		mov	r1, r4
 1495 00a4 1848     		ldr	r0, .L83+36
 1496 00a6 FFF7FEFF 		bl	SIM800_SendCommand
 1497              	.LVL136:
 418:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1498              		.loc 1 418 11 view .LVU339
 1499 00aa 0B9B     		ldr	r3, [sp, #44]
 1500 00ac 0344     		add	r3, r3, r0
 1501 00ae 0B93     		str	r3, [sp, #44]
 419:Core/Src/MQTTSim800.c ****     if (error != 0)
 1502              		.loc 1 419 5 is_stmt 1 view .LVU340
 1503 00b0 4FF4FA62 		mov	r2, #2000
 1504 00b4 1549     		ldr	r1, .L83+40
 1505 00b6 1648     		ldr	r0, .L83+44
 1506 00b8 FFF7FEFF 		bl	SIM800_SendCommand
 1507              	.LVL137:
 420:Core/Src/MQTTSim800.c ****     {   
 1508              		.loc 1 420 5 view .LVU341
 420:Core/Src/MQTTSim800.c ****     {   
 1509              		.loc 1 420 15 is_stmt 0 view .LVU342
 1510 00bc 0B9B     		ldr	r3, [sp, #44]
 420:Core/Src/MQTTSim800.c ****     {   
 1511              		.loc 1 420 8 view .LVU343
 1512 00be 3BB1     		cbz	r3, .L80
 422:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1513              		.loc 1 422 9 is_stmt 1 view .LVU344
 422:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1514              		.loc 1 422 27 is_stmt 0 view .LVU345
 1515 00c0 144B     		ldr	r3, .L83+48
 1516 00c2 0022     		movs	r2, #0
 1517 00c4 1A70     		strb	r2, [r3]
 423:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1518              		.loc 1 423 9 is_stmt 1 view .LVU346
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 39


 423:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1519              		.loc 1 423 28 is_stmt 0 view .LVU347
 1520 00c6 5A70     		strb	r2, [r3, #1]
 424:Core/Src/MQTTSim800.c ****         return error;
 1521              		.loc 1 424 9 is_stmt 1 view .LVU348
 424:Core/Src/MQTTSim800.c ****         return error;
 1522              		.loc 1 424 28 is_stmt 0 view .LVU349
 1523 00c8 9A70     		strb	r2, [r3, #2]
 425:Core/Src/MQTTSim800.c ****     }
 1524              		.loc 1 425 9 is_stmt 1 view .LVU350
 425:Core/Src/MQTTSim800.c ****     }
 1525              		.loc 1 425 16 is_stmt 0 view .LVU351
 1526 00ca 0B98     		ldr	r0, [sp, #44]
 1527              	.L79:
 436:Core/Src/MQTTSim800.c **** 
 1528              		.loc 1 436 1 view .LVU352
 1529 00cc 0DB0     		add	sp, sp, #52
 1530              	.LCFI24:
 1531              		.cfi_remember_state
 1532              		.cfi_def_cfa_offset 12
 1533              		@ sp needed
 1534 00ce 30BD     		pop	{r4, r5, pc}
 1535              	.L80:
 1536              	.LCFI25:
 1537              		.cfi_restore_state
 429:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 1;
 1538              		.loc 1 429 9 is_stmt 1 view .LVU353
 429:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 1;
 1539              		.loc 1 429 28 is_stmt 0 view .LVU354
 1540 00d0 104B     		ldr	r3, .L83+48
 1541 00d2 0122     		movs	r2, #1
 1542 00d4 9A70     		strb	r2, [r3, #2]
 430:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 1;
 1543              		.loc 1 430 9 is_stmt 1 view .LVU355
 430:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 1;
 1544              		.loc 1 430 27 is_stmt 0 view .LVU356
 1545 00d6 1A70     		strb	r2, [r3]
 431:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1546              		.loc 1 431 9 is_stmt 1 view .LVU357
 431:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1547              		.loc 1 431 28 is_stmt 0 view .LVU358
 1548 00d8 5A70     		strb	r2, [r3, #1]
 432:Core/Src/MQTTSim800.c ****         return error;
 1549              		.loc 1 432 9 is_stmt 1 view .LVU359
 1550 00da FFF7FEFF 		bl	MQTT_Connect
 1551              	.LVL138:
 433:Core/Src/MQTTSim800.c ****     }
 1552              		.loc 1 433 9 view .LVU360
 433:Core/Src/MQTTSim800.c ****     }
 1553              		.loc 1 433 16 is_stmt 0 view .LVU361
 1554 00de 0B98     		ldr	r0, [sp, #44]
 1555 00e0 F4E7     		b	.L79
 1556              	.L84:
 1557 00e2 00BF     		.align	2
 1558              	.L83:
 1559 00e4 00000000 		.word	SIM800
 1560 00e8 20000000 		.word	.LC6
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 40


 1561 00ec 00000000 		.word	.LC10
 1562 00f0 08000000 		.word	.LC11
 1563 00f4 10000000 		.word	.LC12
 1564 00f8 1C000000 		.word	.LC13
 1565 00fc 2C000000 		.word	.LC14
 1566 0100 3C000000 		.word	.LC15
 1567 0104 4C000000 		.word	.LC16
 1568 0108 68000000 		.word	.LC17
 1569 010c 3C000000 		.word	.LC9
 1570 0110 74000000 		.word	.LC18
 1571 0114 00000000 		.word	.LANCHOR8
 1572              		.cfi_endproc
 1573              	.LFE84:
 1575              		.section	.text.MQTT_Pub,"ax",%progbits
 1576              		.align	1
 1577              		.global	MQTT_Pub
 1578              		.syntax unified
 1579              		.thumb
 1580              		.thumb_func
 1581              		.fpu softvfp
 1583              	MQTT_Pub:
 1584              	.LVL139:
 1585              	.LFB86:
 486:Core/Src/MQTTSim800.c **** 
 487:Core/Src/MQTTSim800.c **** /**
 488:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 489:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 490:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 491:Core/Src/MQTTSim800.c ****  * @return NONE
 492:Core/Src/MQTTSim800.c ****  */
 493:Core/Src/MQTTSim800.c **** void MQTT_Pub(char *topic, char *payload)
 494:Core/Src/MQTTSim800.c **** {
 1586              		.loc 1 494 1 is_stmt 1 view -0
 1587              		.cfi_startproc
 1588              		@ args = 0, pretend = 0, frame = 272
 1589              		@ frame_needed = 0, uses_anonymous_args = 0
 1590              		.loc 1 494 1 is_stmt 0 view .LVU363
 1591 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1592              	.LCFI26:
 1593              		.cfi_def_cfa_offset 20
 1594              		.cfi_offset 4, -20
 1595              		.cfi_offset 5, -16
 1596              		.cfi_offset 6, -12
 1597              		.cfi_offset 7, -8
 1598              		.cfi_offset 14, -4
 1599 0002 CDB0     		sub	sp, sp, #308
 1600              	.LCFI27:
 1601              		.cfi_def_cfa_offset 328
 1602 0004 0746     		mov	r7, r0
 1603 0006 0E46     		mov	r6, r1
 495:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 1604              		.loc 1 495 5 is_stmt 1 view .LVU364
 1605              		.loc 1 495 19 is_stmt 0 view .LVU365
 1606 0008 0024     		movs	r4, #0
 1607 000a 0C94     		str	r4, [sp, #48]
 1608 000c FC22     		movs	r2, #252
 1609 000e 2146     		mov	r1, r4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 41


 1610              	.LVL140:
 1611              		.loc 1 495 19 view .LVU366
 1612 0010 0DA8     		add	r0, sp, #52
 1613              	.LVL141:
 1614              		.loc 1 495 19 view .LVU367
 1615 0012 FFF7FEFF 		bl	memset
 1616              	.LVL142:
 496:Core/Src/MQTTSim800.c ****     char temp[1]= {26};
 1617              		.loc 1 496 5 is_stmt 1 view .LVU368
 1618              		.loc 1 496 10 is_stmt 0 view .LVU369
 1619 0016 1A23     		movs	r3, #26
 1620 0018 8DF82C30 		strb	r3, [sp, #44]
 497:Core/Src/MQTTSim800.c **** 
 498:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 1621              		.loc 1 498 5 is_stmt 1 view .LVU370
 1622              		.loc 1 498 16 is_stmt 0 view .LVU371
 1623 001c 08AD     		add	r5, sp, #32
 1624 001e 0894     		str	r4, [sp, #32]
 1625 0020 0994     		str	r4, [sp, #36]
 1626 0022 0A94     		str	r4, [sp, #40]
 499:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 1627              		.loc 1 499 5 is_stmt 1 view .LVU372
 1628              		.loc 1 499 25 is_stmt 0 view .LVU373
 1629 0024 0897     		str	r7, [sp, #32]
 500:Core/Src/MQTTSim800.c **** 
 501:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_publish(buf, sizeof(buf), 0, 0, 1, 0,
 1630              		.loc 1 501 5 is_stmt 1 view .LVU374
 502:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1631              		.loc 1 502 86 is_stmt 0 view .LVU375
 1632 0026 3046     		mov	r0, r6
 1633 0028 FFF7FEFF 		bl	strlen
 1634              	.LVL143:
 501:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1635              		.loc 1 501 20 view .LVU376
 1636 002c 0690     		str	r0, [sp, #24]
 1637 002e 0596     		str	r6, [sp, #20]
 1638 0030 02AB     		add	r3, sp, #8
 1639 0032 95E80700 		ldm	r5, {r0, r1, r2}
 1640 0036 83E80700 		stm	r3, {r0, r1, r2}
 1641 003a 0194     		str	r4, [sp, #4]
 1642 003c 0125     		movs	r5, #1
 1643 003e 0095     		str	r5, [sp]
 1644 0040 2346     		mov	r3, r4
 1645 0042 4FF48071 		mov	r1, #256
 1646 0046 0CA8     		add	r0, sp, #48
 1647 0048 FFF7FEFF 		bl	MQTTSerialize_publish
 1648              	.LVL144:
 1649 004c 0446     		mov	r4, r0
 1650              	.LVL145:
 503:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", 1000);
 1651              		.loc 1 503 5 is_stmt 1 view .LVU377
 1652 004e 4FF47A72 		mov	r2, #1000
 1653 0052 0D49     		ldr	r1, .L87
 1654 0054 0D48     		ldr	r0, .L87+4
 1655              	.LVL146:
 1656              		.loc 1 503 5 is_stmt 0 view .LVU378
 1657 0056 FFF7FEFF 		bl	SIM800_SendCommand
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 42


 1658              	.LVL147:
 504:Core/Src/MQTTSim800.c ****     osDelay(200);
 1659              		.loc 1 504 5 is_stmt 1 view .LVU379
 1660 005a C820     		movs	r0, #200
 1661 005c FFF7FEFF 		bl	osDelay
 1662              	.LVL148:
 505:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "", 1000);
 1663              		.loc 1 505 5 view .LVU380
 1664 0060 4FF47A73 		mov	r3, #1000
 1665 0064 0A4A     		ldr	r2, .L87+8
 1666 0066 E1B2     		uxtb	r1, r4
 1667 0068 0CA8     		add	r0, sp, #48
 1668 006a FFF7FEFF 		bl	SIM800_SendMQTT
 1669              	.LVL149:
 506:Core/Src/MQTTSim800.c ****     osDelay(200);
 1670              		.loc 1 506 5 view .LVU381
 1671 006e C820     		movs	r0, #200
 1672 0070 FFF7FEFF 		bl	osDelay
 1673              	.LVL150:
 507:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 1674              		.loc 1 507 5 view .LVU382
 1675 0074 2A46     		mov	r2, r5
 1676 0076 0BA9     		add	r1, sp, #44
 1677 0078 0648     		ldr	r0, .L87+12
 1678 007a FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1679              	.LVL151:
 508:Core/Src/MQTTSim800.c ****     // huart1.Instance->DR = 0b00011010;       //0x1A - OK
 509:Core/Src/MQTTSim800.c **** 
 510:Core/Src/MQTTSim800.c **** 
 511:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 512:Core/Src/MQTTSim800.c ****     osDelay(200);
 1680              		.loc 1 512 5 view .LVU383
 1681 007e C820     		movs	r0, #200
 1682 0080 FFF7FEFF 		bl	osDelay
 1683              	.LVL152:
 513:Core/Src/MQTTSim800.c **** #else
 514:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 515:Core/Src/MQTTSim800.c **** #endif
 516:Core/Src/MQTTSim800.c **** }
 1684              		.loc 1 516 1 is_stmt 0 view .LVU384
 1685 0084 4DB0     		add	sp, sp, #308
 1686              	.LCFI28:
 1687              		.cfi_def_cfa_offset 20
 1688              		@ sp needed
 1689 0086 F0BD     		pop	{r4, r5, r6, r7, pc}
 1690              	.LVL153:
 1691              	.L88:
 1692              		.loc 1 516 1 view .LVU385
 1693              		.align	2
 1694              	.L87:
 1695 0088 28000000 		.word	.LC7
 1696 008c 2C000000 		.word	.LC8
 1697 0090 3C000000 		.word	.LC9
 1698 0094 00000000 		.word	huart1
 1699              		.cfi_endproc
 1700              	.LFE86:
 1702              		.section	.rodata.MQTT_PubUint8.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 43


 1703              		.align	2
 1704              	.LC19:
 1705 0000 257500   		.ascii	"%u\000"
 1706              		.section	.text.MQTT_PubUint8,"ax",%progbits
 1707              		.align	1
 1708              		.global	MQTT_PubUint8
 1709              		.syntax unified
 1710              		.thumb
 1711              		.thumb_func
 1712              		.fpu softvfp
 1714              	MQTT_PubUint8:
 1715              	.LVL154:
 1716              	.LFB87:
 517:Core/Src/MQTTSim800.c **** 
 518:Core/Src/MQTTSim800.c **** /**
 519:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 520:Core/Src/MQTTSim800.c ****  * @param topic (uint8_t)  to be used to the set topic
 521:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 522:Core/Src/MQTTSim800.c ****  * @return NONE
 523:Core/Src/MQTTSim800.c ****  */
 524:Core/Src/MQTTSim800.c **** void MQTT_PubUint8(char *topic, uint8_t payload)
 525:Core/Src/MQTTSim800.c **** {
 1717              		.loc 1 525 1 is_stmt 1 view -0
 1718              		.cfi_startproc
 1719              		@ args = 0, pretend = 0, frame = 32
 1720              		@ frame_needed = 0, uses_anonymous_args = 0
 1721              		.loc 1 525 1 is_stmt 0 view .LVU387
 1722 0000 10B5     		push	{r4, lr}
 1723              	.LCFI29:
 1724              		.cfi_def_cfa_offset 8
 1725              		.cfi_offset 4, -8
 1726              		.cfi_offset 14, -4
 1727 0002 88B0     		sub	sp, sp, #32
 1728              	.LCFI30:
 1729              		.cfi_def_cfa_offset 40
 1730 0004 0446     		mov	r4, r0
 1731 0006 0A46     		mov	r2, r1
 526:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1732              		.loc 1 526 5 is_stmt 1 view .LVU388
 1733              		.loc 1 526 10 is_stmt 0 view .LVU389
 1734 0008 0023     		movs	r3, #0
 1735 000a 0093     		str	r3, [sp]
 1736 000c 0193     		str	r3, [sp, #4]
 1737 000e 0293     		str	r3, [sp, #8]
 1738 0010 0393     		str	r3, [sp, #12]
 1739 0012 0493     		str	r3, [sp, #16]
 1740 0014 0593     		str	r3, [sp, #20]
 1741 0016 0693     		str	r3, [sp, #24]
 1742 0018 0793     		str	r3, [sp, #28]
 527:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1743              		.loc 1 527 5 is_stmt 1 view .LVU390
 1744 001a 0549     		ldr	r1, .L91
 1745              	.LVL155:
 1746              		.loc 1 527 5 is_stmt 0 view .LVU391
 1747 001c 6846     		mov	r0, sp
 1748              	.LVL156:
 1749              		.loc 1 527 5 view .LVU392
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 44


 1750 001e FFF7FEFF 		bl	sprintf
 1751              	.LVL157:
 528:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1752              		.loc 1 528 5 is_stmt 1 view .LVU393
 1753 0022 6946     		mov	r1, sp
 1754 0024 2046     		mov	r0, r4
 1755 0026 FFF7FEFF 		bl	MQTT_Pub
 1756              	.LVL158:
 529:Core/Src/MQTTSim800.c **** }
 1757              		.loc 1 529 1 is_stmt 0 view .LVU394
 1758 002a 08B0     		add	sp, sp, #32
 1759              	.LCFI31:
 1760              		.cfi_def_cfa_offset 8
 1761              		@ sp needed
 1762 002c 10BD     		pop	{r4, pc}
 1763              	.LVL159:
 1764              	.L92:
 1765              		.loc 1 529 1 view .LVU395
 1766 002e 00BF     		.align	2
 1767              	.L91:
 1768 0030 00000000 		.word	.LC19
 1769              		.cfi_endproc
 1770              	.LFE87:
 1772              		.section	.text.MQTT_PubUint16,"ax",%progbits
 1773              		.align	1
 1774              		.global	MQTT_PubUint16
 1775              		.syntax unified
 1776              		.thumb
 1777              		.thumb_func
 1778              		.fpu softvfp
 1780              	MQTT_PubUint16:
 1781              	.LVL160:
 1782              	.LFB88:
 530:Core/Src/MQTTSim800.c **** 
 531:Core/Src/MQTTSim800.c **** /**
 532:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 533:Core/Src/MQTTSim800.c ****  * @param topic (uint16_t)  to be used to the set topic
 534:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 535:Core/Src/MQTTSim800.c ****  * @return NONE
 536:Core/Src/MQTTSim800.c ****  */
 537:Core/Src/MQTTSim800.c **** void MQTT_PubUint16(char *topic, uint16_t payload)
 538:Core/Src/MQTTSim800.c **** {
 1783              		.loc 1 538 1 is_stmt 1 view -0
 1784              		.cfi_startproc
 1785              		@ args = 0, pretend = 0, frame = 32
 1786              		@ frame_needed = 0, uses_anonymous_args = 0
 1787              		.loc 1 538 1 is_stmt 0 view .LVU397
 1788 0000 10B5     		push	{r4, lr}
 1789              	.LCFI32:
 1790              		.cfi_def_cfa_offset 8
 1791              		.cfi_offset 4, -8
 1792              		.cfi_offset 14, -4
 1793 0002 88B0     		sub	sp, sp, #32
 1794              	.LCFI33:
 1795              		.cfi_def_cfa_offset 40
 1796 0004 0446     		mov	r4, r0
 1797 0006 0A46     		mov	r2, r1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 45


 539:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1798              		.loc 1 539 5 is_stmt 1 view .LVU398
 1799              		.loc 1 539 10 is_stmt 0 view .LVU399
 1800 0008 0023     		movs	r3, #0
 1801 000a 0093     		str	r3, [sp]
 1802 000c 0193     		str	r3, [sp, #4]
 1803 000e 0293     		str	r3, [sp, #8]
 1804 0010 0393     		str	r3, [sp, #12]
 1805 0012 0493     		str	r3, [sp, #16]
 1806 0014 0593     		str	r3, [sp, #20]
 1807 0016 0693     		str	r3, [sp, #24]
 1808 0018 0793     		str	r3, [sp, #28]
 540:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1809              		.loc 1 540 5 is_stmt 1 view .LVU400
 1810 001a 0549     		ldr	r1, .L95
 1811              	.LVL161:
 1812              		.loc 1 540 5 is_stmt 0 view .LVU401
 1813 001c 6846     		mov	r0, sp
 1814              	.LVL162:
 1815              		.loc 1 540 5 view .LVU402
 1816 001e FFF7FEFF 		bl	sprintf
 1817              	.LVL163:
 541:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1818              		.loc 1 541 5 is_stmt 1 view .LVU403
 1819 0022 6946     		mov	r1, sp
 1820 0024 2046     		mov	r0, r4
 1821 0026 FFF7FEFF 		bl	MQTT_Pub
 1822              	.LVL164:
 542:Core/Src/MQTTSim800.c **** }
 1823              		.loc 1 542 1 is_stmt 0 view .LVU404
 1824 002a 08B0     		add	sp, sp, #32
 1825              	.LCFI34:
 1826              		.cfi_def_cfa_offset 8
 1827              		@ sp needed
 1828 002c 10BD     		pop	{r4, pc}
 1829              	.LVL165:
 1830              	.L96:
 1831              		.loc 1 542 1 view .LVU405
 1832 002e 00BF     		.align	2
 1833              	.L95:
 1834 0030 00000000 		.word	.LC19
 1835              		.cfi_endproc
 1836              	.LFE88:
 1838              		.section	.rodata.MQTT_PubUint32.str1.4,"aMS",%progbits,1
 1839              		.align	2
 1840              	.LC20:
 1841 0000 256C7500 		.ascii	"%lu\000"
 1842              		.section	.text.MQTT_PubUint32,"ax",%progbits
 1843              		.align	1
 1844              		.global	MQTT_PubUint32
 1845              		.syntax unified
 1846              		.thumb
 1847              		.thumb_func
 1848              		.fpu softvfp
 1850              	MQTT_PubUint32:
 1851              	.LVL166:
 1852              	.LFB89:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 46


 543:Core/Src/MQTTSim800.c **** 
 544:Core/Src/MQTTSim800.c **** /**
 545:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 546:Core/Src/MQTTSim800.c ****  * @param topic (uint32_t)  to be used to the set topic
 547:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 548:Core/Src/MQTTSim800.c ****  * @return NONE
 549:Core/Src/MQTTSim800.c ****  */
 550:Core/Src/MQTTSim800.c **** void MQTT_PubUint32(char *topic, uint32_t payload)
 551:Core/Src/MQTTSim800.c **** {
 1853              		.loc 1 551 1 is_stmt 1 view -0
 1854              		.cfi_startproc
 1855              		@ args = 0, pretend = 0, frame = 32
 1856              		@ frame_needed = 0, uses_anonymous_args = 0
 1857              		.loc 1 551 1 is_stmt 0 view .LVU407
 1858 0000 10B5     		push	{r4, lr}
 1859              	.LCFI35:
 1860              		.cfi_def_cfa_offset 8
 1861              		.cfi_offset 4, -8
 1862              		.cfi_offset 14, -4
 1863 0002 88B0     		sub	sp, sp, #32
 1864              	.LCFI36:
 1865              		.cfi_def_cfa_offset 40
 1866 0004 0446     		mov	r4, r0
 1867 0006 0A46     		mov	r2, r1
 552:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1868              		.loc 1 552 5 is_stmt 1 view .LVU408
 1869              		.loc 1 552 10 is_stmt 0 view .LVU409
 1870 0008 0023     		movs	r3, #0
 1871 000a 0093     		str	r3, [sp]
 1872 000c 0193     		str	r3, [sp, #4]
 1873 000e 0293     		str	r3, [sp, #8]
 1874 0010 0393     		str	r3, [sp, #12]
 1875 0012 0493     		str	r3, [sp, #16]
 1876 0014 0593     		str	r3, [sp, #20]
 1877 0016 0693     		str	r3, [sp, #24]
 1878 0018 0793     		str	r3, [sp, #28]
 553:Core/Src/MQTTSim800.c ****     sprintf(str, "%lu", payload);
 1879              		.loc 1 553 5 is_stmt 1 view .LVU410
 1880 001a 0549     		ldr	r1, .L99
 1881              	.LVL167:
 1882              		.loc 1 553 5 is_stmt 0 view .LVU411
 1883 001c 6846     		mov	r0, sp
 1884              	.LVL168:
 1885              		.loc 1 553 5 view .LVU412
 1886 001e FFF7FEFF 		bl	sprintf
 1887              	.LVL169:
 554:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1888              		.loc 1 554 5 is_stmt 1 view .LVU413
 1889 0022 6946     		mov	r1, sp
 1890 0024 2046     		mov	r0, r4
 1891 0026 FFF7FEFF 		bl	MQTT_Pub
 1892              	.LVL170:
 555:Core/Src/MQTTSim800.c **** }
 1893              		.loc 1 555 1 is_stmt 0 view .LVU414
 1894 002a 08B0     		add	sp, sp, #32
 1895              	.LCFI37:
 1896              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 47


 1897              		@ sp needed
 1898 002c 10BD     		pop	{r4, pc}
 1899              	.LVL171:
 1900              	.L100:
 1901              		.loc 1 555 1 view .LVU415
 1902 002e 00BF     		.align	2
 1903              	.L99:
 1904 0030 00000000 		.word	.LC20
 1905              		.cfi_endproc
 1906              	.LFE89:
 1908              		.section	.text.MQTT_PubFloat,"ax",%progbits
 1909              		.align	1
 1910              		.global	MQTT_PubFloat
 1911              		.syntax unified
 1912              		.thumb
 1913              		.thumb_func
 1914              		.fpu softvfp
 1916              	MQTT_PubFloat:
 1917              	.LVL172:
 1918              	.LFB90:
 556:Core/Src/MQTTSim800.c **** 
 557:Core/Src/MQTTSim800.c **** /**
 558:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 559:Core/Src/MQTTSim800.c ****  * @param topic (float)  to be used to the set topic
 560:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 561:Core/Src/MQTTSim800.c ****  * @return NONE
 562:Core/Src/MQTTSim800.c ****  */
 563:Core/Src/MQTTSim800.c **** void MQTT_PubFloat(char *topic, float payload, uint8_t digit)
 564:Core/Src/MQTTSim800.c **** {
 1919              		.loc 1 564 1 is_stmt 1 view -0
 1920              		.cfi_startproc
 1921              		@ args = 0, pretend = 0, frame = 32
 1922              		@ frame_needed = 0, uses_anonymous_args = 0
 1923              		.loc 1 564 1 is_stmt 0 view .LVU417
 1924 0000 10B5     		push	{r4, lr}
 1925              	.LCFI38:
 1926              		.cfi_def_cfa_offset 8
 1927              		.cfi_offset 4, -8
 1928              		.cfi_offset 14, -4
 1929 0002 88B0     		sub	sp, sp, #32
 1930              	.LCFI39:
 1931              		.cfi_def_cfa_offset 40
 1932 0004 0446     		mov	r4, r0
 1933 0006 0846     		mov	r0, r1
 1934              	.LVL173:
 565:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1935              		.loc 1 565 5 is_stmt 1 view .LVU418
 1936              		.loc 1 565 10 is_stmt 0 view .LVU419
 1937 0008 0023     		movs	r3, #0
 1938 000a 0093     		str	r3, [sp]
 1939 000c 0193     		str	r3, [sp, #4]
 1940 000e 0293     		str	r3, [sp, #8]
 1941 0010 0393     		str	r3, [sp, #12]
 1942 0012 0493     		str	r3, [sp, #16]
 1943 0014 0593     		str	r3, [sp, #20]
 1944 0016 0693     		str	r3, [sp, #24]
 1945 0018 0793     		str	r3, [sp, #28]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 48


 566:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 1946              		.loc 1 566 5 is_stmt 1 view .LVU420
 1947 001a 6946     		mov	r1, sp
 1948              	.LVL174:
 1949              		.loc 1 566 5 is_stmt 0 view .LVU421
 1950 001c FFF7FEFF 		bl	ftoa
 1951              	.LVL175:
 567:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1952              		.loc 1 567 5 is_stmt 1 view .LVU422
 1953 0020 6946     		mov	r1, sp
 1954 0022 2046     		mov	r0, r4
 1955 0024 FFF7FEFF 		bl	MQTT_Pub
 1956              	.LVL176:
 568:Core/Src/MQTTSim800.c **** }
 1957              		.loc 1 568 1 is_stmt 0 view .LVU423
 1958 0028 08B0     		add	sp, sp, #32
 1959              	.LCFI40:
 1960              		.cfi_def_cfa_offset 8
 1961              		@ sp needed
 1962 002a 10BD     		pop	{r4, pc}
 1963              		.loc 1 568 1 view .LVU424
 1964              		.cfi_endproc
 1965              	.LFE90:
 1967              		.section	.text.MQTT_PubDouble,"ax",%progbits
 1968              		.align	1
 1969              		.global	MQTT_PubDouble
 1970              		.syntax unified
 1971              		.thumb
 1972              		.thumb_func
 1973              		.fpu softvfp
 1975              	MQTT_PubDouble:
 1976              	.LVL177:
 1977              	.LFB91:
 569:Core/Src/MQTTSim800.c **** 
 570:Core/Src/MQTTSim800.c **** /**
 571:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 572:Core/Src/MQTTSim800.c ****  * @param topic (double)  to be used to the set topic
 573:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 574:Core/Src/MQTTSim800.c ****  * @return NONE
 575:Core/Src/MQTTSim800.c ****  */
 576:Core/Src/MQTTSim800.c **** void MQTT_PubDouble(char *topic, double payload, uint8_t digit)
 577:Core/Src/MQTTSim800.c **** {
 1978              		.loc 1 577 1 is_stmt 1 view -0
 1979              		.cfi_startproc
 1980              		@ args = 4, pretend = 0, frame = 32
 1981              		@ frame_needed = 0, uses_anonymous_args = 0
 1982              		.loc 1 577 1 is_stmt 0 view .LVU426
 1983 0000 10B5     		push	{r4, lr}
 1984              	.LCFI41:
 1985              		.cfi_def_cfa_offset 8
 1986              		.cfi_offset 4, -8
 1987              		.cfi_offset 14, -4
 1988 0002 88B0     		sub	sp, sp, #32
 1989              	.LCFI42:
 1990              		.cfi_def_cfa_offset 40
 1991 0004 0446     		mov	r4, r0
 1992 0006 1046     		mov	r0, r2
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 49


 1993              	.LVL178:
 1994              		.loc 1 577 1 view .LVU427
 1995 0008 1946     		mov	r1, r3
 578:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1996              		.loc 1 578 5 is_stmt 1 view .LVU428
 1997              		.loc 1 578 10 is_stmt 0 view .LVU429
 1998 000a 0023     		movs	r3, #0
 1999 000c 0093     		str	r3, [sp]
 2000 000e 0193     		str	r3, [sp, #4]
 2001 0010 0293     		str	r3, [sp, #8]
 2002 0012 0393     		str	r3, [sp, #12]
 2003 0014 0493     		str	r3, [sp, #16]
 2004 0016 0593     		str	r3, [sp, #20]
 2005 0018 0693     		str	r3, [sp, #24]
 2006 001a 0793     		str	r3, [sp, #28]
 579:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 2007              		.loc 1 579 5 is_stmt 1 view .LVU430
 2008 001c FFF7FEFF 		bl	__aeabi_d2f
 2009              	.LVL179:
 2010              		.loc 1 579 5 is_stmt 0 view .LVU431
 2011 0020 9DF82820 		ldrb	r2, [sp, #40]	@ zero_extendqisi2
 2012 0024 6946     		mov	r1, sp
 2013 0026 FFF7FEFF 		bl	ftoa
 2014              	.LVL180:
 580:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 2015              		.loc 1 580 5 is_stmt 1 view .LVU432
 2016 002a 6946     		mov	r1, sp
 2017 002c 2046     		mov	r0, r4
 2018 002e FFF7FEFF 		bl	MQTT_Pub
 2019              	.LVL181:
 581:Core/Src/MQTTSim800.c **** }
 2020              		.loc 1 581 1 is_stmt 0 view .LVU433
 2021 0032 08B0     		add	sp, sp, #32
 2022              	.LCFI43:
 2023              		.cfi_def_cfa_offset 8
 2024              		@ sp needed
 2025 0034 10BD     		pop	{r4, pc}
 2026              		.loc 1 581 1 view .LVU434
 2027              		.cfi_endproc
 2028              	.LFE91:
 2030              		.section	.text.MQTT_PingReq,"ax",%progbits
 2031              		.align	1
 2032              		.global	MQTT_PingReq
 2033              		.syntax unified
 2034              		.thumb
 2035              		.thumb_func
 2036              		.fpu softvfp
 2038              	MQTT_PingReq:
 2039              	.LFB92:
 582:Core/Src/MQTTSim800.c **** 
 583:Core/Src/MQTTSim800.c **** /**
 584:Core/Src/MQTTSim800.c ****  * Send a PINGREQ to the MQTT broker (active session)
 585:Core/Src/MQTTSim800.c ****  * @param NONE
 586:Core/Src/MQTTSim800.c ****  * @return NONE
 587:Core/Src/MQTTSim800.c ****  */
 588:Core/Src/MQTTSim800.c **** void MQTT_PingReq(void)
 589:Core/Src/MQTTSim800.c **** {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 50


 2040              		.loc 1 589 1 is_stmt 1 view -0
 2041              		.cfi_startproc
 2042              		@ args = 0, pretend = 0, frame = 16
 2043              		@ frame_needed = 0, uses_anonymous_args = 0
 2044 0000 10B5     		push	{r4, lr}
 2045              	.LCFI44:
 2046              		.cfi_def_cfa_offset 8
 2047              		.cfi_offset 4, -8
 2048              		.cfi_offset 14, -4
 2049 0002 84B0     		sub	sp, sp, #16
 2050              	.LCFI45:
 2051              		.cfi_def_cfa_offset 24
 590:Core/Src/MQTTSim800.c ****     unsigned char buf[16] = {0};
 2052              		.loc 1 590 5 view .LVU436
 2053              		.loc 1 590 19 is_stmt 0 view .LVU437
 2054 0004 0023     		movs	r3, #0
 2055 0006 0093     		str	r3, [sp]
 2056 0008 0193     		str	r3, [sp, #4]
 2057 000a 0293     		str	r3, [sp, #8]
 2058 000c 0393     		str	r3, [sp, #12]
 591:Core/Src/MQTTSim800.c **** 
 592:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_pingreq(buf, sizeof(buf));
 2059              		.loc 1 592 5 is_stmt 1 view .LVU438
 2060              		.loc 1 592 20 is_stmt 0 view .LVU439
 2061 000e 1021     		movs	r1, #16
 2062 0010 6846     		mov	r0, sp
 2063 0012 FFF7FEFF 		bl	MQTTSerialize_pingreq
 2064              	.LVL182:
 2065 0016 0446     		mov	r4, r0
 2066              	.LVL183:
 593:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 2067              		.loc 1 593 5 is_stmt 1 view .LVU440
 2068 0018 4FF4FA62 		mov	r2, #2000
 2069 001c 0B49     		ldr	r1, .L107
 2070 001e 0C48     		ldr	r0, .L107+4
 2071              	.LVL184:
 2072              		.loc 1 593 5 is_stmt 0 view .LVU441
 2073 0020 FFF7FEFF 		bl	SIM800_SendCommand
 2074              	.LVL185:
 594:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY);
 2075              		.loc 1 594 5 is_stmt 1 view .LVU442
 2076 0024 4FF4FA63 		mov	r3, #2000
 2077 0028 0A4A     		ldr	r2, .L107+8
 2078 002a E1B2     		uxtb	r1, r4
 2079 002c 6846     		mov	r0, sp
 2080 002e FFF7FEFF 		bl	SIM800_SendMQTT
 2081              	.LVL186:
 595:Core/Src/MQTTSim800.c ****     osDelay(100);
 2082              		.loc 1 595 5 view .LVU443
 2083 0032 6420     		movs	r0, #100
 2084 0034 FFF7FEFF 		bl	osDelay
 2085              	.LVL187:
 596:Core/Src/MQTTSim800.c ****     huart1.Instance->DR = 0b00011010;       //0x1A - OK
 2086              		.loc 1 596 5 view .LVU444
 2087              		.loc 1 596 11 is_stmt 0 view .LVU445
 2088 0038 074B     		ldr	r3, .L107+12
 2089 003a 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 51


 2090              		.loc 1 596 25 view .LVU446
 2091 003c 1A22     		movs	r2, #26
 2092 003e 5A60     		str	r2, [r3, #4]
 597:Core/Src/MQTTSim800.c **** 
 598:Core/Src/MQTTSim800.c **** 
 599:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 600:Core/Src/MQTTSim800.c ****     osDelay(100);
 2093              		.loc 1 600 5 is_stmt 1 view .LVU447
 2094 0040 6420     		movs	r0, #100
 2095 0042 FFF7FEFF 		bl	osDelay
 2096              	.LVL188:
 601:Core/Src/MQTTSim800.c **** #else
 602:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 603:Core/Src/MQTTSim800.c **** #endif
 604:Core/Src/MQTTSim800.c **** }
 2097              		.loc 1 604 1 is_stmt 0 view .LVU448
 2098 0046 04B0     		add	sp, sp, #16
 2099              	.LCFI46:
 2100              		.cfi_def_cfa_offset 8
 2101              		@ sp needed
 2102 0048 10BD     		pop	{r4, pc}
 2103              	.LVL189:
 2104              	.L108:
 2105              		.loc 1 604 1 view .LVU449
 2106 004a 00BF     		.align	2
 2107              	.L107:
 2108 004c 28000000 		.word	.LC7
 2109 0050 2C000000 		.word	.LC8
 2110 0054 20000000 		.word	.LC6
 2111 0058 00000000 		.word	huart1
 2112              		.cfi_endproc
 2113              	.LFE92:
 2115              		.section	.text.MQTT_Sub,"ax",%progbits
 2116              		.align	1
 2117              		.global	MQTT_Sub
 2118              		.syntax unified
 2119              		.thumb
 2120              		.thumb_func
 2121              		.fpu softvfp
 2123              	MQTT_Sub:
 2124              	.LVL190:
 2125              	.LFB93:
 605:Core/Src/MQTTSim800.c **** 
 606:Core/Src/MQTTSim800.c **** /**
 607:Core/Src/MQTTSim800.c ****  * Subscribe on the MQTT broker of the message in a topic
 608:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 609:Core/Src/MQTTSim800.c ****  * @return NONE
 610:Core/Src/MQTTSim800.c ****  */
 611:Core/Src/MQTTSim800.c **** void MQTT_Sub(char *topic)
 612:Core/Src/MQTTSim800.c **** {
 2126              		.loc 1 612 1 is_stmt 1 view -0
 2127              		.cfi_startproc
 2128              		@ args = 0, pretend = 0, frame = 272
 2129              		@ frame_needed = 0, uses_anonymous_args = 0
 2130              		.loc 1 612 1 is_stmt 0 view .LVU451
 2131 0000 30B5     		push	{r4, r5, lr}
 2132              	.LCFI47:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 52


 2133              		.cfi_def_cfa_offset 12
 2134              		.cfi_offset 4, -12
 2135              		.cfi_offset 5, -8
 2136              		.cfi_offset 14, -4
 2137 0002 C9B0     		sub	sp, sp, #292
 2138              	.LCFI48:
 2139              		.cfi_def_cfa_offset 304
 2140 0004 0546     		mov	r5, r0
 613:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 2141              		.loc 1 613 5 is_stmt 1 view .LVU452
 2142              		.loc 1 613 19 is_stmt 0 view .LVU453
 2143 0006 0024     		movs	r4, #0
 2144 0008 0894     		str	r4, [sp, #32]
 2145 000a FC22     		movs	r2, #252
 2146 000c 2146     		mov	r1, r4
 2147 000e 09A8     		add	r0, sp, #36
 2148              	.LVL191:
 2149              		.loc 1 613 19 view .LVU454
 2150 0010 FFF7FEFF 		bl	memset
 2151              	.LVL192:
 614:Core/Src/MQTTSim800.c **** 
 615:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 2152              		.loc 1 615 5 is_stmt 1 view .LVU455
 2153              		.loc 1 615 16 is_stmt 0 view .LVU456
 2154 0014 05AB     		add	r3, sp, #20
 2155 0016 0594     		str	r4, [sp, #20]
 2156 0018 0694     		str	r4, [sp, #24]
 2157 001a 0794     		str	r4, [sp, #28]
 616:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 2158              		.loc 1 616 5 is_stmt 1 view .LVU457
 2159              		.loc 1 616 25 is_stmt 0 view .LVU458
 2160 001c 0595     		str	r5, [sp, #20]
 617:Core/Src/MQTTSim800.c **** 
 618:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_subscribe(buf, sizeof(buf), 0, 1, 1, &topicString, 0);
 2161              		.loc 1 618 5 is_stmt 1 view .LVU459
 2162              		.loc 1 618 20 is_stmt 0 view .LVU460
 2163 001e 0294     		str	r4, [sp, #8]
 2164 0020 0193     		str	r3, [sp, #4]
 2165 0022 0123     		movs	r3, #1
 2166 0024 0093     		str	r3, [sp]
 2167 0026 2246     		mov	r2, r4
 2168 0028 4FF48071 		mov	r1, #256
 2169 002c 08A8     		add	r0, sp, #32
 2170 002e FFF7FEFF 		bl	MQTTSerialize_subscribe
 2171              	.LVL193:
 2172 0032 0446     		mov	r4, r0
 2173              	.LVL194:
 619:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 2174              		.loc 1 619 5 is_stmt 1 view .LVU461
 2175 0034 4FF4FA62 		mov	r2, #2000
 2176 0038 0C49     		ldr	r1, .L111
 2177 003a 0D48     		ldr	r0, .L111+4
 2178              	.LVL195:
 2179              		.loc 1 619 5 is_stmt 0 view .LVU462
 2180 003c FFF7FEFF 		bl	SIM800_SendCommand
 2181              	.LVL196:
 620:Core/Src/MQTTSim800.c ****     osDelay(200);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 53


 2182              		.loc 1 620 5 is_stmt 1 view .LVU463
 2183 0040 C820     		movs	r0, #200
 2184 0042 FFF7FEFF 		bl	osDelay
 2185              	.LVL197:
 621:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY);
 2186              		.loc 1 621 5 view .LVU464
 2187 0046 4FF4FA63 		mov	r3, #2000
 2188 004a 0A4A     		ldr	r2, .L111+8
 2189 004c E1B2     		uxtb	r1, r4
 2190 004e 08A8     		add	r0, sp, #32
 2191 0050 FFF7FEFF 		bl	SIM800_SendMQTT
 2192              	.LVL198:
 622:Core/Src/MQTTSim800.c ****     osDelay(200);
 2193              		.loc 1 622 5 view .LVU465
 2194 0054 C820     		movs	r0, #200
 2195 0056 FFF7FEFF 		bl	osDelay
 2196              	.LVL199:
 623:Core/Src/MQTTSim800.c ****     huart1.Instance->DR = 0b00011010;       //0x1A - OK
 2197              		.loc 1 623 5 view .LVU466
 2198              		.loc 1 623 11 is_stmt 0 view .LVU467
 2199 005a 074B     		ldr	r3, .L111+12
 2200 005c 1B68     		ldr	r3, [r3]
 2201              		.loc 1 623 25 view .LVU468
 2202 005e 1A22     		movs	r2, #26
 2203 0060 5A60     		str	r2, [r3, #4]
 624:Core/Src/MQTTSim800.c **** 
 625:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 626:Core/Src/MQTTSim800.c ****     osDelay(200);
 2204              		.loc 1 626 5 is_stmt 1 view .LVU469
 2205 0062 C820     		movs	r0, #200
 2206 0064 FFF7FEFF 		bl	osDelay
 2207              	.LVL200:
 627:Core/Src/MQTTSim800.c **** #else
 628:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 629:Core/Src/MQTTSim800.c **** #endif
 630:Core/Src/MQTTSim800.c **** }
 2208              		.loc 1 630 1 is_stmt 0 view .LVU470
 2209 0068 49B0     		add	sp, sp, #292
 2210              	.LCFI49:
 2211              		.cfi_def_cfa_offset 12
 2212              		@ sp needed
 2213 006a 30BD     		pop	{r4, r5, pc}
 2214              	.LVL201:
 2215              	.L112:
 2216              		.loc 1 630 1 view .LVU471
 2217              		.align	2
 2218              	.L111:
 2219 006c 28000000 		.word	.LC7
 2220 0070 2C000000 		.word	.LC8
 2221 0074 20000000 		.word	.LC6
 2222 0078 00000000 		.word	huart1
 2223              		.cfi_endproc
 2224              	.LFE93:
 2226              		.section	.text.MQTT_Receive,"ax",%progbits
 2227              		.align	1
 2228              		.global	MQTT_Receive
 2229              		.syntax unified
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 54


 2230              		.thumb
 2231              		.thumb_func
 2232              		.fpu softvfp
 2234              	MQTT_Receive:
 2235              	.LVL202:
 2236              	.LFB94:
 631:Core/Src/MQTTSim800.c **** 
 632:Core/Src/MQTTSim800.c **** /**
 633:Core/Src/MQTTSim800.c ****  * Receive message from MQTT broker
 634:Core/Src/MQTTSim800.c ****  * @param receive mqtt bufer
 635:Core/Src/MQTTSim800.c ****  * @return NONE
 636:Core/Src/MQTTSim800.c ****  */
 637:Core/Src/MQTTSim800.c **** void MQTT_Receive(unsigned char *buf)
 638:Core/Src/MQTTSim800.c **** {
 2237              		.loc 1 638 1 is_stmt 1 view -0
 2238              		.cfi_startproc
 2239              		@ args = 0, pretend = 0, frame = 16
 2240              		@ frame_needed = 0, uses_anonymous_args = 0
 2241              		.loc 1 638 1 is_stmt 0 view .LVU473
 2242 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2243              	.LCFI50:
 2244              		.cfi_def_cfa_offset 20
 2245              		.cfi_offset 4, -20
 2246              		.cfi_offset 5, -16
 2247              		.cfi_offset 6, -12
 2248              		.cfi_offset 7, -8
 2249              		.cfi_offset 14, -4
 2250 0002 8BB0     		sub	sp, sp, #44
 2251              	.LCFI51:
 2252              		.cfi_def_cfa_offset 64
 2253 0004 0546     		mov	r5, r0
 639:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.topic, 0, sizeof(SIM800.mqttReceive.topic));
 2254              		.loc 1 639 5 is_stmt 1 view .LVU474
 2255 0006 194C     		ldr	r4, .L115
 2256 0008 4027     		movs	r7, #64
 2257 000a 3A46     		mov	r2, r7
 2258 000c 0021     		movs	r1, #0
 2259 000e 2046     		mov	r0, r4
 2260              	.LVL203:
 2261              		.loc 1 639 5 is_stmt 0 view .LVU475
 2262 0010 FFF7FEFF 		bl	memset
 2263              	.LVL204:
 640:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.payload, 0, sizeof(SIM800.mqttReceive.payload));
 2264              		.loc 1 640 5 is_stmt 1 view .LVU476
 2265 0014 A4F14406 		sub	r6, r4, #68
 2266 0018 3A46     		mov	r2, r7
 2267 001a 0021     		movs	r1, #0
 2268 001c 3046     		mov	r0, r6
 2269 001e FFF7FEFF 		bl	memset
 2270              	.LVL205:
 641:Core/Src/MQTTSim800.c ****     MQTTString receivedTopic;
 2271              		.loc 1 641 5 view .LVU477
 642:Core/Src/MQTTSim800.c ****     unsigned char *payload;
 2272              		.loc 1 642 5 view .LVU478
 643:Core/Src/MQTTSim800.c ****     MQTTDeserialize_publish(&SIM800.mqttReceive.dup, &SIM800.mqttReceive.qos, &SIM800.mqttReceive.r
 2273              		.loc 1 643 5 view .LVU479
 2274 0022 0423     		movs	r3, #4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 55


 2275 0024 0493     		str	r3, [sp, #16]
 2276 0026 0395     		str	r5, [sp, #12]
 2277 0028 231F     		subs	r3, r4, #4
 2278 002a 0293     		str	r3, [sp, #8]
 2279 002c 06AB     		add	r3, sp, #24
 2280 002e 0193     		str	r3, [sp, #4]
 2281 0030 07AB     		add	r3, sp, #28
 2282 0032 0093     		str	r3, [sp]
 2283 0034 A4F14603 		sub	r3, r4, #70
 2284 0038 A4F14802 		sub	r2, r4, #72
 2285 003c A4F14C01 		sub	r1, r4, #76
 2286 0040 A4F14F00 		sub	r0, r4, #79
 2287 0044 FFF7FEFF 		bl	MQTTDeserialize_publish
 2288              	.LVL206:
 644:Core/Src/MQTTSim800.c ****                             &SIM800.mqttReceive.msgId,
 645:Core/Src/MQTTSim800.c ****                             &receivedTopic, &payload, &SIM800.mqttReceive.payloadLen, buf,
 646:Core/Src/MQTTSim800.c ****                             sizeof(buf));
 647:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.topic, receivedTopic.lenstring.data, receivedTopic.lenstring.len);
 2289              		.loc 1 647 5 view .LVU480
 2290              		.loc 1 647 91 is_stmt 0 view .LVU481
 2291 0048 089D     		ldr	r5, [sp, #32]
 2292              	.LVL207:
 2293              		.loc 1 647 5 view .LVU482
 2294 004a 2A46     		mov	r2, r5
 2295 004c 0999     		ldr	r1, [sp, #36]
 2296 004e 2046     		mov	r0, r4
 2297 0050 FFF7FEFF 		bl	memcpy
 2298              	.LVL208:
 648:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.topicLen = receivedTopic.lenstring.len;
 2299              		.loc 1 648 5 is_stmt 1 view .LVU483
 2300              		.loc 1 648 33 is_stmt 0 view .LVU484
 2301 0054 2564     		str	r5, [r4, #64]
 649:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.payload, payload, SIM800.mqttReceive.payloadLen);
 2302              		.loc 1 649 5 is_stmt 1 view .LVU485
 2303 0056 54F8042C 		ldr	r2, [r4, #-4]
 2304 005a 0699     		ldr	r1, [sp, #24]
 2305 005c 3046     		mov	r0, r6
 2306 005e FFF7FEFF 		bl	memcpy
 2307              	.LVL209:
 650:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 1;
 2308              		.loc 1 650 5 view .LVU486
 2309              		.loc 1 650 33 is_stmt 0 view .LVU487
 2310 0062 0123     		movs	r3, #1
 2311 0064 04F8503C 		strb	r3, [r4, #-80]
 651:Core/Src/MQTTSim800.c **** }
 2312              		.loc 1 651 1 view .LVU488
 2313 0068 0BB0     		add	sp, sp, #44
 2314              	.LCFI52:
 2315              		.cfi_def_cfa_offset 20
 2316              		@ sp needed
 2317 006a F0BD     		pop	{r4, r5, r6, r7, pc}
 2318              	.L116:
 2319              		.align	2
 2320              	.L115:
 2321 006c 74000000 		.word	SIM800+116
 2322              		.cfi_endproc
 2323              	.LFE94:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 56


 2325              		.section	.rodata.Sim800_RxCallBack.str1.4,"aMS",%progbits,1
 2326              		.align	2
 2327              	.LC21:
 2328 0000 0D0A00   		.ascii	"\015\012\000"
 2329 0003 00       		.align	2
 2330              	.LC22:
 2331 0004 4552524F 		.ascii	"ERROR\015\012\000"
 2331      520D0A00 
 2332              		.align	2
 2333              	.LC23:
 2334 000c 4552524F 		.ascii	"ERROR\000"
 2334      5200
 2335 0012 0000     		.align	2
 2336              	.LC24:
 2337 0014 434F4E4E 		.ascii	"CONNECT\000"
 2337      45435400 
 2338              		.align	2
 2339              	.LC25:
 2340 001c 434C4F53 		.ascii	"CLOSED\015\012\000"
 2340      45440D0A 
 2340      00
 2341 0025 000000   		.align	2
 2342              	.LC26:
 2343 0028 44454143 		.ascii	"DEACT\015\012\000"
 2343      540D0A00 
 2344              		.align	2
 2345              	.LC27:
 2346 0030 2B434D47 		.ascii	"+CMGS:\000"
 2346      533A00
 2347              		.section	.text.Sim800_RxCallBack,"ax",%progbits
 2348              		.align	1
 2349              		.global	Sim800_RxCallBack
 2350              		.syntax unified
 2351              		.thumb
 2352              		.thumb_func
 2353              		.fpu softvfp
 2355              	Sim800_RxCallBack:
 2356              	.LFB79:
 245:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 2357              		.loc 1 245 1 is_stmt 1 view -0
 2358              		.cfi_startproc
 2359              		@ args = 0, pretend = 0, frame = 0
 2360              		@ frame_needed = 0, uses_anonymous_args = 0
 2361 0000 10B5     		push	{r4, lr}
 2362              	.LCFI53:
 2363              		.cfi_def_cfa_offset 8
 2364              		.cfi_offset 4, -8
 2365              		.cfi_offset 14, -4
 246:Core/Src/MQTTSim800.c **** 
 2366              		.loc 1 246 5 view .LVU490
 246:Core/Src/MQTTSim800.c **** 
 2367              		.loc 1 246 23 is_stmt 0 view .LVU491
 2368 0002 424A     		ldr	r2, .L136
 2369 0004 1388     		ldrh	r3, [r2]
 2370 0006 5C1C     		adds	r4, r3, #1
 2371 0008 A4B2     		uxth	r4, r4
 2372 000a 1480     		strh	r4, [r2]	@ movhi
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 57


 246:Core/Src/MQTTSim800.c **** 
 2373              		.loc 1 246 27 view .LVU492
 2374 000c 4048     		ldr	r0, .L136+4
 2375 000e 414A     		ldr	r2, .L136+8
 2376 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2377 0012 C254     		strb	r2, [r0, r3]
 249:Core/Src/MQTTSim800.c ****     {
 2378              		.loc 1 249 5 is_stmt 1 view .LVU493
 249:Core/Src/MQTTSim800.c ****     {
 2379              		.loc 1 249 9 is_stmt 0 view .LVU494
 2380 0014 4049     		ldr	r1, .L136+12
 2381 0016 FFF7FEFF 		bl	strstr
 2382              	.LVL210:
 249:Core/Src/MQTTSim800.c ****     {
 2383              		.loc 1 249 8 view .LVU495
 2384 001a 08B1     		cbz	r0, .L118
 249:Core/Src/MQTTSim800.c ****     {
 2385              		.loc 1 249 51 discriminator 1 view .LVU496
 2386 001c 022C     		cmp	r4, #2
 2387 001e 48D0     		beq	.L129
 2388              	.L118:
 253:Core/Src/MQTTSim800.c ****     {
 2389              		.loc 1 253 10 is_stmt 1 view .LVU497
 253:Core/Src/MQTTSim800.c ****     {
 2390              		.loc 1 253 15 is_stmt 0 view .LVU498
 2391 0020 3E49     		ldr	r1, .L136+16
 2392 0022 3B48     		ldr	r0, .L136+4
 2393 0024 FFF7FEFF 		bl	strstr
 2394              	.LVL211:
 253:Core/Src/MQTTSim800.c ****     {
 2395              		.loc 1 253 13 view .LVU499
 2396 0028 0028     		cmp	r0, #0
 2397 002a 46D0     		beq	.L130
 2398              	.L120:
 255:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2399              		.loc 1 255 9 is_stmt 1 view .LVU500
 2400 002c 3C4C     		ldr	r4, .L136+20
 2401 002e C822     		movs	r2, #200
 2402 0030 3749     		ldr	r1, .L136+4
 2403 0032 2046     		mov	r0, r4
 2404 0034 FFF7FEFF 		bl	memcpy
 2405              	.LVL212:
 256:Core/Src/MQTTSim800.c ****         if (strstr(mqtt_buffer, "ERROR") && (SIM800.mqttServer.connect == 1))
 2406              		.loc 1 256 9 view .LVU501
 2407 0038 FFF7FEFF 		bl	clearRxBuffer
 2408              	.LVL213:
 257:Core/Src/MQTTSim800.c ****         {
 2409              		.loc 1 257 9 view .LVU502
 257:Core/Src/MQTTSim800.c ****         {
 2410              		.loc 1 257 13 is_stmt 0 view .LVU503
 2411 003c 3949     		ldr	r1, .L136+24
 2412 003e 2046     		mov	r0, r4
 2413 0040 FFF7FEFF 		bl	strstr
 2414              	.LVL214:
 257:Core/Src/MQTTSim800.c ****         {
 2415              		.loc 1 257 12 view .LVU504
 2416 0044 18B1     		cbz	r0, .L121
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 58


 257:Core/Src/MQTTSim800.c ****         {
 2417              		.loc 1 257 63 discriminator 1 view .LVU505
 2418 0046 384B     		ldr	r3, .L136+28
 2419 0048 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 257:Core/Src/MQTTSim800.c ****         {
 2420              		.loc 1 257 42 discriminator 1 view .LVU506
 2421 004a 012B     		cmp	r3, #1
 2422 004c 3CD0     		beq	.L131
 2423              	.L121:
 261:Core/Src/MQTTSim800.c ****         {
 2424              		.loc 1 261 14 is_stmt 1 view .LVU507
 261:Core/Src/MQTTSim800.c ****         {
 2425              		.loc 1 261 18 is_stmt 0 view .LVU508
 2426 004e 3749     		ldr	r1, .L136+32
 2427 0050 3348     		ldr	r0, .L136+20
 2428 0052 FFF7FEFF 		bl	strstr
 2429              	.LVL215:
 261:Core/Src/MQTTSim800.c ****         {
 2430              		.loc 1 261 17 view .LVU509
 2431 0056 10B1     		cbz	r0, .L119
 263:Core/Src/MQTTSim800.c ****         }
 2432              		.loc 1 263 13 is_stmt 1 view .LVU510
 263:Core/Src/MQTTSim800.c ****         }
 2433              		.loc 1 263 39 is_stmt 0 view .LVU511
 2434 0058 334B     		ldr	r3, .L136+28
 2435 005a 0122     		movs	r2, #1
 2436 005c 9A74     		strb	r2, [r3, #18]
 2437              	.L119:
 267:Core/Src/MQTTSim800.c ****     {
 2438              		.loc 1 267 5 is_stmt 1 view .LVU512
 267:Core/Src/MQTTSim800.c ****     {
 2439              		.loc 1 267 9 is_stmt 0 view .LVU513
 2440 005e 3449     		ldr	r1, .L136+36
 2441 0060 2B48     		ldr	r0, .L136+4
 2442 0062 FFF7FEFF 		bl	strstr
 2443              	.LVL216:
 267:Core/Src/MQTTSim800.c ****     {
 2444              		.loc 1 267 8 view .LVU514
 2445 0066 0028     		cmp	r0, #0
 2446 0068 32D0     		beq	.L132
 2447              	.L122:
 269:Core/Src/MQTTSim800.c ****     }
 2448              		.loc 1 269 9 is_stmt 1 view .LVU515
 269:Core/Src/MQTTSim800.c ****     }
 2449              		.loc 1 269 35 is_stmt 0 view .LVU516
 2450 006a 2F4B     		ldr	r3, .L136+28
 2451 006c 0022     		movs	r2, #0
 2452 006e 9A74     		strb	r2, [r3, #18]
 2453              	.L123:
 294:Core/Src/MQTTSim800.c ****     {
 2454              		.loc 1 294 5 is_stmt 1 view .LVU517
 294:Core/Src/MQTTSim800.c ****     {
 2455              		.loc 1 294 18 is_stmt 0 view .LVU518
 2456 0070 264B     		ldr	r3, .L136
 2457 0072 1B88     		ldrh	r3, [r3]
 294:Core/Src/MQTTSim800.c ****     {
 2458              		.loc 1 294 8 view .LVU519
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 59


 2459 0074 C72B     		cmp	r3, #199
 2460 0076 32D8     		bhi	.L133
 2461              	.L124:
 299:Core/Src/MQTTSim800.c ****     {
 2462              		.loc 1 299 5 is_stmt 1 view .LVU520
 299:Core/Src/MQTTSim800.c ****     {
 2463              		.loc 1 299 10 is_stmt 0 view .LVU521
 2464 0078 3E21     		movs	r1, #62
 2465 007a 2548     		ldr	r0, .L136+4
 2466 007c FFF7FEFF 		bl	strchr
 2467              	.LVL217:
 299:Core/Src/MQTTSim800.c ****     {
 2468              		.loc 1 299 8 view .LVU522
 2469 0080 18B1     		cbz	r0, .L125
 299:Core/Src/MQTTSim800.c ****     {
 2470              		.loc 1 299 63 discriminator 1 view .LVU523
 2471 0082 224B     		ldr	r3, .L136
 2472 0084 1B88     		ldrh	r3, [r3]
 299:Core/Src/MQTTSim800.c ****     {
 2473              		.loc 1 299 50 discriminator 1 view .LVU524
 2474 0086 042B     		cmp	r3, #4
 2475 0088 2ED9     		bls	.L134
 2476              	.L125:
 304:Core/Src/MQTTSim800.c ****     {
 2477              		.loc 1 304 5 is_stmt 1 view .LVU525
 304:Core/Src/MQTTSim800.c ****     {
 2478              		.loc 1 304 9 is_stmt 0 view .LVU526
 2479 008a 2A49     		ldr	r1, .L136+40
 2480 008c 2048     		ldr	r0, .L136+4
 2481 008e FFF7FEFF 		bl	strstr
 2482              	.LVL218:
 304:Core/Src/MQTTSim800.c ****     {
 2483              		.loc 1 304 8 view .LVU527
 2484 0092 20B1     		cbz	r0, .L126
 306:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2485              		.loc 1 306 9 is_stmt 1 view .LVU528
 306:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2486              		.loc 1 306 21 is_stmt 0 view .LVU529
 2487 0094 284B     		ldr	r3, .L136+44
 2488 0096 0122     		movs	r2, #1
 2489 0098 1A70     		strb	r2, [r3]
 307:Core/Src/MQTTSim800.c ****     }
 2490              		.loc 1 307 9 is_stmt 1 view .LVU530
 2491 009a FFF7FEFF 		bl	clearRxBuffer
 2492              	.LVL219:
 2493              	.L126:
 310:Core/Src/MQTTSim800.c ****     {
 2494              		.loc 1 310 5 view .LVU531
 310:Core/Src/MQTTSim800.c ****     {
 2495              		.loc 1 310 17 is_stmt 0 view .LVU532
 2496 009e 1D4B     		ldr	r3, .L136+8
 2497 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 310:Core/Src/MQTTSim800.c ****     {
 2498              		.loc 1 310 7 view .LVU533
 2499 00a2 5E2B     		cmp	r3, #94
 2500 00a4 28D0     		beq	.L135
 2501              	.L127:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 60


 316:Core/Src/MQTTSim800.c **** }
 2502              		.loc 1 316 5 is_stmt 1 view .LVU534
 2503 00a6 0122     		movs	r2, #1
 2504 00a8 1A49     		ldr	r1, .L136+8
 2505 00aa 2448     		ldr	r0, .L136+48
 2506 00ac FFF7FEFF 		bl	HAL_UART_Receive_IT
 2507              	.LVL220:
 317:Core/Src/MQTTSim800.c **** 
 2508              		.loc 1 317 1 is_stmt 0 view .LVU535
 2509 00b0 10BD     		pop	{r4, pc}
 2510              	.L129:
 251:Core/Src/MQTTSim800.c ****     }
 2511              		.loc 1 251 9 is_stmt 1 view .LVU536
 251:Core/Src/MQTTSim800.c ****     }
 2512              		.loc 1 251 18 is_stmt 0 view .LVU537
 2513 00b2 164B     		ldr	r3, .L136
 2514 00b4 0022     		movs	r2, #0
 2515 00b6 1A80     		strh	r2, [r3]	@ movhi
 2516 00b8 D1E7     		b	.L119
 2517              	.L130:
 253:Core/Src/MQTTSim800.c ****     {
 2518              		.loc 1 253 64 discriminator 1 view .LVU538
 2519 00ba 2149     		ldr	r1, .L136+52
 2520 00bc 1448     		ldr	r0, .L136+4
 2521 00be FFF7FEFF 		bl	strstr
 2522              	.LVL221:
 253:Core/Src/MQTTSim800.c ****     {
 2523              		.loc 1 253 60 discriminator 1 view .LVU539
 2524 00c2 0028     		cmp	r0, #0
 2525 00c4 B2D1     		bne	.L120
 2526 00c6 CAE7     		b	.L119
 2527              	.L131:
 259:Core/Src/MQTTSim800.c ****         }
 2528              		.loc 1 259 13 is_stmt 1 view .LVU540
 259:Core/Src/MQTTSim800.c ****         }
 2529              		.loc 1 259 39 is_stmt 0 view .LVU541
 2530 00c8 174B     		ldr	r3, .L136+28
 2531 00ca 0022     		movs	r2, #0
 2532 00cc 9A74     		strb	r2, [r3, #18]
 2533 00ce C6E7     		b	.L119
 2534              	.L132:
 267:Core/Src/MQTTSim800.c ****     {
 2535              		.loc 1 267 52 discriminator 1 view .LVU542
 2536 00d0 1C49     		ldr	r1, .L136+56
 2537 00d2 0F48     		ldr	r0, .L136+4
 2538 00d4 FFF7FEFF 		bl	strstr
 2539              	.LVL222:
 267:Core/Src/MQTTSim800.c ****     {
 2540              		.loc 1 267 49 discriminator 1 view .LVU543
 2541 00d8 0028     		cmp	r0, #0
 2542 00da C6D1     		bne	.L122
 2543 00dc C8E7     		b	.L123
 2544              	.L133:
 296:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 2545              		.loc 1 296 9 is_stmt 1 view .LVU544
 2546 00de FFF7FEFF 		bl	clearRxBuffer
 2547              	.LVL223:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 61


 297:Core/Src/MQTTSim800.c ****     }
 2548              		.loc 1 297 9 view .LVU545
 2549 00e2 FFF7FEFF 		bl	clearMqttBuffer
 2550              	.LVL224:
 2551 00e6 C7E7     		b	.L124
 2552              	.L134:
 301:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2553              		.loc 1 301 9 view .LVU546
 2554 00e8 C822     		movs	r2, #200
 2555 00ea 0949     		ldr	r1, .L136+4
 2556 00ec 0C48     		ldr	r0, .L136+20
 2557 00ee FFF7FEFF 		bl	memcpy
 2558              	.LVL225:
 302:Core/Src/MQTTSim800.c ****     }
 2559              		.loc 1 302 9 view .LVU547
 2560 00f2 FFF7FEFF 		bl	clearRxBuffer
 2561              	.LVL226:
 2562 00f6 C8E7     		b	.L125
 2563              	.L135:
 310:Core/Src/MQTTSim800.c ****     {
 2564              		.loc 1 310 36 is_stmt 0 discriminator 1 view .LVU548
 2565 00f8 134B     		ldr	r3, .L136+60
 2566 00fa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 310:Core/Src/MQTTSim800.c ****     {
 2567              		.loc 1 310 25 discriminator 1 view .LVU549
 2568 00fc 002B     		cmp	r3, #0
 2569 00fe D2D1     		bne	.L127
 312:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2570              		.loc 1 312 9 is_stmt 1 view .LVU550
 2571 0100 0348     		ldr	r0, .L136+4
 2572 0102 FFF7FEFF 		bl	MQTT_Receive
 2573              	.LVL227:
 313:Core/Src/MQTTSim800.c ****     }
 2574              		.loc 1 313 9 view .LVU551
 2575 0106 FFF7FEFF 		bl	clearRxBuffer
 2576              	.LVL228:
 2577 010a CCE7     		b	.L127
 2578              	.L137:
 2579              		.align	2
 2580              	.L136:
 2581 010c 00000000 		.word	.LANCHOR0
 2582 0110 00000000 		.word	.LANCHOR1
 2583 0114 00000000 		.word	.LANCHOR9
 2584 0118 00000000 		.word	.LC21
 2585 011c 20000000 		.word	.LC6
 2586 0120 00000000 		.word	.LANCHOR4
 2587 0124 0C000000 		.word	.LC23
 2588 0128 00000000 		.word	SIM800
 2589 012c 14000000 		.word	.LC24
 2590 0130 1C000000 		.word	.LC25
 2591 0134 30000000 		.word	.LC27
 2592 0138 00000000 		.word	is_SMS_done
 2593 013c 00000000 		.word	huart1
 2594 0140 04000000 		.word	.LC22
 2595 0144 28000000 		.word	.LC26
 2596 0148 00000000 		.word	.LANCHOR7
 2597              		.cfi_endproc
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 62


 2598              	.LFE79:
 2600              		.global	mqtt_index
 2601              		.global	mqtt_buffer
 2602              		.global	mqtt_receive
 2603              		.global	rx_index
 2604              		.global	rx_buffer
 2605              		.global	rx_data
 2606              		.global	is_GPS
 2607              		.global	SIM800_Batt
 2608              		.global	SIM800_Status
 2609              		.section	.rodata
 2610              		.align	2
 2611              		.set	.LANCHOR2,. + 0
 2612              	.LC1:
 2613 0000 41542B43 		.ascii	"AT+CBC\015\012\000"
 2613      42430D0A 
 2613      00
 2614 0009 00000000 		.space	6
 2614      0000
 2615 000f 00       		.space	1
 2616              	.LC3:
 2617 0010 41542B43 		.ascii	"AT+CGNSINF\015\012\000"
 2617      474E5349 
 2617      4E460D0A 
 2617      00
 2618 001d 0000     		.space	2
 2619 001f 00       		.space	1
 2620              	.LC0:
 2621 0020 4D515443 		.ascii	"MQTC"
 2622 0024 00000000 		.word	0
 2623 0028 04       		.byte	4
 2624 0029 000000   		.space	3
 2625 002c 00000000 		.word	0
 2626 0030 00000000 		.word	0
 2627 0034 00000000 		.word	0
 2628 0038 3C00     		.short	60
 2629 003a 01       		.byte	1
 2630 003b 00       		.byte	0
 2631 003c 4D515457 		.ascii	"MQTW"
 2632 0040 00000000 		.word	0
 2633 0044 00000000 		.word	0
 2634 0048 00000000 		.word	0
 2635 004c 00000000 		.word	0
 2636 0050 00000000 		.word	0
 2637 0054 00000000 		.word	0
 2638 0058 00000000 		.word	0
 2639 005c 00       		.byte	0
 2640 005d 00       		.byte	0
 2641 005e 0000     		.space	2
 2642 0060 00000000 		.word	0
 2643 0064 00000000 		.word	0
 2644 0068 00000000 		.word	0
 2645 006c 00000000 		.word	0
 2646 0070 00000000 		.word	0
 2647 0074 00000000 		.word	0
 2648              		.section	.bss.SIM800_Batt,"aw",%nobits
 2649              		.align	2
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 63


 2650              		.set	.LANCHOR3,. + 0
 2653              	SIM800_Batt:
 2654 0000 00000000 		.space	4
 2655              		.section	.bss.SIM800_Status,"aw",%nobits
 2656              		.align	2
 2657              		.set	.LANCHOR8,. + 0
 2660              	SIM800_Status:
 2661 0000 000000   		.space	3
 2662              		.section	.bss.is_GPS,"aw",%nobits
 2663              		.set	.LANCHOR7,. + 0
 2666              	is_GPS:
 2667 0000 00       		.space	1
 2668              		.section	.bss.mqtt_buffer,"aw",%nobits
 2669              		.align	2
 2670              		.set	.LANCHOR4,. + 0
 2673              	mqtt_buffer:
 2674 0000 00000000 		.space	200
 2674      00000000 
 2674      00000000 
 2674      00000000 
 2674      00000000 
 2675              		.section	.bss.mqtt_index,"aw",%nobits
 2676              		.align	1
 2677              		.set	.LANCHOR6,. + 0
 2680              	mqtt_index:
 2681 0000 0000     		.space	2
 2682              		.section	.bss.mqtt_receive,"aw",%nobits
 2683              		.set	.LANCHOR5,. + 0
 2686              	mqtt_receive:
 2687 0000 00       		.space	1
 2688              		.section	.bss.rx_buffer,"aw",%nobits
 2689              		.align	2
 2690              		.set	.LANCHOR1,. + 0
 2693              	rx_buffer:
 2694 0000 00000000 		.space	200
 2694      00000000 
 2694      00000000 
 2694      00000000 
 2694      00000000 
 2695              		.section	.bss.rx_data,"aw",%nobits
 2696              		.set	.LANCHOR9,. + 0
 2699              	rx_data:
 2700 0000 00       		.space	1
 2701              		.section	.bss.rx_index,"aw",%nobits
 2702              		.align	1
 2703              		.set	.LANCHOR0,. + 0
 2706              	rx_index:
 2707 0000 0000     		.space	2
 2708              		.text
 2709              	.Letext0:
 2710              		.file 2 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\machine\\_default_type
 2711              		.file 3 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\sys\\_stdint.h"
 2712              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 2713              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2714              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2715              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 2716              		.file 8 "Core/Inc/MQTTSim800.h"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 64


 2717              		.file 9 "Core/Inc/MQTTPacket.h"
 2718              		.file 10 "Core/Inc/MQTTConnect.h"
 2719              		.file 11 "Core/Inc/usart.h"
 2720              		.file 12 "<built-in>"
 2721              		.file 13 "Core/Inc/MQTTPublish.h"
 2722              		.file 14 "Core/Inc/MQTTSubscribe.h"
 2723              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 2724              		.file 16 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\stdio.h"
 2725              		.file 17 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\string.h"
 2726              		.file 18 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\math.h"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 MQTTSim800.c
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:16     .text.reverse:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:24     .text.reverse:00000000 reverse
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:74     .text.intToStr:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:81     .text.intToStr:00000000 intToStr
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:174    .text.intToStr:00000050 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:186    .text.ftoa:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:193    .text.ftoa:00000000 ftoa
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:304    .text.ftoa:00000070 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:313    .text.str2float:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:320    .text.str2float:00000000 str2float
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:479    .text.str2float:00000098 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:485    .text.GPS_Time_Parse:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:492    .text.GPS_Time_Parse:00000000 GPS_Time_Parse
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:666    .text.GPS_Time_Parse:000000b8 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:672    .text.clearRxBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:679    .text.clearRxBuffer:00000000 clearRxBuffer
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:705    .text.clearRxBuffer:00000014 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:711    .rodata.getBattery.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:715    .text.getBattery:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:722    .text.getBattery:00000000 getBattery
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:779    .text.getBattery:00000048 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:788    .text.clearMqttBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:795    .text.clearMqttBuffer:00000000 clearMqttBuffer
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:825    .text.clearMqttBuffer:00000018 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:832    .rodata.getGPS.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:838    .text.getGPS:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:845    .text.getGPS:00000000 getGPS
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:963    .text.getGPS:000000ac $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:974    .text.SIM800_SendCommand:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:981    .text.SIM800_SendCommand:00000000 SIM800_SendCommand
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1042   .text.SIM800_SendCommand:00000038 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1048   .text.SIM800_SendMQTT:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1055   .text.SIM800_SendMQTT:00000000 SIM800_SendMQTT
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1117   .text.SIM800_SendMQTT:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1123   .rodata.MQTT_Connect.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1139   .text.MQTT_Connect:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1146   .text.MQTT_Connect:00000000 MQTT_Connect
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1336   .text.MQTT_Connect:000000dc $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1349   .rodata.MQTT_Init.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1377   .text.MQTT_Init:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1384   .text.MQTT_Init:00000000 MQTT_Init
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1559   .text.MQTT_Init:000000e4 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1576   .text.MQTT_Pub:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1583   .text.MQTT_Pub:00000000 MQTT_Pub
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1695   .text.MQTT_Pub:00000088 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1703   .rodata.MQTT_PubUint8.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1707   .text.MQTT_PubUint8:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1714   .text.MQTT_PubUint8:00000000 MQTT_PubUint8
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1768   .text.MQTT_PubUint8:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1773   .text.MQTT_PubUint16:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1780   .text.MQTT_PubUint16:00000000 MQTT_PubUint16
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1834   .text.MQTT_PubUint16:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1839   .rodata.MQTT_PubUint32.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1843   .text.MQTT_PubUint32:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1850   .text.MQTT_PubUint32:00000000 MQTT_PubUint32
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 66


C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1904   .text.MQTT_PubUint32:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1909   .text.MQTT_PubFloat:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1916   .text.MQTT_PubFloat:00000000 MQTT_PubFloat
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1968   .text.MQTT_PubDouble:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:1975   .text.MQTT_PubDouble:00000000 MQTT_PubDouble
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2031   .text.MQTT_PingReq:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2038   .text.MQTT_PingReq:00000000 MQTT_PingReq
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2108   .text.MQTT_PingReq:0000004c $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2116   .text.MQTT_Sub:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2123   .text.MQTT_Sub:00000000 MQTT_Sub
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2219   .text.MQTT_Sub:0000006c $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2227   .text.MQTT_Receive:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2234   .text.MQTT_Receive:00000000 MQTT_Receive
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2321   .text.MQTT_Receive:0000006c $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2326   .rodata.Sim800_RxCallBack.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2348   .text.Sim800_RxCallBack:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2355   .text.Sim800_RxCallBack:00000000 Sim800_RxCallBack
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2581   .text.Sim800_RxCallBack:0000010c $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2680   .bss.mqtt_index:00000000 mqtt_index
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2673   .bss.mqtt_buffer:00000000 mqtt_buffer
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2686   .bss.mqtt_receive:00000000 mqtt_receive
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2706   .bss.rx_index:00000000 rx_index
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2693   .bss.rx_buffer:00000000 rx_buffer
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2699   .bss.rx_data:00000000 rx_data
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2666   .bss.is_GPS:00000000 is_GPS
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2653   .bss.SIM800_Batt:00000000 SIM800_Batt
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2660   .bss.SIM800_Status:00000000 SIM800_Status
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2610   .rodata:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2649   .bss.SIM800_Batt:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2656   .bss.SIM800_Status:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2667   .bss.is_GPS:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2669   .bss.mqtt_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2676   .bss.mqtt_index:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2687   .bss.mqtt_receive:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2689   .bss.rx_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2700   .bss.rx_data:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s:2702   .bss.rx_index:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2iz
__aeabi_i2f
__aeabi_fsub
__aeabi_i2d
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
pow
__aeabi_fmul
__aeabi_fadd
__aeabi_ddiv
__aeabi_dadd
strtol
myGPS
memset
strlen
HAL_UART_Transmit_IT
osDelay
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccsSG9h3.s 			page 67


sscanf
huart1
strstr
snprintf
memcpy
MQTTSerialize_connect
SIM800
MQTTSerialize_publish
sprintf
MQTTSerialize_pingreq
MQTTSerialize_subscribe
MQTTDeserialize_publish
strchr
HAL_UART_Receive_IT
is_SMS_done
