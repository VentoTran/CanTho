ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"MQTTSim800.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.reverse,"ax",%progbits
  16              		.align	1
  17              		.global	reverse
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	reverse:
  25              	.LVL0:
  26              	.LFB72:
  27              		.file 1 "Core/Src/MQTTSim800.c"
   1:Core/Src/MQTTSim800.c **** /*
   2:Core/Src/MQTTSim800.c ****  * MQTTSim800.c
   3:Core/Src/MQTTSim800.c ****  *
   4:Core/Src/MQTTSim800.c ****  *  Created on: Jan 4, 2020
   5:Core/Src/MQTTSim800.c ****  *      Author: Bulanov Konstantin
   6:Core/Src/MQTTSim800.c ****  *
   7:Core/Src/MQTTSim800.c ****  *  Contact information
   8:Core/Src/MQTTSim800.c ****  *  -------------------
   9:Core/Src/MQTTSim800.c ****  *
  10:Core/Src/MQTTSim800.c ****  * e-mail   :   leech001@gmail.com
  11:Core/Src/MQTTSim800.c ****  * telegram :   https://t.me/leech001
  12:Core/Src/MQTTSim800.c ****  *
  13:Core/Src/MQTTSim800.c ****  */
  14:Core/Src/MQTTSim800.c **** 
  15:Core/Src/MQTTSim800.c **** /*
  16:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  17:Core/Src/MQTTSim800.c ****         DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  18:Core/Src/MQTTSim800.c ****                     Version 2, December 2004
  19:Core/Src/MQTTSim800.c **** 
  20:Core/Src/MQTTSim800.c **** Copyright (C) 2020 Bulanov Konstantin <leech001@gmail.com>
  21:Core/Src/MQTTSim800.c **** 
  22:Core/Src/MQTTSim800.c **** Everyone is permitted to copy and distribute verbatim or modified
  23:Core/Src/MQTTSim800.c **** copies of this license document, and changing it is allowed as long
  24:Core/Src/MQTTSim800.c **** as the name is changed.
  25:Core/Src/MQTTSim800.c **** 
  26:Core/Src/MQTTSim800.c ****             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  27:Core/Src/MQTTSim800.c **** TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
  28:Core/Src/MQTTSim800.c **** 
  29:Core/Src/MQTTSim800.c **** 0. You just DO WHAT THE FUCK YOU WANT TO.
  30:Core/Src/MQTTSim800.c **** 
  31:Core/Src/MQTTSim800.c **** MQTT packet https://github.com/eclipse/paho.mqtt.embedded-c/tree/master/MQTTPacket
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 2


  32:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  33:Core/Src/MQTTSim800.c **** */
  34:Core/Src/MQTTSim800.c **** 
  35:Core/Src/MQTTSim800.c **** #include "MQTTSim800.h"
  36:Core/Src/MQTTSim800.c **** #include "main.h"
  37:Core/Src/MQTTSim800.c **** #include "usart.h"
  38:Core/Src/MQTTSim800.c **** #include <string.h>
  39:Core/Src/MQTTSim800.c **** #include "MQTTPacket.h"
  40:Core/Src/MQTTSim800.c **** #include "math.h"
  41:Core/Src/MQTTSim800.c **** 
  42:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
  43:Core/Src/MQTTSim800.c **** #include <cmsis_os.h>
  44:Core/Src/MQTTSim800.c **** #endif
  45:Core/Src/MQTTSim800.c **** 
  46:Core/Src/MQTTSim800.c **** typedef struct
  47:Core/Src/MQTTSim800.c **** {
  48:Core/Src/MQTTSim800.c ****     uint8_t SIM;
  49:Core/Src/MQTTSim800.c ****     uint8_t GPRS;
  50:Core/Src/MQTTSim800.c ****     uint8_t MQTT;
  51:Core/Src/MQTTSim800.c **** } SIM800_St;
  52:Core/Src/MQTTSim800.c **** 
  53:Core/Src/MQTTSim800.c **** extern SIM800_t SIM800;
  54:Core/Src/MQTTSim800.c **** SIM800_St SIM800_Status = {0, 0, 0};
  55:Core/Src/MQTTSim800.c **** 
  56:Core/Src/MQTTSim800.c **** uint8_t rx_data = 0;
  57:Core/Src/MQTTSim800.c **** uint8_t rx_buffer[200] = {0};
  58:Core/Src/MQTTSim800.c **** uint16_t rx_index = 0;
  59:Core/Src/MQTTSim800.c **** 
  60:Core/Src/MQTTSim800.c **** uint8_t mqtt_receive = 0;
  61:Core/Src/MQTTSim800.c **** char mqtt_buffer[200] = {0};
  62:Core/Src/MQTTSim800.c **** uint16_t mqtt_index = 0;
  63:Core/Src/MQTTSim800.c **** 
  64:Core/Src/MQTTSim800.c **** //-------------------------------------------------------------------------
  65:Core/Src/MQTTSim800.c **** 
  66:Core/Src/MQTTSim800.c **** // Reverses a string 'str' of length 'len'
  67:Core/Src/MQTTSim800.c **** void reverse(char* str, int len)
  68:Core/Src/MQTTSim800.c **** {
  28              		.loc 1 68 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  69:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  33              		.loc 1 69 5 view .LVU1
  34              		.loc 1 69 16 is_stmt 0 view .LVU2
  35 0000 0139     		subs	r1, r1, #1
  36              	.LVL1:
  70:Core/Src/MQTTSim800.c ****     while (i < j)
  37              		.loc 1 70 5 is_stmt 1 view .LVU3
  69:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  38              		.loc 1 69 9 is_stmt 0 view .LVU4
  39 0002 0023     		movs	r3, #0
  40              		.loc 1 70 11 view .LVU5
  41 0004 07E0     		b	.L2
  42              	.LVL2:
  43              	.L3:
  71:Core/Src/MQTTSim800.c ****     {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 3


  72:Core/Src/MQTTSim800.c ****         temp = str[i];
  44              		.loc 1 72 9 is_stmt 1 view .LVU6
  45              		.loc 1 72 19 is_stmt 0 view .LVU7
  46 0006 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
  47              	.LVL3:
  73:Core/Src/MQTTSim800.c ****         str[i] = str[j];
  48              		.loc 1 73 9 is_stmt 1 view .LVU8
  49              		.loc 1 73 21 is_stmt 0 view .LVU9
  50 0008 10F801C0 		ldrb	ip, [r0, r1]	@ zero_extendqisi2
  51              		.loc 1 73 16 view .LVU10
  52 000c 00F803C0 		strb	ip, [r0, r3]
  74:Core/Src/MQTTSim800.c ****         str[j] = temp;
  53              		.loc 1 74 9 is_stmt 1 view .LVU11
  54              		.loc 1 74 16 is_stmt 0 view .LVU12
  55 0010 4254     		strb	r2, [r0, r1]
  75:Core/Src/MQTTSim800.c ****         i++;
  56              		.loc 1 75 9 is_stmt 1 view .LVU13
  57              		.loc 1 75 10 is_stmt 0 view .LVU14
  58 0012 0133     		adds	r3, r3, #1
  59              	.LVL4:
  76:Core/Src/MQTTSim800.c ****         j--;
  60              		.loc 1 76 9 is_stmt 1 view .LVU15
  61              		.loc 1 76 10 is_stmt 0 view .LVU16
  62 0014 0139     		subs	r1, r1, #1
  63              	.LVL5:
  64              	.L2:
  70:Core/Src/MQTTSim800.c ****     {
  65              		.loc 1 70 11 is_stmt 1 view .LVU17
  66 0016 8B42     		cmp	r3, r1
  67 0018 F5DB     		blt	.L3
  77:Core/Src/MQTTSim800.c ****     }
  78:Core/Src/MQTTSim800.c **** }
  68              		.loc 1 78 1 is_stmt 0 view .LVU18
  69 001a 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE72:
  73              		.section	.text.intToStr,"ax",%progbits
  74              		.align	1
  75              		.global	intToStr
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu softvfp
  81              	intToStr:
  82              	.LVL6:
  83              	.LFB73:
  79:Core/Src/MQTTSim800.c **** 
  80:Core/Src/MQTTSim800.c **** // Converts a given integer x to string str[]. 
  81:Core/Src/MQTTSim800.c **** // d is the number of digits required in the output. 
  82:Core/Src/MQTTSim800.c **** // If d is more than the number of digits in x, 
  83:Core/Src/MQTTSim800.c **** // then 0s are added at the beginning.
  84:Core/Src/MQTTSim800.c **** int intToStr(int x, char str[], int d)
  85:Core/Src/MQTTSim800.c **** {
  84              		.loc 1 85 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 4


  88              		.loc 1 85 1 is_stmt 0 view .LVU20
  89 0000 70B5     		push	{r4, r5, r6, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 4, -16
  93              		.cfi_offset 5, -12
  94              		.cfi_offset 6, -8
  95              		.cfi_offset 14, -4
  96 0002 0E46     		mov	r6, r1
  86:Core/Src/MQTTSim800.c ****     int i = 0;
  97              		.loc 1 86 5 is_stmt 1 view .LVU21
  98              	.LVL7:
  87:Core/Src/MQTTSim800.c ****     if (x == 0)
  99              		.loc 1 87 5 view .LVU22
 100              		.loc 1 87 8 is_stmt 0 view .LVU23
 101 0004 18B9     		cbnz	r0, .L10
  88:Core/Src/MQTTSim800.c ****     {
  89:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 102              		.loc 1 89 9 is_stmt 1 view .LVU24
 103              	.LVL8:
 104              		.loc 1 89 18 is_stmt 0 view .LVU25
 105 0006 3023     		movs	r3, #48
 106 0008 0B70     		strb	r3, [r1]
 107              		.loc 1 89 14 view .LVU26
 108 000a 0124     		movs	r4, #1
 109 000c 15E0     		b	.L6
 110              	.LVL9:
 111              	.L10:
 112              		.loc 1 89 14 view .LVU27
 113 000e 0546     		mov	r5, r0
  86:Core/Src/MQTTSim800.c ****     if (x == 0)
 114              		.loc 1 86 9 view .LVU28
 115 0010 0024     		movs	r4, #0
 116              	.LVL10:
 117              	.L5:
  90:Core/Src/MQTTSim800.c ****     }
  91:Core/Src/MQTTSim800.c ****     else
  92:Core/Src/MQTTSim800.c ****     {
  93:Core/Src/MQTTSim800.c ****         while (x)
 118              		.loc 1 93 15 is_stmt 1 view .LVU29
 119 0012 95B1     		cbz	r5, .L6
  94:Core/Src/MQTTSim800.c ****         {
  95:Core/Src/MQTTSim800.c ****             str[i++] = (x % 10) + '0';
 120              		.loc 1 95 13 view .LVU30
 121              		.loc 1 95 27 is_stmt 0 view .LVU31
 122 0014 0E49     		ldr	r1, .L12
 123 0016 81FB0531 		smull	r3, r1, r1, r5
 124 001a EB17     		asrs	r3, r5, #31
 125 001c C3EBA103 		rsb	r3, r3, r1, asr #2
 126 0020 1946     		mov	r1, r3
 127 0022 03EB8303 		add	r3, r3, r3, lsl #2
 128 0026 A5EB4303 		sub	r3, r5, r3, lsl #1
 129              	.LVL11:
 130              		.loc 1 95 33 view .LVU32
 131 002a 3033     		adds	r3, r3, #48
 132              		.loc 1 95 22 view .LVU33
 133 002c 3355     		strb	r3, [r6, r4]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 5


  96:Core/Src/MQTTSim800.c ****             x = x / 10;
 134              		.loc 1 96 13 is_stmt 1 view .LVU34
 135              		.loc 1 96 15 is_stmt 0 view .LVU35
 136 002e 0D46     		mov	r5, r1
 137              	.LVL12:
  95:Core/Src/MQTTSim800.c ****             x = x / 10;
 138              		.loc 1 95 18 view .LVU36
 139 0030 0134     		adds	r4, r4, #1
 140              	.LVL13:
  95:Core/Src/MQTTSim800.c ****             x = x / 10;
 141              		.loc 1 95 18 view .LVU37
 142 0032 EEE7     		b	.L5
 143              	.LVL14:
 144              	.L9:
  97:Core/Src/MQTTSim800.c ****         }
  98:Core/Src/MQTTSim800.c ****     }
  99:Core/Src/MQTTSim800.c ****     
 100:Core/Src/MQTTSim800.c ****     // If number of digits required is more, then
 101:Core/Src/MQTTSim800.c ****     // add 0s at the beginning
 102:Core/Src/MQTTSim800.c ****     while (i < d)
 103:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 145              		.loc 1 103 9 is_stmt 1 view .LVU38
 146              		.loc 1 103 18 is_stmt 0 view .LVU39
 147 0034 3023     		movs	r3, #48
 148 0036 3355     		strb	r3, [r6, r4]
 149              		.loc 1 103 14 view .LVU40
 150 0038 0134     		adds	r4, r4, #1
 151              	.LVL15:
 152              	.L6:
 102:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 153              		.loc 1 102 11 is_stmt 1 view .LVU41
 154 003a 9442     		cmp	r4, r2
 155 003c FADB     		blt	.L9
 104:Core/Src/MQTTSim800.c **** 
 105:Core/Src/MQTTSim800.c ****     reverse(str, i);
 156              		.loc 1 105 5 view .LVU42
 157 003e 2146     		mov	r1, r4
 158 0040 3046     		mov	r0, r6
 159 0042 FFF7FEFF 		bl	reverse
 160              	.LVL16:
 106:Core/Src/MQTTSim800.c ****     str[i] = '\0';
 161              		.loc 1 106 5 view .LVU43
 162              		.loc 1 106 12 is_stmt 0 view .LVU44
 163 0046 0023     		movs	r3, #0
 164 0048 3355     		strb	r3, [r6, r4]
 107:Core/Src/MQTTSim800.c ****     return i;
 165              		.loc 1 107 5 is_stmt 1 view .LVU45
 108:Core/Src/MQTTSim800.c **** }
 166              		.loc 1 108 1 is_stmt 0 view .LVU46
 167 004a 2046     		mov	r0, r4
 168 004c 70BD     		pop	{r4, r5, r6, pc}
 169              	.LVL17:
 170              	.L13:
 171              		.loc 1 108 1 view .LVU47
 172 004e 00BF     		.align	2
 173              	.L12:
 174 0050 67666666 		.word	1717986919
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 6


 175              		.cfi_endproc
 176              	.LFE73:
 178              		.global	__aeabi_f2iz
 179              		.global	__aeabi_i2f
 180              		.global	__aeabi_fsub
 181              		.global	__aeabi_i2d
 182              		.global	__aeabi_f2d
 183              		.global	__aeabi_dmul
 184              		.global	__aeabi_d2f
 185              		.section	.text.ftoa,"ax",%progbits
 186              		.align	1
 187              		.global	ftoa
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu softvfp
 193              	ftoa:
 194              	.LVL18:
 195              	.LFB74:
 109:Core/Src/MQTTSim800.c **** 
 110:Core/Src/MQTTSim800.c **** // Converts a floating-point/double number to a string.
 111:Core/Src/MQTTSim800.c **** void ftoa(float n, char* res, int afterpoint)
 112:Core/Src/MQTTSim800.c **** {
 196              		.loc 1 112 1 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200              		.loc 1 112 1 is_stmt 0 view .LVU49
 201 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 202              	.LCFI1:
 203              		.cfi_def_cfa_offset 32
 204              		.cfi_offset 3, -32
 205              		.cfi_offset 4, -28
 206              		.cfi_offset 5, -24
 207              		.cfi_offset 6, -20
 208              		.cfi_offset 7, -16
 209              		.cfi_offset 8, -12
 210              		.cfi_offset 9, -8
 211              		.cfi_offset 14, -4
 212 0004 0646     		mov	r6, r0
 213 0006 0C46     		mov	r4, r1
 214 0008 1746     		mov	r7, r2
 113:Core/Src/MQTTSim800.c ****     // Extract integer part
 114:Core/Src/MQTTSim800.c ****     int ipart = (int)n;
 215              		.loc 1 114 5 is_stmt 1 view .LVU50
 216              		.loc 1 114 9 is_stmt 0 view .LVU51
 217 000a FFF7FEFF 		bl	__aeabi_f2iz
 218              	.LVL19:
 219              		.loc 1 114 9 view .LVU52
 220 000e 0546     		mov	r5, r0
 221              	.LVL20:
 115:Core/Src/MQTTSim800.c ****     // Extract floating part
 116:Core/Src/MQTTSim800.c ****     float fpart = n - (float)ipart;
 222              		.loc 1 116 5 is_stmt 1 view .LVU53
 223              		.loc 1 116 23 is_stmt 0 view .LVU54
 224 0010 FFF7FEFF 		bl	__aeabi_i2f
 225              	.LVL21:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 7


 226              		.loc 1 116 23 view .LVU55
 227 0014 0146     		mov	r1, r0
 228              		.loc 1 116 11 view .LVU56
 229 0016 3046     		mov	r0, r6
 230 0018 FFF7FEFF 		bl	__aeabi_fsub
 231              	.LVL22:
 232 001c 0646     		mov	r6, r0
 233              	.LVL23:
 117:Core/Src/MQTTSim800.c ****     // convert integer part to string
 118:Core/Src/MQTTSim800.c ****     int i = intToStr(ipart, res, 0);
 234              		.loc 1 118 5 is_stmt 1 view .LVU57
 235              		.loc 1 118 13 is_stmt 0 view .LVU58
 236 001e 0022     		movs	r2, #0
 237 0020 2146     		mov	r1, r4
 238 0022 2846     		mov	r0, r5
 239              	.LVL24:
 240              		.loc 1 118 13 view .LVU59
 241 0024 FFF7FEFF 		bl	intToStr
 242              	.LVL25:
 119:Core/Src/MQTTSim800.c ****     // check for display option after point
 120:Core/Src/MQTTSim800.c ****     if (afterpoint != 0)
 243              		.loc 1 120 5 is_stmt 1 view .LVU60
 244              		.loc 1 120 8 is_stmt 0 view .LVU61
 245 0028 0FB9     		cbnz	r7, .L17
 246              	.LVL26:
 247              	.L14:
 121:Core/Src/MQTTSim800.c ****     {
 122:Core/Src/MQTTSim800.c ****         res[i] = '.'; // add dot
 123:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 124:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 125:Core/Src/MQTTSim800.c ****     }
 126:Core/Src/MQTTSim800.c **** }
 248              		.loc 1 126 1 view .LVU62
 249 002a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 250              	.LVL27:
 251              	.L17:
 252              		.loc 1 126 1 view .LVU63
 253 002e 0546     		mov	r5, r0
 254              	.LVL28:
 122:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 255              		.loc 1 122 9 is_stmt 1 view .LVU64
 122:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 256              		.loc 1 122 16 is_stmt 0 view .LVU65
 257 0030 2E23     		movs	r3, #46
 258 0032 2354     		strb	r3, [r4, r0]
 123:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 259              		.loc 1 123 9 is_stmt 1 view .LVU66
 123:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 260              		.loc 1 123 25 is_stmt 0 view .LVU67
 261 0034 3846     		mov	r0, r7
 262              	.LVL29:
 123:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 263              		.loc 1 123 25 view .LVU68
 264 0036 FFF7FEFF 		bl	__aeabi_i2d
 265              	.LVL30:
 266 003a 0246     		mov	r2, r0
 267 003c 0B46     		mov	r3, r1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 8


 268 003e 0020     		movs	r0, #0
 269 0040 0B49     		ldr	r1, .L18
 270 0042 FFF7FEFF 		bl	pow
 271              	.LVL31:
 272 0046 8046     		mov	r8, r0
 273 0048 8946     		mov	r9, r1
 123:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 274              		.loc 1 123 23 view .LVU69
 275 004a 3046     		mov	r0, r6
 276 004c FFF7FEFF 		bl	__aeabi_f2d
 277              	.LVL32:
 278 0050 4246     		mov	r2, r8
 279 0052 4B46     		mov	r3, r9
 280 0054 FFF7FEFF 		bl	__aeabi_dmul
 281              	.LVL33:
 123:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 282              		.loc 1 123 15 view .LVU70
 283 0058 FFF7FEFF 		bl	__aeabi_d2f
 284              	.LVL34:
 124:Core/Src/MQTTSim800.c ****     }
 285              		.loc 1 124 9 is_stmt 1 view .LVU71
 124:Core/Src/MQTTSim800.c ****     }
 286              		.loc 1 124 38 is_stmt 0 view .LVU72
 287 005c 691C     		adds	r1, r5, #1
 124:Core/Src/MQTTSim800.c ****     }
 288              		.loc 1 124 9 view .LVU73
 289 005e 0C44     		add	r4, r4, r1
 290              	.LVL35:
 124:Core/Src/MQTTSim800.c ****     }
 291              		.loc 1 124 9 view .LVU74
 292 0060 FFF7FEFF 		bl	__aeabi_f2iz
 293              	.LVL36:
 124:Core/Src/MQTTSim800.c ****     }
 294              		.loc 1 124 9 view .LVU75
 295 0064 3A46     		mov	r2, r7
 296 0066 2146     		mov	r1, r4
 297 0068 FFF7FEFF 		bl	intToStr
 298              	.LVL37:
 299              		.loc 1 126 1 view .LVU76
 300 006c DDE7     		b	.L14
 301              	.L19:
 302 006e 00BF     		.align	2
 303              	.L18:
 304 0070 00002440 		.word	1076101120
 305              		.cfi_endproc
 306              	.LFE74:
 308              		.section	.text.clearRxBuffer,"ax",%progbits
 309              		.align	1
 310              		.global	clearRxBuffer
 311              		.syntax unified
 312              		.thumb
 313              		.thumb_func
 314              		.fpu softvfp
 316              	clearRxBuffer:
 317              	.LFB76:
 127:Core/Src/MQTTSim800.c **** 
 128:Core/Src/MQTTSim800.c **** 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 9


 129:Core/Src/MQTTSim800.c **** //--------------------------------------------------------------------------
 130:Core/Src/MQTTSim800.c **** 
 131:Core/Src/MQTTSim800.c **** /**
 132:Core/Src/MQTTSim800.c ****  * Call back function for release read SIM800 UART buffer.
 133:Core/Src/MQTTSim800.c ****  * @param NONE
 134:Core/Src/MQTTSim800.c ****  * @return NONE
 135:Core/Src/MQTTSim800.c ****  */
 136:Core/Src/MQTTSim800.c **** void Sim800_RxCallBack(void)
 137:Core/Src/MQTTSim800.c **** {
 138:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 139:Core/Src/MQTTSim800.c **** 
 140:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 0)
 141:Core/Src/MQTTSim800.c ****     {
 142:Core/Src/MQTTSim800.c ****         if (strstr((char *)rx_buffer, "\r\n") != NULL && rx_index == 2)
 143:Core/Src/MQTTSim800.c ****         {
 144:Core/Src/MQTTSim800.c ****             rx_index = 0;
 145:Core/Src/MQTTSim800.c ****         }
 146:Core/Src/MQTTSim800.c ****         else if (strstr((char *)rx_buffer, "\r\n") != NULL)
 147:Core/Src/MQTTSim800.c ****         {
 148:Core/Src/MQTTSim800.c ****             memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 149:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 150:Core/Src/MQTTSim800.c ****             if (strstr(mqtt_buffer, "DY CONNECT\r\n"))
 151:Core/Src/MQTTSim800.c ****             {
 152:Core/Src/MQTTSim800.c ****                 SIM800.mqttServer.connect = 0;
 153:Core/Src/MQTTSim800.c ****             }
 154:Core/Src/MQTTSim800.c ****             else if (strstr(mqtt_buffer, "CONNECT\r\n"))
 155:Core/Src/MQTTSim800.c ****             {
 156:Core/Src/MQTTSim800.c ****                 SIM800.mqttServer.connect = 1;
 157:Core/Src/MQTTSim800.c ****             }
 158:Core/Src/MQTTSim800.c ****         }
 159:Core/Src/MQTTSim800.c ****     }
 160:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "CLOSED\r\n") || strstr((char *)rx_buffer, "ERROR\r\n") || strstr
 161:Core/Src/MQTTSim800.c ****     {
 162:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 0;
 163:Core/Src/MQTTSim800.c ****     }
 164:Core/Src/MQTTSim800.c ****     if (strstr((char*)rx_buffer, "SEND OK\r\n"))  
 165:Core/Src/MQTTSim800.c ****     {
 166:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 1;
 167:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 168:Core/Src/MQTTSim800.c ****     } 
 169:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1 && rx_data == 48)
 170:Core/Src/MQTTSim800.c ****     {
 171:Core/Src/MQTTSim800.c ****         mqtt_receive = 1;
 172:Core/Src/MQTTSim800.c ****     }
 173:Core/Src/MQTTSim800.c ****     if (mqtt_receive == 1)
 174:Core/Src/MQTTSim800.c ****     {
 175:Core/Src/MQTTSim800.c ****         mqtt_buffer[mqtt_index++] = rx_data;
 176:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 177:Core/Src/MQTTSim800.c ****         {
 178:Core/Src/MQTTSim800.c ****             //MQTT_Receive((unsigned char *)mqtt_buffer);
 179:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 180:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 181:Core/Src/MQTTSim800.c ****         }
 182:Core/Src/MQTTSim800.c ****         if (mqtt_index >= sizeof(mqtt_buffer))
 183:Core/Src/MQTTSim800.c ****         {
 184:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 185:Core/Src/MQTTSim800.c ****         }
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 10


 186:Core/Src/MQTTSim800.c ****     }
 187:Core/Src/MQTTSim800.c ****     if (rx_index >= sizeof(mqtt_buffer))
 188:Core/Src/MQTTSim800.c ****     {
 189:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 190:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 191:Core/Src/MQTTSim800.c ****     }
 192:Core/Src/MQTTSim800.c ****     if (rx_data == '>')
 193:Core/Src/MQTTSim800.c ****     {
 194:Core/Src/MQTTSim800.c ****         memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 195:Core/Src/MQTTSim800.c ****     }
 196:Core/Src/MQTTSim800.c **** 
 197:Core/Src/MQTTSim800.c **** 
 198:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 199:Core/Src/MQTTSim800.c **** }
 200:Core/Src/MQTTSim800.c **** 
 201:Core/Src/MQTTSim800.c **** /**
 202:Core/Src/MQTTSim800.c ****  * Clear SIM800 UART RX buffer.
 203:Core/Src/MQTTSim800.c ****  * @param NONE
 204:Core/Src/MQTTSim800.c ****  * @return NONE
 205:Core/Src/MQTTSim800.c ****  */
 206:Core/Src/MQTTSim800.c **** void clearRxBuffer(void)
 207:Core/Src/MQTTSim800.c **** {
 318              		.loc 1 207 1 is_stmt 1 view -0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322 0000 08B5     		push	{r3, lr}
 323              	.LCFI2:
 324              		.cfi_def_cfa_offset 8
 325              		.cfi_offset 3, -8
 326              		.cfi_offset 14, -4
 208:Core/Src/MQTTSim800.c ****     rx_index = 0;
 327              		.loc 1 208 5 view .LVU78
 328              		.loc 1 208 14 is_stmt 0 view .LVU79
 329 0002 0021     		movs	r1, #0
 330 0004 034B     		ldr	r3, .L22
 331 0006 1980     		strh	r1, [r3]	@ movhi
 209:Core/Src/MQTTSim800.c ****     memset(rx_buffer, 0, sizeof(rx_buffer));
 332              		.loc 1 209 5 is_stmt 1 view .LVU80
 333 0008 C822     		movs	r2, #200
 334 000a 0348     		ldr	r0, .L22+4
 335 000c FFF7FEFF 		bl	memset
 336              	.LVL38:
 210:Core/Src/MQTTSim800.c **** }
 337              		.loc 1 210 1 is_stmt 0 view .LVU81
 338 0010 08BD     		pop	{r3, pc}
 339              	.L23:
 340 0012 00BF     		.align	2
 341              	.L22:
 342 0014 00000000 		.word	.LANCHOR0
 343 0018 00000000 		.word	.LANCHOR1
 344              		.cfi_endproc
 345              	.LFE76:
 347              		.section	.text.clearMqttBuffer,"ax",%progbits
 348              		.align	1
 349              		.global	clearMqttBuffer
 350              		.syntax unified
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 11


 351              		.thumb
 352              		.thumb_func
 353              		.fpu softvfp
 355              	clearMqttBuffer:
 356              	.LFB77:
 211:Core/Src/MQTTSim800.c **** 
 212:Core/Src/MQTTSim800.c **** /**
 213:Core/Src/MQTTSim800.c ****  * Clear MQTT buffer.
 214:Core/Src/MQTTSim800.c ****  * @param NONE
 215:Core/Src/MQTTSim800.c ****  * @return NONE
 216:Core/Src/MQTTSim800.c ****  */
 217:Core/Src/MQTTSim800.c **** void clearMqttBuffer(void)
 218:Core/Src/MQTTSim800.c **** {
 357              		.loc 1 218 1 is_stmt 1 view -0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361 0000 08B5     		push	{r3, lr}
 362              	.LCFI3:
 363              		.cfi_def_cfa_offset 8
 364              		.cfi_offset 3, -8
 365              		.cfi_offset 14, -4
 219:Core/Src/MQTTSim800.c ****     mqtt_receive = 0;
 366              		.loc 1 219 5 view .LVU83
 367              		.loc 1 219 18 is_stmt 0 view .LVU84
 368 0002 0021     		movs	r1, #0
 369 0004 044B     		ldr	r3, .L26
 370 0006 1970     		strb	r1, [r3]
 220:Core/Src/MQTTSim800.c ****     mqtt_index = 0;
 371              		.loc 1 220 5 is_stmt 1 view .LVU85
 372              		.loc 1 220 16 is_stmt 0 view .LVU86
 373 0008 044B     		ldr	r3, .L26+4
 374 000a 1980     		strh	r1, [r3]	@ movhi
 221:Core/Src/MQTTSim800.c ****     memset(mqtt_buffer, 0, sizeof(mqtt_buffer));
 375              		.loc 1 221 5 is_stmt 1 view .LVU87
 376 000c C822     		movs	r2, #200
 377 000e 0448     		ldr	r0, .L26+8
 378 0010 FFF7FEFF 		bl	memset
 379              	.LVL39:
 222:Core/Src/MQTTSim800.c **** }
 380              		.loc 1 222 1 is_stmt 0 view .LVU88
 381 0014 08BD     		pop	{r3, pc}
 382              	.L27:
 383 0016 00BF     		.align	2
 384              	.L26:
 385 0018 00000000 		.word	.LANCHOR2
 386 001c 00000000 		.word	.LANCHOR3
 387 0020 00000000 		.word	.LANCHOR4
 388              		.cfi_endproc
 389              	.LFE77:
 391              		.section	.rodata.Sim800_RxCallBack.str1.4,"aMS",%progbits,1
 392              		.align	2
 393              	.LC1:
 394 0000 0D0A00   		.ascii	"\015\012\000"
 395 0003 00       		.align	2
 396              	.LC2:
 397 0004 44592043 		.ascii	"DY CONNECT\015\012\000"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 12


 397      4F4E4E45 
 397      43540D0A 
 397      00
 398 0011 000000   		.align	2
 399              	.LC3:
 400 0014 434F4E4E 		.ascii	"CONNECT\015\012\000"
 400      4543540D 
 400      0A00
 401 001e 0000     		.align	2
 402              	.LC4:
 403 0020 434C4F53 		.ascii	"CLOSED\015\012\000"
 403      45440D0A 
 403      00
 404 0029 000000   		.align	2
 405              	.LC5:
 406 002c 4552524F 		.ascii	"ERROR\015\012\000"
 406      520D0A00 
 407              		.align	2
 408              	.LC6:
 409 0034 44454143 		.ascii	"DEACT\015\012\000"
 409      540D0A00 
 410              		.align	2
 411              	.LC7:
 412 003c 53454E44 		.ascii	"SEND OK\015\012\000"
 412      204F4B0D 
 412      0A00
 413              		.section	.text.Sim800_RxCallBack,"ax",%progbits
 414              		.align	1
 415              		.global	Sim800_RxCallBack
 416              		.syntax unified
 417              		.thumb
 418              		.thumb_func
 419              		.fpu softvfp
 421              	Sim800_RxCallBack:
 422              	.LFB75:
 137:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 423              		.loc 1 137 1 is_stmt 1 view -0
 424              		.cfi_startproc
 425              		@ args = 0, pretend = 0, frame = 0
 426              		@ frame_needed = 0, uses_anonymous_args = 0
 427 0000 10B5     		push	{r4, lr}
 428              	.LCFI4:
 429              		.cfi_def_cfa_offset 8
 430              		.cfi_offset 4, -8
 431              		.cfi_offset 14, -4
 138:Core/Src/MQTTSim800.c **** 
 432              		.loc 1 138 5 view .LVU90
 138:Core/Src/MQTTSim800.c **** 
 433              		.loc 1 138 23 is_stmt 0 view .LVU91
 434 0002 4C4A     		ldr	r2, .L48
 435 0004 1388     		ldrh	r3, [r2]
 436 0006 5C1C     		adds	r4, r3, #1
 437 0008 A4B2     		uxth	r4, r4
 438 000a 1480     		strh	r4, [r2]	@ movhi
 138:Core/Src/MQTTSim800.c **** 
 439              		.loc 1 138 27 view .LVU92
 440 000c 4A4A     		ldr	r2, .L48+4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 13


 441 000e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 442 0010 4A4A     		ldr	r2, .L48+8
 443 0012 D154     		strb	r1, [r2, r3]
 140:Core/Src/MQTTSim800.c ****     {
 444              		.loc 1 140 5 is_stmt 1 view .LVU93
 140:Core/Src/MQTTSim800.c ****     {
 445              		.loc 1 140 26 is_stmt 0 view .LVU94
 446 0014 4A4B     		ldr	r3, .L48+12
 447 0016 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 140:Core/Src/MQTTSim800.c ****     {
 448              		.loc 1 140 8 view .LVU95
 449 0018 CBB9     		cbnz	r3, .L29
 142:Core/Src/MQTTSim800.c ****         {
 450              		.loc 1 142 9 is_stmt 1 view .LVU96
 142:Core/Src/MQTTSim800.c ****         {
 451              		.loc 1 142 13 is_stmt 0 view .LVU97
 452 001a 4A49     		ldr	r1, .L48+16
 453 001c 1046     		mov	r0, r2
 454 001e FFF7FEFF 		bl	strstr
 455              	.LVL40:
 142:Core/Src/MQTTSim800.c ****         {
 456              		.loc 1 142 12 view .LVU98
 457 0022 0346     		mov	r3, r0
 458 0024 08B1     		cbz	r0, .L30
 142:Core/Src/MQTTSim800.c ****         {
 459              		.loc 1 142 55 discriminator 1 view .LVU99
 460 0026 022C     		cmp	r4, #2
 461 0028 3AD0     		beq	.L41
 462              	.L30:
 146:Core/Src/MQTTSim800.c ****         {
 463              		.loc 1 146 14 is_stmt 1 view .LVU100
 146:Core/Src/MQTTSim800.c ****         {
 464              		.loc 1 146 17 is_stmt 0 view .LVU101
 465 002a 83B1     		cbz	r3, .L29
 148:Core/Src/MQTTSim800.c ****             clearRxBuffer();
 466              		.loc 1 148 13 is_stmt 1 view .LVU102
 467 002c 464C     		ldr	r4, .L48+20
 468 002e C822     		movs	r2, #200
 469 0030 4249     		ldr	r1, .L48+8
 470 0032 2046     		mov	r0, r4
 471 0034 FFF7FEFF 		bl	memcpy
 472              	.LVL41:
 149:Core/Src/MQTTSim800.c ****             if (strstr(mqtt_buffer, "DY CONNECT\r\n"))
 473              		.loc 1 149 13 view .LVU103
 474 0038 FFF7FEFF 		bl	clearRxBuffer
 475              	.LVL42:
 150:Core/Src/MQTTSim800.c ****             {
 476              		.loc 1 150 13 view .LVU104
 150:Core/Src/MQTTSim800.c ****             {
 477              		.loc 1 150 17 is_stmt 0 view .LVU105
 478 003c 4349     		ldr	r1, .L48+24
 479 003e 2046     		mov	r0, r4
 480 0040 FFF7FEFF 		bl	strstr
 481              	.LVL43:
 150:Core/Src/MQTTSim800.c ****             {
 482              		.loc 1 150 16 view .LVU106
 483 0044 0028     		cmp	r0, #0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 14


 484 0046 2FD0     		beq	.L31
 152:Core/Src/MQTTSim800.c ****             }
 485              		.loc 1 152 17 is_stmt 1 view .LVU107
 152:Core/Src/MQTTSim800.c ****             }
 486              		.loc 1 152 43 is_stmt 0 view .LVU108
 487 0048 3D4B     		ldr	r3, .L48+12
 488 004a 0022     		movs	r2, #0
 489 004c 9A74     		strb	r2, [r3, #18]
 490              	.L29:
 160:Core/Src/MQTTSim800.c ****     {
 491              		.loc 1 160 5 is_stmt 1 view .LVU109
 160:Core/Src/MQTTSim800.c ****     {
 492              		.loc 1 160 9 is_stmt 0 view .LVU110
 493 004e 4049     		ldr	r1, .L48+28
 494 0050 3A48     		ldr	r0, .L48+8
 495 0052 FFF7FEFF 		bl	strstr
 496              	.LVL44:
 160:Core/Src/MQTTSim800.c ****     {
 497              		.loc 1 160 8 view .LVU111
 498 0056 0028     		cmp	r0, #0
 499 0058 30D0     		beq	.L42
 500              	.L32:
 162:Core/Src/MQTTSim800.c ****     }
 501              		.loc 1 162 9 is_stmt 1 view .LVU112
 162:Core/Src/MQTTSim800.c ****     }
 502              		.loc 1 162 35 is_stmt 0 view .LVU113
 503 005a 394B     		ldr	r3, .L48+12
 504 005c 0022     		movs	r2, #0
 505 005e 9A74     		strb	r2, [r3, #18]
 506              	.L33:
 164:Core/Src/MQTTSim800.c ****     {
 507              		.loc 1 164 5 is_stmt 1 view .LVU114
 164:Core/Src/MQTTSim800.c ****     {
 508              		.loc 1 164 9 is_stmt 0 view .LVU115
 509 0060 3C49     		ldr	r1, .L48+32
 510 0062 3648     		ldr	r0, .L48+8
 511 0064 FFF7FEFF 		bl	strstr
 512              	.LVL45:
 164:Core/Src/MQTTSim800.c ****     {
 513              		.loc 1 164 8 view .LVU116
 514 0068 20B1     		cbz	r0, .L34
 166:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 515              		.loc 1 166 9 is_stmt 1 view .LVU117
 166:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 516              		.loc 1 166 35 is_stmt 0 view .LVU118
 517 006a 354B     		ldr	r3, .L48+12
 518 006c 0122     		movs	r2, #1
 519 006e 9A74     		strb	r2, [r3, #18]
 167:Core/Src/MQTTSim800.c ****     } 
 520              		.loc 1 167 9 is_stmt 1 view .LVU119
 521 0070 FFF7FEFF 		bl	clearRxBuffer
 522              	.LVL46:
 523              	.L34:
 169:Core/Src/MQTTSim800.c ****     {
 524              		.loc 1 169 5 view .LVU120
 169:Core/Src/MQTTSim800.c ****     {
 525              		.loc 1 169 26 is_stmt 0 view .LVU121
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 15


 526 0074 324B     		ldr	r3, .L48+12
 527 0076 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 169:Core/Src/MQTTSim800.c ****     {
 528              		.loc 1 169 8 view .LVU122
 529 0078 012B     		cmp	r3, #1
 530 007a 2CD0     		beq	.L43
 531              	.L35:
 173:Core/Src/MQTTSim800.c ****     {
 532              		.loc 1 173 5 is_stmt 1 view .LVU123
 173:Core/Src/MQTTSim800.c ****     {
 533              		.loc 1 173 22 is_stmt 0 view .LVU124
 534 007c 364B     		ldr	r3, .L48+36
 535 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 173:Core/Src/MQTTSim800.c ****     {
 536              		.loc 1 173 8 view .LVU125
 537 0080 012B     		cmp	r3, #1
 538 0082 30D0     		beq	.L44
 539              	.L36:
 187:Core/Src/MQTTSim800.c ****     {
 540              		.loc 1 187 5 is_stmt 1 view .LVU126
 187:Core/Src/MQTTSim800.c ****     {
 541              		.loc 1 187 18 is_stmt 0 view .LVU127
 542 0084 2B4B     		ldr	r3, .L48
 543 0086 1B88     		ldrh	r3, [r3]
 187:Core/Src/MQTTSim800.c ****     {
 544              		.loc 1 187 8 view .LVU128
 545 0088 C72B     		cmp	r3, #199
 546 008a 47D8     		bhi	.L45
 547              	.L38:
 192:Core/Src/MQTTSim800.c ****     {
 548              		.loc 1 192 5 is_stmt 1 view .LVU129
 192:Core/Src/MQTTSim800.c ****     {
 549              		.loc 1 192 17 is_stmt 0 view .LVU130
 550 008c 2A4B     		ldr	r3, .L48+4
 551 008e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 192:Core/Src/MQTTSim800.c ****     {
 552              		.loc 1 192 8 view .LVU131
 553 0090 3E2B     		cmp	r3, #62
 554 0092 48D0     		beq	.L46
 555              	.L39:
 198:Core/Src/MQTTSim800.c **** }
 556              		.loc 1 198 5 is_stmt 1 view .LVU132
 557 0094 0122     		movs	r2, #1
 558 0096 2849     		ldr	r1, .L48+4
 559 0098 3048     		ldr	r0, .L48+40
 560 009a FFF7FEFF 		bl	HAL_UART_Receive_IT
 561              	.LVL47:
 199:Core/Src/MQTTSim800.c **** 
 562              		.loc 1 199 1 is_stmt 0 view .LVU133
 563 009e 10BD     		pop	{r4, pc}
 564              	.L41:
 144:Core/Src/MQTTSim800.c ****         }
 565              		.loc 1 144 13 is_stmt 1 view .LVU134
 144:Core/Src/MQTTSim800.c ****         }
 566              		.loc 1 144 22 is_stmt 0 view .LVU135
 567 00a0 244B     		ldr	r3, .L48
 568 00a2 0022     		movs	r2, #0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 16


 569 00a4 1A80     		strh	r2, [r3]	@ movhi
 570 00a6 D2E7     		b	.L29
 571              	.L31:
 154:Core/Src/MQTTSim800.c ****             {
 572              		.loc 1 154 18 is_stmt 1 view .LVU136
 154:Core/Src/MQTTSim800.c ****             {
 573              		.loc 1 154 22 is_stmt 0 view .LVU137
 574 00a8 2D49     		ldr	r1, .L48+44
 575 00aa 2748     		ldr	r0, .L48+20
 576 00ac FFF7FEFF 		bl	strstr
 577              	.LVL48:
 154:Core/Src/MQTTSim800.c ****             {
 578              		.loc 1 154 21 view .LVU138
 579 00b0 0028     		cmp	r0, #0
 580 00b2 CCD0     		beq	.L29
 156:Core/Src/MQTTSim800.c ****             }
 581              		.loc 1 156 17 is_stmt 1 view .LVU139
 156:Core/Src/MQTTSim800.c ****             }
 582              		.loc 1 156 43 is_stmt 0 view .LVU140
 583 00b4 224B     		ldr	r3, .L48+12
 584 00b6 0122     		movs	r2, #1
 585 00b8 9A74     		strb	r2, [r3, #18]
 586 00ba C8E7     		b	.L29
 587              	.L42:
 160:Core/Src/MQTTSim800.c ****     {
 588              		.loc 1 160 52 discriminator 1 view .LVU141
 589 00bc 2949     		ldr	r1, .L48+48
 590 00be 1F48     		ldr	r0, .L48+8
 591 00c0 FFF7FEFF 		bl	strstr
 592              	.LVL49:
 160:Core/Src/MQTTSim800.c ****     {
 593              		.loc 1 160 49 discriminator 1 view .LVU142
 594 00c4 0028     		cmp	r0, #0
 595 00c6 C8D1     		bne	.L32
 160:Core/Src/MQTTSim800.c ****     {
 596              		.loc 1 160 94 discriminator 2 view .LVU143
 597 00c8 2749     		ldr	r1, .L48+52
 598 00ca 1C48     		ldr	r0, .L48+8
 599 00cc FFF7FEFF 		bl	strstr
 600              	.LVL50:
 160:Core/Src/MQTTSim800.c ****     {
 601              		.loc 1 160 91 discriminator 2 view .LVU144
 602 00d0 0028     		cmp	r0, #0
 603 00d2 C2D1     		bne	.L32
 604 00d4 C4E7     		b	.L33
 605              	.L43:
 169:Core/Src/MQTTSim800.c ****     {
 606              		.loc 1 169 51 discriminator 1 view .LVU145
 607 00d6 184B     		ldr	r3, .L48+4
 608 00d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 169:Core/Src/MQTTSim800.c ****     {
 609              		.loc 1 169 40 discriminator 1 view .LVU146
 610 00da 302B     		cmp	r3, #48
 611 00dc CED1     		bne	.L35
 171:Core/Src/MQTTSim800.c ****     }
 612              		.loc 1 171 9 is_stmt 1 view .LVU147
 171:Core/Src/MQTTSim800.c ****     }
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 17


 613              		.loc 1 171 22 is_stmt 0 view .LVU148
 614 00de 1E4B     		ldr	r3, .L48+36
 615 00e0 0122     		movs	r2, #1
 616 00e2 1A70     		strb	r2, [r3]
 617 00e4 CAE7     		b	.L35
 618              	.L44:
 175:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 619              		.loc 1 175 9 is_stmt 1 view .LVU149
 175:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 620              		.loc 1 175 31 is_stmt 0 view .LVU150
 621 00e6 2149     		ldr	r1, .L48+56
 622 00e8 0A88     		ldrh	r2, [r1]
 623 00ea 531C     		adds	r3, r2, #1
 624 00ec 9BB2     		uxth	r3, r3
 625 00ee 0B80     		strh	r3, [r1]	@ movhi
 175:Core/Src/MQTTSim800.c ****         if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 626              		.loc 1 175 35 view .LVU151
 627 00f0 1149     		ldr	r1, .L48+4
 628 00f2 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 629 00f4 1449     		ldr	r1, .L48+20
 630 00f6 8854     		strb	r0, [r1, r2]
 176:Core/Src/MQTTSim800.c ****         {
 631              		.loc 1 176 9 is_stmt 1 view .LVU152
 176:Core/Src/MQTTSim800.c ****         {
 632              		.loc 1 176 12 is_stmt 0 view .LVU153
 633 00f8 012B     		cmp	r3, #1
 634 00fa 03D9     		bls	.L37
 176:Core/Src/MQTTSim800.c ****         {
 635              		.loc 1 176 42 discriminator 1 view .LVU154
 636 00fc 013B     		subs	r3, r3, #1
 176:Core/Src/MQTTSim800.c ****         {
 637              		.loc 1 176 59 discriminator 1 view .LVU155
 638 00fe 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 176:Core/Src/MQTTSim800.c ****         {
 639              		.loc 1 176 28 discriminator 1 view .LVU156
 640 0100 9342     		cmp	r3, r2
 641 0102 06DC     		bgt	.L47
 642              	.L37:
 182:Core/Src/MQTTSim800.c ****         {
 643              		.loc 1 182 9 is_stmt 1 view .LVU157
 182:Core/Src/MQTTSim800.c ****         {
 644              		.loc 1 182 24 is_stmt 0 view .LVU158
 645 0104 194B     		ldr	r3, .L48+56
 646 0106 1B88     		ldrh	r3, [r3]
 182:Core/Src/MQTTSim800.c ****         {
 647              		.loc 1 182 12 view .LVU159
 648 0108 C72B     		cmp	r3, #199
 649 010a BBD9     		bls	.L36
 184:Core/Src/MQTTSim800.c ****         }
 650              		.loc 1 184 13 is_stmt 1 view .LVU160
 651 010c FFF7FEFF 		bl	clearMqttBuffer
 652              	.LVL51:
 653 0110 B8E7     		b	.L36
 654              	.L47:
 179:Core/Src/MQTTSim800.c ****             clearMqttBuffer();
 655              		.loc 1 179 13 view .LVU161
 656 0112 FFF7FEFF 		bl	clearRxBuffer
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 18


 657              	.LVL52:
 180:Core/Src/MQTTSim800.c ****         }
 658              		.loc 1 180 13 view .LVU162
 659 0116 FFF7FEFF 		bl	clearMqttBuffer
 660              	.LVL53:
 661 011a F3E7     		b	.L37
 662              	.L45:
 189:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 663              		.loc 1 189 9 view .LVU163
 664 011c FFF7FEFF 		bl	clearRxBuffer
 665              	.LVL54:
 190:Core/Src/MQTTSim800.c ****     }
 666              		.loc 1 190 9 view .LVU164
 667 0120 FFF7FEFF 		bl	clearMqttBuffer
 668              	.LVL55:
 669 0124 B2E7     		b	.L38
 670              	.L46:
 194:Core/Src/MQTTSim800.c ****     }
 671              		.loc 1 194 9 view .LVU165
 672 0126 C822     		movs	r2, #200
 673 0128 0449     		ldr	r1, .L48+8
 674 012a 0748     		ldr	r0, .L48+20
 675 012c FFF7FEFF 		bl	memcpy
 676              	.LVL56:
 677 0130 B0E7     		b	.L39
 678              	.L49:
 679 0132 00BF     		.align	2
 680              	.L48:
 681 0134 00000000 		.word	.LANCHOR0
 682 0138 00000000 		.word	.LANCHOR5
 683 013c 00000000 		.word	.LANCHOR1
 684 0140 00000000 		.word	SIM800
 685 0144 00000000 		.word	.LC1
 686 0148 00000000 		.word	.LANCHOR4
 687 014c 04000000 		.word	.LC2
 688 0150 20000000 		.word	.LC4
 689 0154 3C000000 		.word	.LC7
 690 0158 00000000 		.word	.LANCHOR2
 691 015c 00000000 		.word	huart1
 692 0160 14000000 		.word	.LC3
 693 0164 2C000000 		.word	.LC5
 694 0168 34000000 		.word	.LC6
 695 016c 00000000 		.word	.LANCHOR3
 696              		.cfi_endproc
 697              	.LFE75:
 699              		.section	.text.SIM800_SendCommand,"ax",%progbits
 700              		.align	1
 701              		.global	SIM800_SendCommand
 702              		.syntax unified
 703              		.thumb
 704              		.thumb_func
 705              		.fpu softvfp
 707              	SIM800_SendCommand:
 708              	.LVL57:
 709              	.LFB78:
 223:Core/Src/MQTTSim800.c **** 
 224:Core/Src/MQTTSim800.c **** /**
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 19


 225:Core/Src/MQTTSim800.c ****  * Send AT command to SIM800 over UART.
 226:Core/Src/MQTTSim800.c ****  * @param command the command to be used the send AT command
 227:Core/Src/MQTTSim800.c ****  * @param reply to be used to set the correct answer to the command
 228:Core/Src/MQTTSim800.c ****  * @param delay to be used to the set pause to the reply
 229:Core/Src/MQTTSim800.c ****  * @return error, 0 is OK
 230:Core/Src/MQTTSim800.c ****  */
 231:Core/Src/MQTTSim800.c **** int SIM800_SendCommand(char *command, char *reply, uint16_t delay)
 232:Core/Src/MQTTSim800.c **** {
 710              		.loc 1 232 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              		.loc 1 232 1 is_stmt 0 view .LVU167
 715 0000 70B5     		push	{r4, r5, r6, lr}
 716              	.LCFI5:
 717              		.cfi_def_cfa_offset 16
 718              		.cfi_offset 4, -16
 719              		.cfi_offset 5, -12
 720              		.cfi_offset 6, -8
 721              		.cfi_offset 14, -4
 722 0002 0646     		mov	r6, r0
 723 0004 0C46     		mov	r4, r1
 724 0006 1546     		mov	r5, r2
 233:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)command, (uint16_t)strlen(command));
 725              		.loc 1 233 5 is_stmt 1 view .LVU168
 726              		.loc 1 233 75 is_stmt 0 view .LVU169
 727 0008 FFF7FEFF 		bl	strlen
 728              	.LVL58:
 729              		.loc 1 233 5 view .LVU170
 730 000c 82B2     		uxth	r2, r0
 731 000e 3146     		mov	r1, r6
 732 0010 0948     		ldr	r0, .L54
 733 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 734              	.LVL59:
 234:Core/Src/MQTTSim800.c **** 
 235:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 236:Core/Src/MQTTSim800.c ****     osDelay(delay);
 735              		.loc 1 236 5 is_stmt 1 view .LVU171
 736 0016 2846     		mov	r0, r5
 737 0018 FFF7FEFF 		bl	osDelay
 738              	.LVL60:
 237:Core/Src/MQTTSim800.c **** #else
 238:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 239:Core/Src/MQTTSim800.c **** #endif
 240:Core/Src/MQTTSim800.c **** 
 241:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 739              		.loc 1 241 5 view .LVU172
 740              		.loc 1 241 9 is_stmt 0 view .LVU173
 741 001c 2146     		mov	r1, r4
 742 001e 0748     		ldr	r0, .L54+4
 743 0020 FFF7FEFF 		bl	strstr
 744              	.LVL61:
 745              		.loc 1 241 8 view .LVU174
 746 0024 18B1     		cbz	r0, .L51
 242:Core/Src/MQTTSim800.c ****     {
 243:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 747              		.loc 1 243 9 is_stmt 1 view .LVU175
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 20


 748 0026 FFF7FEFF 		bl	clearRxBuffer
 749              	.LVL62:
 244:Core/Src/MQTTSim800.c ****         return 0;
 750              		.loc 1 244 9 view .LVU176
 751              		.loc 1 244 16 is_stmt 0 view .LVU177
 752 002a 0020     		movs	r0, #0
 753              	.L50:
 245:Core/Src/MQTTSim800.c ****     }
 246:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 247:Core/Src/MQTTSim800.c ****     return 1;
 248:Core/Src/MQTTSim800.c **** }
 754              		.loc 1 248 1 view .LVU178
 755 002c 70BD     		pop	{r4, r5, r6, pc}
 756              	.LVL63:
 757              	.L51:
 246:Core/Src/MQTTSim800.c ****     return 1;
 758              		.loc 1 246 5 is_stmt 1 view .LVU179
 759 002e FFF7FEFF 		bl	clearRxBuffer
 760              	.LVL64:
 247:Core/Src/MQTTSim800.c **** }
 761              		.loc 1 247 5 view .LVU180
 247:Core/Src/MQTTSim800.c **** }
 762              		.loc 1 247 12 is_stmt 0 view .LVU181
 763 0032 0120     		movs	r0, #1
 764 0034 FAE7     		b	.L50
 765              	.L55:
 766 0036 00BF     		.align	2
 767              	.L54:
 768 0038 00000000 		.word	huart1
 769 003c 00000000 		.word	.LANCHOR4
 770              		.cfi_endproc
 771              	.LFE78:
 773              		.section	.text.SIM800_SendMQTT,"ax",%progbits
 774              		.align	1
 775              		.global	SIM800_SendMQTT
 776              		.syntax unified
 777              		.thumb
 778              		.thumb_func
 779              		.fpu softvfp
 781              	SIM800_SendMQTT:
 782              	.LVL65:
 783              	.LFB79:
 249:Core/Src/MQTTSim800.c **** 
 250:Core/Src/MQTTSim800.c **** /**
 251:Core/Src/MQTTSim800.c ****  * @brief 
 252:Core/Src/MQTTSim800.c ****  * Send MQTT command <packet> to broker over UART
 253:Core/Src/MQTTSim800.c ****  * @param mqtt the packet
 254:Core/Src/MQTTSim800.c ****  * @param len the length of the packet
 255:Core/Src/MQTTSim800.c ****  * @param reply expected reply
 256:Core/Src/MQTTSim800.c ****  * @param delay wait for reply
 257:Core/Src/MQTTSim800.c ****  * @return int 
 258:Core/Src/MQTTSim800.c ****  */
 259:Core/Src/MQTTSim800.c **** int SIM800_SendMQTT(char* mqtt, uint8_t len, char* reply, uint16_t delay)
 260:Core/Src/MQTTSim800.c **** {
 784              		.loc 1 260 1 is_stmt 1 view -0
 785              		.cfi_startproc
 786              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 21


 787              		@ frame_needed = 0, uses_anonymous_args = 0
 788              		.loc 1 260 1 is_stmt 0 view .LVU183
 789 0000 38B5     		push	{r3, r4, r5, lr}
 790              	.LCFI6:
 791              		.cfi_def_cfa_offset 16
 792              		.cfi_offset 3, -16
 793              		.cfi_offset 4, -12
 794              		.cfi_offset 5, -8
 795              		.cfi_offset 14, -4
 796 0002 1446     		mov	r4, r2
 797 0004 1D46     		mov	r5, r3
 261:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)mqtt, (uint16_t)len);
 798              		.loc 1 261 5 is_stmt 1 view .LVU184
 799 0006 0A46     		mov	r2, r1
 800              	.LVL66:
 801              		.loc 1 261 5 is_stmt 0 view .LVU185
 802 0008 0146     		mov	r1, r0
 803              	.LVL67:
 804              		.loc 1 261 5 view .LVU186
 805 000a 0948     		ldr	r0, .L60
 806              	.LVL68:
 807              		.loc 1 261 5 view .LVU187
 808 000c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 809              	.LVL69:
 262:Core/Src/MQTTSim800.c **** 
 263:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 264:Core/Src/MQTTSim800.c ****     osDelay(delay);
 810              		.loc 1 264 5 is_stmt 1 view .LVU188
 811 0010 2846     		mov	r0, r5
 812 0012 FFF7FEFF 		bl	osDelay
 813              	.LVL70:
 265:Core/Src/MQTTSim800.c **** #else
 266:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 267:Core/Src/MQTTSim800.c **** #endif
 268:Core/Src/MQTTSim800.c **** 
 269:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 814              		.loc 1 269 5 view .LVU189
 815              		.loc 1 269 9 is_stmt 0 view .LVU190
 816 0016 2146     		mov	r1, r4
 817 0018 0648     		ldr	r0, .L60+4
 818 001a FFF7FEFF 		bl	strstr
 819              	.LVL71:
 820              		.loc 1 269 8 view .LVU191
 821 001e 18B1     		cbz	r0, .L57
 270:Core/Src/MQTTSim800.c ****     {
 271:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 822              		.loc 1 271 9 is_stmt 1 view .LVU192
 823 0020 FFF7FEFF 		bl	clearRxBuffer
 824              	.LVL72:
 272:Core/Src/MQTTSim800.c ****         return 0;
 825              		.loc 1 272 9 view .LVU193
 826              		.loc 1 272 16 is_stmt 0 view .LVU194
 827 0024 0020     		movs	r0, #0
 828              	.L56:
 273:Core/Src/MQTTSim800.c ****     }
 274:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 275:Core/Src/MQTTSim800.c ****     return 1;
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 22


 276:Core/Src/MQTTSim800.c **** }
 829              		.loc 1 276 1 view .LVU195
 830 0026 38BD     		pop	{r3, r4, r5, pc}
 831              	.LVL73:
 832              	.L57:
 274:Core/Src/MQTTSim800.c ****     return 1;
 833              		.loc 1 274 5 is_stmt 1 view .LVU196
 834 0028 FFF7FEFF 		bl	clearRxBuffer
 835              	.LVL74:
 275:Core/Src/MQTTSim800.c **** }
 836              		.loc 1 275 5 view .LVU197
 275:Core/Src/MQTTSim800.c **** }
 837              		.loc 1 275 12 is_stmt 0 view .LVU198
 838 002c 0120     		movs	r0, #1
 839 002e FAE7     		b	.L56
 840              	.L61:
 841              		.align	2
 842              	.L60:
 843 0030 00000000 		.word	huart1
 844 0034 00000000 		.word	.LANCHOR4
 845              		.cfi_endproc
 846              	.LFE79:
 848              		.section	.rodata.MQTT_Connect.str1.4,"aMS",%progbits,1
 849              		.align	2
 850              	.LC8:
 851 0000 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\015\012\000"
 851      49505354 
 851      4152543D 
 851      22544350 
 851      222C2225 
 852 001e 0000     		.align	2
 853              	.LC9:
 854 0020 4F4B0D0A 		.ascii	"OK\015\012\000"
 854      00
 855 0025 000000   		.align	2
 856              	.LC10:
 857 0028 3E00     		.ascii	">\000"
 858 002a 0000     		.align	2
 859              	.LC11:
 860 002c 41542B43 		.ascii	"AT+CIPSEND\015\012\000"
 860      49505345 
 860      4E440D0A 
 860      00
 861              		.section	.text.MQTT_Connect,"ax",%progbits
 862              		.align	1
 863              		.global	MQTT_Connect
 864              		.syntax unified
 865              		.thumb
 866              		.thumb_func
 867              		.fpu softvfp
 869              	MQTT_Connect:
 870              	.LFB81:
 277:Core/Src/MQTTSim800.c **** 
 278:Core/Src/MQTTSim800.c **** /**
 279:Core/Src/MQTTSim800.c ****  * initialization SIM800.
 280:Core/Src/MQTTSim800.c ****  * @param NONE
 281:Core/Src/MQTTSim800.c ****  * @return error status, 0 - OK
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 23


 282:Core/Src/MQTTSim800.c ****  */
 283:Core/Src/MQTTSim800.c **** int MQTT_Init(void)
 284:Core/Src/MQTTSim800.c **** {
 285:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 286:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 287:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 288:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 289:Core/Src/MQTTSim800.c **** 
 290:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY);
 291:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 292:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY) == 0){SIM800_Status.SIM = 1;}
 293:Core/Src/MQTTSim800.c ****     else
 294:Core/Src/MQTTSim800.c ****     {
 295:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 0;
 296:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 297:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 298:Core/Src/MQTTSim800.c ****     }
 299:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "OK\r\n", CMD_DELAY);
 300:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 301:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 302:Core/Src/MQTTSim800.c **** 
 303:Core/Src/MQTTSim800.c ****     snprintf(str, sizeof(str), "AT+CSTT=\"%s\",\"%s\",\"%s\"\r\n", SIM800.sim.apn, SIM800.sim.apn_u
 304:Core/Src/MQTTSim800.c ****             SIM800.sim.apn_pass);
 305:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 306:Core/Src/MQTTSim800.c **** 
 307:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIICR\r\n", "OK\r\n", CMD_DELAY);
 308:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 309:Core/Src/MQTTSim800.c ****     if (error != 0)
 310:Core/Src/MQTTSim800.c ****     {   
 311:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 312:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 313:Core/Src/MQTTSim800.c ****         return error;
 314:Core/Src/MQTTSim800.c ****     }
 315:Core/Src/MQTTSim800.c ****     else
 316:Core/Src/MQTTSim800.c ****     {   
 317:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 1;
 318:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 319:Core/Src/MQTTSim800.c ****         return error;
 320:Core/Src/MQTTSim800.c ****     }
 321:Core/Src/MQTTSim800.c ****     // return 0;
 322:Core/Src/MQTTSim800.c **** }
 323:Core/Src/MQTTSim800.c **** 
 324:Core/Src/MQTTSim800.c **** /**
 325:Core/Src/MQTTSim800.c ****  * Connect to MQTT server in Internet over TCP.
 326:Core/Src/MQTTSim800.c ****  * @param NONE
 327:Core/Src/MQTTSim800.c ****  * @return NONE
 328:Core/Src/MQTTSim800.c ****  */
 329:Core/Src/MQTTSim800.c **** void MQTT_Connect(void)
 330:Core/Src/MQTTSim800.c **** {
 871              		.loc 1 330 1 is_stmt 1 view -0
 872              		.cfi_startproc
 873              		@ args = 0, pretend = 0, frame = 344
 874              		@ frame_needed = 0, uses_anonymous_args = 0
 875 0000 70B5     		push	{r4, r5, r6, lr}
 876              	.LCFI7:
 877              		.cfi_def_cfa_offset 16
 878              		.cfi_offset 4, -16
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 24


 879              		.cfi_offset 5, -12
 880              		.cfi_offset 6, -8
 881              		.cfi_offset 14, -4
 882 0002 D8B0     		sub	sp, sp, #352
 883              	.LCFI8:
 884              		.cfi_def_cfa_offset 368
 331:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 0;
 885              		.loc 1 331 5 view .LVU200
 886              		.loc 1 331 33 is_stmt 0 view .LVU201
 887 0004 374D     		ldr	r5, .L72
 888 0006 0024     		movs	r4, #0
 889 0008 85F82440 		strb	r4, [r5, #36]
 332:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 890              		.loc 1 332 5 is_stmt 1 view .LVU202
 891              		.loc 1 332 31 is_stmt 0 view .LVU203
 892 000c AC74     		strb	r4, [r5, #18]
 333:Core/Src/MQTTSim800.c ****     char str1[128] = {0};
 893              		.loc 1 333 5 is_stmt 1 view .LVU204
 894              		.loc 1 333 10 is_stmt 0 view .LVU205
 895 000e 3894     		str	r4, [sp, #224]
 896 0010 7C26     		movs	r6, #124
 897 0012 3246     		mov	r2, r6
 898 0014 2146     		mov	r1, r4
 899 0016 39A8     		add	r0, sp, #228
 900 0018 FFF7FEFF 		bl	memset
 901              	.LVL75:
 334:Core/Src/MQTTSim800.c ****     unsigned char buf[128] = {0};
 902              		.loc 1 334 5 is_stmt 1 view .LVU206
 903              		.loc 1 334 19 is_stmt 0 view .LVU207
 904 001c 1894     		str	r4, [sp, #96]
 905 001e 3246     		mov	r2, r6
 906 0020 2146     		mov	r1, r4
 907 0022 19A8     		add	r0, sp, #100
 908 0024 FFF7FEFF 		bl	memset
 909              	.LVL76:
 335:Core/Src/MQTTSim800.c ****     snprintf(str1, sizeof(str1), "AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\r\n", SIM800.mqttServer.host, S
 910              		.loc 1 335 5 is_stmt 1 view .LVU208
 911              		.loc 1 335 116 is_stmt 0 view .LVU209
 912 0028 2B8A     		ldrh	r3, [r5, #16]
 913              		.loc 1 335 5 view .LVU210
 914 002a 0093     		str	r3, [sp]
 915 002c EB68     		ldr	r3, [r5, #12]
 916 002e 2E4A     		ldr	r2, .L72+4
 917 0030 8021     		movs	r1, #128
 918 0032 38A8     		add	r0, sp, #224
 919 0034 FFF7FEFF 		bl	snprintf
 920              	.LVL77:
 336:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand(str1, "OK\r\n", CMD_DELAY) == 0)
 921              		.loc 1 336 5 is_stmt 1 view .LVU211
 922              		.loc 1 336 9 is_stmt 0 view .LVU212
 923 0038 4FF4FA62 		mov	r2, #2000
 924 003c 2B49     		ldr	r1, .L72+8
 925 003e 38A8     		add	r0, sp, #224
 926 0040 FFF7FEFF 		bl	SIM800_SendCommand
 927              	.LVL78:
 928              		.loc 1 336 8 view .LVU213
 929 0044 08B9     		cbnz	r0, .L63
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 25


 337:Core/Src/MQTTSim800.c ****     {
 338:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 1;
 930              		.loc 1 338 9 is_stmt 1 view .LVU214
 931              		.loc 1 338 35 is_stmt 0 view .LVU215
 932 0046 0122     		movs	r2, #1
 933 0048 AA74     		strb	r2, [r5, #18]
 934              	.L63:
 339:Core/Src/MQTTSim800.c ****     }
 340:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1) {SIM800_Status.MQTT = 1;}
 935              		.loc 1 340 5 is_stmt 1 view .LVU216
 936              		.loc 1 340 26 is_stmt 0 view .LVU217
 937 004a 264B     		ldr	r3, .L72
 938 004c 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 939              		.loc 1 340 8 view .LVU218
 940 004e 012B     		cmp	r3, #1
 941 0050 0CD0     		beq	.L70
 341:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 942              		.loc 1 341 14 is_stmt 1 view .LVU219
 943              		.loc 1 341 33 is_stmt 0 view .LVU220
 944 0052 274B     		ldr	r3, .L72+12
 945 0054 0022     		movs	r2, #0
 946 0056 9A70     		strb	r2, [r3, #2]
 947              	.L65:
 342:Core/Src/MQTTSim800.c **** 
 343:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 344:Core/Src/MQTTSim800.c ****     osDelay(2000);
 948              		.loc 1 344 5 is_stmt 1 view .LVU221
 949 0058 4FF4FA60 		mov	r0, #2000
 950 005c FFF7FEFF 		bl	osDelay
 951              	.LVL79:
 345:Core/Src/MQTTSim800.c **** #else
 346:Core/Src/MQTTSim800.c ****     HAL_Delay(5000);
 347:Core/Src/MQTTSim800.c **** #endif
 348:Core/Src/MQTTSim800.c **** 
 349:Core/Src/MQTTSim800.c ****     if (SIM800_Status.MQTT == 1)
 952              		.loc 1 349 5 view .LVU222
 953              		.loc 1 349 22 is_stmt 0 view .LVU223
 954 0060 234B     		ldr	r3, .L72+12
 955 0062 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 956              		.loc 1 349 8 view .LVU224
 957 0064 012B     		cmp	r3, #1
 958 0066 05D0     		beq	.L71
 959              	.L62:
 350:Core/Src/MQTTSim800.c ****     {
 351:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 352:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 353:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 354:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 355:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 356:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 357:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 358:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 359:Core/Src/MQTTSim800.c ****         if(!SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY))
 360:Core/Src/MQTTSim800.c ****         {
 361:Core/Src/MQTTSim800.c ****             osDelay(100);
 362:Core/Src/MQTTSim800.c ****             huart1.Instance->DR = 0b00011010;       //0x1A - OK
 363:Core/Src/MQTTSim800.c ****         }
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 26


 364:Core/Src/MQTTSim800.c ****         else
 365:Core/Src/MQTTSim800.c ****         {   
 366:Core/Src/MQTTSim800.c ****             osDelay(100);
 367:Core/Src/MQTTSim800.c ****             huart1.Instance->DR = 0b00011011;       //0x1B - CANCEL
 368:Core/Src/MQTTSim800.c ****         }
 369:Core/Src/MQTTSim800.c ****         
 370:Core/Src/MQTTSim800.c **** 
 371:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 372:Core/Src/MQTTSim800.c ****         osDelay(2000);
 373:Core/Src/MQTTSim800.c **** #else
 374:Core/Src/MQTTSim800.c ****         HAL_Delay(3000);
 375:Core/Src/MQTTSim800.c **** #endif
 376:Core/Src/MQTTSim800.c ****     }
 377:Core/Src/MQTTSim800.c **** }
 960              		.loc 1 377 1 view .LVU225
 961 0068 58B0     		add	sp, sp, #352
 962              	.LCFI9:
 963              		.cfi_remember_state
 964              		.cfi_def_cfa_offset 16
 965              		@ sp needed
 966 006a 70BD     		pop	{r4, r5, r6, pc}
 967              	.L70:
 968              	.LCFI10:
 969              		.cfi_restore_state
 340:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 970              		.loc 1 340 42 is_stmt 1 discriminator 1 view .LVU226
 340:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 971              		.loc 1 340 61 is_stmt 0 discriminator 1 view .LVU227
 972 006c 204B     		ldr	r3, .L72+12
 973 006e 0122     		movs	r2, #1
 974 0070 9A70     		strb	r2, [r3, #2]
 975 0072 F1E7     		b	.L65
 976              	.L71:
 977              	.LBB2:
 351:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 978              		.loc 1 351 9 is_stmt 1 view .LVU228
 351:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 979              		.loc 1 351 32 is_stmt 0 view .LVU229
 980 0074 5822     		movs	r2, #88
 981 0076 1F49     		ldr	r1, .L72+16
 982 0078 02A8     		add	r0, sp, #8
 983 007a FFF7FEFF 		bl	memcpy
 984              	.LVL80:
 352:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 985              		.loc 1 352 9 is_stmt 1 view .LVU230
 352:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 986              		.loc 1 352 51 is_stmt 0 view .LVU231
 987 007e 194B     		ldr	r3, .L72
 988 0080 5A69     		ldr	r2, [r3, #20]
 352:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 989              		.loc 1 352 32 view .LVU232
 990 0082 1292     		str	r2, [sp, #72]
 353:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 991              		.loc 1 353 9 is_stmt 1 view .LVU233
 353:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 992              		.loc 1 353 51 is_stmt 0 view .LVU234
 993 0084 9A69     		ldr	r2, [r3, #24]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 27


 353:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 994              		.loc 1 353 32 view .LVU235
 995 0086 1592     		str	r2, [sp, #84]
 354:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 996              		.loc 1 354 9 is_stmt 1 view .LVU236
 354:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 997              		.loc 1 354 51 is_stmt 0 view .LVU237
 998 0088 DA69     		ldr	r2, [r3, #28]
 354:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 999              		.loc 1 354 32 view .LVU238
 1000 008a 0592     		str	r2, [sp, #20]
 355:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1001              		.loc 1 355 9 is_stmt 1 view .LVU239
 355:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1002              		.loc 1 355 52 is_stmt 0 view .LVU240
 1003 008c 1B8C     		ldrh	r3, [r3, #32]
 355:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1004              		.loc 1 355 33 view .LVU241
 1005 008e ADF82030 		strh	r3, [sp, #32]	@ movhi
 356:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 1006              		.loc 1 356 9 is_stmt 1 view .LVU242
 357:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1007              		.loc 1 357 9 view .LVU243
 357:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1008              		.loc 1 357 24 is_stmt 0 view .LVU244
 1009 0092 02AA     		add	r2, sp, #8
 1010 0094 8021     		movs	r1, #128
 1011 0096 18A8     		add	r0, sp, #96
 1012 0098 FFF7FEFF 		bl	MQTTSerialize_connect
 1013              	.LVL81:
 1014 009c 0446     		mov	r4, r0
 1015              	.LVL82:
 358:Core/Src/MQTTSim800.c ****         if(!SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY))
 1016              		.loc 1 358 9 is_stmt 1 view .LVU245
 1017 009e 4FF4FA62 		mov	r2, #2000
 1018 00a2 1549     		ldr	r1, .L72+20
 1019 00a4 1548     		ldr	r0, .L72+24
 1020              	.LVL83:
 358:Core/Src/MQTTSim800.c ****         if(!SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY))
 1021              		.loc 1 358 9 is_stmt 0 view .LVU246
 1022 00a6 FFF7FEFF 		bl	SIM800_SendCommand
 1023              	.LVL84:
 359:Core/Src/MQTTSim800.c ****         {
 1024              		.loc 1 359 9 is_stmt 1 view .LVU247
 359:Core/Src/MQTTSim800.c ****         {
 1025              		.loc 1 359 13 is_stmt 0 view .LVU248
 1026 00aa 4FF4FA63 		mov	r3, #2000
 1027 00ae 0F4A     		ldr	r2, .L72+8
 1028 00b0 E1B2     		uxtb	r1, r4
 1029 00b2 18A8     		add	r0, sp, #96
 1030 00b4 FFF7FEFF 		bl	SIM800_SendMQTT
 1031              	.LVL85:
 359:Core/Src/MQTTSim800.c ****         {
 1032              		.loc 1 359 11 view .LVU249
 1033 00b8 58B9     		cbnz	r0, .L67
 361:Core/Src/MQTTSim800.c ****             huart1.Instance->DR = 0b00011010;       //0x1A - OK
 1034              		.loc 1 361 13 is_stmt 1 view .LVU250
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 28


 1035 00ba 6420     		movs	r0, #100
 1036 00bc FFF7FEFF 		bl	osDelay
 1037              	.LVL86:
 362:Core/Src/MQTTSim800.c ****         }
 1038              		.loc 1 362 13 view .LVU251
 362:Core/Src/MQTTSim800.c ****         }
 1039              		.loc 1 362 19 is_stmt 0 view .LVU252
 1040 00c0 0F4B     		ldr	r3, .L72+28
 1041 00c2 1B68     		ldr	r3, [r3]
 362:Core/Src/MQTTSim800.c ****         }
 1042              		.loc 1 362 33 view .LVU253
 1043 00c4 1A22     		movs	r2, #26
 1044 00c6 5A60     		str	r2, [r3, #4]
 1045              	.L68:
 372:Core/Src/MQTTSim800.c **** #else
 1046              		.loc 1 372 9 is_stmt 1 view .LVU254
 1047 00c8 4FF4FA60 		mov	r0, #2000
 1048 00cc FFF7FEFF 		bl	osDelay
 1049              	.LVL87:
 1050              	.LBE2:
 1051              		.loc 1 377 1 is_stmt 0 view .LVU255
 1052 00d0 CAE7     		b	.L62
 1053              	.L67:
 1054              	.LBB3:
 366:Core/Src/MQTTSim800.c ****             huart1.Instance->DR = 0b00011011;       //0x1B - CANCEL
 1055              		.loc 1 366 13 is_stmt 1 view .LVU256
 1056 00d2 6420     		movs	r0, #100
 1057 00d4 FFF7FEFF 		bl	osDelay
 1058              	.LVL88:
 367:Core/Src/MQTTSim800.c ****         }
 1059              		.loc 1 367 13 view .LVU257
 367:Core/Src/MQTTSim800.c ****         }
 1060              		.loc 1 367 19 is_stmt 0 view .LVU258
 1061 00d8 094B     		ldr	r3, .L72+28
 1062 00da 1B68     		ldr	r3, [r3]
 367:Core/Src/MQTTSim800.c ****         }
 1063              		.loc 1 367 33 view .LVU259
 1064 00dc 1B22     		movs	r2, #27
 1065 00de 5A60     		str	r2, [r3, #4]
 1066 00e0 F2E7     		b	.L68
 1067              	.L73:
 1068 00e2 00BF     		.align	2
 1069              	.L72:
 1070 00e4 00000000 		.word	SIM800
 1071 00e8 00000000 		.word	.LC8
 1072 00ec 20000000 		.word	.LC9
 1073 00f0 00000000 		.word	.LANCHOR6
 1074 00f4 00000000 		.word	.LANCHOR7
 1075 00f8 28000000 		.word	.LC10
 1076 00fc 2C000000 		.word	.LC11
 1077 0100 00000000 		.word	huart1
 1078              	.LBE3:
 1079              		.cfi_endproc
 1080              	.LFE81:
 1082              		.section	.rodata.MQTT_Init.str1.4,"aMS",%progbits,1
 1083              		.align	2
 1084              	.LC12:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 29


 1085 0000 41540D0A 		.ascii	"AT\015\012\000"
 1085      00
 1086 0005 000000   		.align	2
 1087              	.LC13:
 1088 0008 41544530 		.ascii	"ATE0\015\012\000"
 1088      0D0A00
 1089 000f 00       		.align	2
 1090              	.LC14:
 1091 0010 41542B43 		.ascii	"AT+CIPSHUT\015\012\000"
 1091      49505348 
 1091      55540D0A 
 1091      00
 1092 001d 000000   		.align	2
 1093              	.LC15:
 1094 0020 41542B43 		.ascii	"AT+CGATT=1\015\012\000"
 1094      47415454 
 1094      3D310D0A 
 1094      00
 1095 002d 000000   		.align	2
 1096              	.LC16:
 1097 0030 41542B43 		.ascii	"AT+CIPMODE=0\015\012\000"
 1097      49504D4F 
 1097      44453D30 
 1097      0D0A00
 1098 003f 00       		.align	2
 1099              	.LC17:
 1100 0040 41542B43 		.ascii	"AT+CSTT=\"%s\",\"%s\",\"%s\"\015\012\000"
 1100      5354543D 
 1100      22257322 
 1100      2C222573 
 1100      222C2225 
 1101 0059 000000   		.align	2
 1102              	.LC18:
 1103 005c 41542B43 		.ascii	"AT+CIICR\015\012\000"
 1103      49494352 
 1103      0D0A00
 1104 0067 00       		.align	2
 1105              	.LC19:
 1106 0068 00       		.ascii	"\000"
 1107 0069 000000   		.align	2
 1108              	.LC20:
 1109 006c 41542B43 		.ascii	"AT+CIFSR\015\012\000"
 1109      49465352 
 1109      0D0A00
 1110              		.section	.text.MQTT_Init,"ax",%progbits
 1111              		.align	1
 1112              		.global	MQTT_Init
 1113              		.syntax unified
 1114              		.thumb
 1115              		.thumb_func
 1116              		.fpu softvfp
 1118              	MQTT_Init:
 1119              	.LFB80:
 284:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 1120              		.loc 1 284 1 is_stmt 1 view -0
 1121              		.cfi_startproc
 1122              		@ args = 0, pretend = 0, frame = 40
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 30


 1123              		@ frame_needed = 0, uses_anonymous_args = 0
 1124 0000 30B5     		push	{r4, r5, lr}
 1125              	.LCFI11:
 1126              		.cfi_def_cfa_offset 12
 1127              		.cfi_offset 4, -12
 1128              		.cfi_offset 5, -8
 1129              		.cfi_offset 14, -4
 1130 0002 8DB0     		sub	sp, sp, #52
 1131              	.LCFI12:
 1132              		.cfi_def_cfa_offset 64
 285:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1133              		.loc 1 285 5 view .LVU261
 285:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1134              		.loc 1 285 31 is_stmt 0 view .LVU262
 1135 0004 0023     		movs	r3, #0
 1136 0006 3C4A     		ldr	r2, .L80
 1137 0008 9374     		strb	r3, [r2, #18]
 286:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1138              		.loc 1 286 5 is_stmt 1 view .LVU263
 286:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1139              		.loc 1 286 18 is_stmt 0 view .LVU264
 1140 000a 0B93     		str	r3, [sp, #44]
 287:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1141              		.loc 1 287 5 is_stmt 1 view .LVU265
 287:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1142              		.loc 1 287 10 is_stmt 0 view .LVU266
 1143 000c 0393     		str	r3, [sp, #12]
 1144 000e 0493     		str	r3, [sp, #16]
 1145 0010 0593     		str	r3, [sp, #20]
 1146 0012 0693     		str	r3, [sp, #24]
 1147 0014 0793     		str	r3, [sp, #28]
 1148 0016 0893     		str	r3, [sp, #32]
 1149 0018 0993     		str	r3, [sp, #36]
 1150 001a 0A93     		str	r3, [sp, #40]
 290:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 1151              		.loc 1 290 5 is_stmt 1 view .LVU267
 1152 001c 374C     		ldr	r4, .L80+4
 1153 001e 384D     		ldr	r5, .L80+8
 1154 0020 4FF4FA62 		mov	r2, #2000
 1155 0024 2146     		mov	r1, r4
 1156 0026 2846     		mov	r0, r5
 1157 0028 FFF7FEFF 		bl	SIM800_SendCommand
 1158              	.LVL89:
 291:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY) == 0){SIM800_Status.SIM = 1;}
 1159              		.loc 1 291 5 view .LVU268
 1160 002c 4FF4FA62 		mov	r2, #2000
 1161 0030 2146     		mov	r1, r4
 1162 0032 3448     		ldr	r0, .L80+12
 1163 0034 FFF7FEFF 		bl	SIM800_SendCommand
 1164              	.LVL90:
 292:Core/Src/MQTTSim800.c ****     else
 1165              		.loc 1 292 5 view .LVU269
 292:Core/Src/MQTTSim800.c ****     else
 1166              		.loc 1 292 9 is_stmt 0 view .LVU270
 1167 0038 4FF4FA62 		mov	r2, #2000
 1168 003c 2146     		mov	r1, r4
 1169 003e 2846     		mov	r0, r5
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 31


 1170 0040 FFF7FEFF 		bl	SIM800_SendCommand
 1171              	.LVL91:
 292:Core/Src/MQTTSim800.c ****     else
 1172              		.loc 1 292 8 view .LVU271
 1173 0044 0028     		cmp	r0, #0
 1174 0046 4AD1     		bne	.L75
 292:Core/Src/MQTTSim800.c ****     else
 1175              		.loc 1 292 65 is_stmt 1 discriminator 1 view .LVU272
 292:Core/Src/MQTTSim800.c ****     else
 1176              		.loc 1 292 83 is_stmt 0 discriminator 1 view .LVU273
 1177 0048 2F4B     		ldr	r3, .L80+16
 1178 004a 0122     		movs	r2, #1
 1179 004c 1A70     		strb	r2, [r3]
 1180              	.L76:
 299:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1181              		.loc 1 299 5 is_stmt 1 view .LVU274
 299:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1182              		.loc 1 299 14 is_stmt 0 view .LVU275
 1183 004e 2B4C     		ldr	r4, .L80+4
 1184 0050 4FF4FA62 		mov	r2, #2000
 1185 0054 2146     		mov	r1, r4
 1186 0056 2D48     		ldr	r0, .L80+20
 1187 0058 FFF7FEFF 		bl	SIM800_SendCommand
 1188              	.LVL92:
 299:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1189              		.loc 1 299 11 view .LVU276
 1190 005c 0B9B     		ldr	r3, [sp, #44]
 1191 005e 0344     		add	r3, r3, r0
 1192 0060 0B93     		str	r3, [sp, #44]
 300:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1193              		.loc 1 300 5 is_stmt 1 view .LVU277
 300:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1194              		.loc 1 300 14 is_stmt 0 view .LVU278
 1195 0062 4FF4FA62 		mov	r2, #2000
 1196 0066 2146     		mov	r1, r4
 1197 0068 2948     		ldr	r0, .L80+24
 1198 006a FFF7FEFF 		bl	SIM800_SendCommand
 1199              	.LVL93:
 300:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1200              		.loc 1 300 11 view .LVU279
 1201 006e 0B9B     		ldr	r3, [sp, #44]
 1202 0070 0344     		add	r3, r3, r0
 1203 0072 0B93     		str	r3, [sp, #44]
 301:Core/Src/MQTTSim800.c **** 
 1204              		.loc 1 301 5 is_stmt 1 view .LVU280
 301:Core/Src/MQTTSim800.c **** 
 1205              		.loc 1 301 14 is_stmt 0 view .LVU281
 1206 0074 4FF4FA62 		mov	r2, #2000
 1207 0078 2146     		mov	r1, r4
 1208 007a 2648     		ldr	r0, .L80+28
 1209 007c FFF7FEFF 		bl	SIM800_SendCommand
 1210              	.LVL94:
 301:Core/Src/MQTTSim800.c **** 
 1211              		.loc 1 301 11 view .LVU282
 1212 0080 0B9B     		ldr	r3, [sp, #44]
 1213 0082 0344     		add	r3, r3, r0
 1214 0084 0B93     		str	r3, [sp, #44]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 32


 303:Core/Src/MQTTSim800.c ****             SIM800.sim.apn_pass);
 1215              		.loc 1 303 5 is_stmt 1 view .LVU283
 1216 0086 1C4B     		ldr	r3, .L80
 1217 0088 9A68     		ldr	r2, [r3, #8]
 1218 008a 0192     		str	r2, [sp, #4]
 1219 008c 5A68     		ldr	r2, [r3, #4]
 1220 008e 0092     		str	r2, [sp]
 1221 0090 1B68     		ldr	r3, [r3]
 1222 0092 214A     		ldr	r2, .L80+32
 1223 0094 2021     		movs	r1, #32
 1224 0096 03A8     		add	r0, sp, #12
 1225 0098 FFF7FEFF 		bl	snprintf
 1226              	.LVL95:
 305:Core/Src/MQTTSim800.c **** 
 1227              		.loc 1 305 5 view .LVU284
 305:Core/Src/MQTTSim800.c **** 
 1228              		.loc 1 305 14 is_stmt 0 view .LVU285
 1229 009c 4FF4FA62 		mov	r2, #2000
 1230 00a0 2146     		mov	r1, r4
 1231 00a2 03A8     		add	r0, sp, #12
 1232 00a4 FFF7FEFF 		bl	SIM800_SendCommand
 1233              	.LVL96:
 305:Core/Src/MQTTSim800.c **** 
 1234              		.loc 1 305 11 view .LVU286
 1235 00a8 0B9B     		ldr	r3, [sp, #44]
 1236 00aa 0344     		add	r3, r3, r0
 1237 00ac 0B93     		str	r3, [sp, #44]
 307:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1238              		.loc 1 307 5 is_stmt 1 view .LVU287
 307:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1239              		.loc 1 307 14 is_stmt 0 view .LVU288
 1240 00ae 4FF4FA62 		mov	r2, #2000
 1241 00b2 2146     		mov	r1, r4
 1242 00b4 1948     		ldr	r0, .L80+36
 1243 00b6 FFF7FEFF 		bl	SIM800_SendCommand
 1244              	.LVL97:
 307:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1245              		.loc 1 307 11 view .LVU289
 1246 00ba 0B9B     		ldr	r3, [sp, #44]
 1247 00bc 0344     		add	r3, r3, r0
 1248 00be 0B93     		str	r3, [sp, #44]
 308:Core/Src/MQTTSim800.c ****     if (error != 0)
 1249              		.loc 1 308 5 is_stmt 1 view .LVU290
 1250 00c0 4FF4FA62 		mov	r2, #2000
 1251 00c4 1649     		ldr	r1, .L80+40
 1252 00c6 1748     		ldr	r0, .L80+44
 1253 00c8 FFF7FEFF 		bl	SIM800_SendCommand
 1254              	.LVL98:
 309:Core/Src/MQTTSim800.c ****     {   
 1255              		.loc 1 309 5 view .LVU291
 309:Core/Src/MQTTSim800.c ****     {   
 1256              		.loc 1 309 15 is_stmt 0 view .LVU292
 1257 00cc 0B9B     		ldr	r3, [sp, #44]
 309:Core/Src/MQTTSim800.c ****     {   
 1258              		.loc 1 309 8 view .LVU293
 1259 00ce 63B1     		cbz	r3, .L77
 311:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 33


 1260              		.loc 1 311 9 is_stmt 1 view .LVU294
 311:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1261              		.loc 1 311 28 is_stmt 0 view .LVU295
 1262 00d0 0D4B     		ldr	r3, .L80+16
 1263 00d2 0022     		movs	r2, #0
 1264 00d4 5A70     		strb	r2, [r3, #1]
 312:Core/Src/MQTTSim800.c ****         return error;
 1265              		.loc 1 312 9 is_stmt 1 view .LVU296
 312:Core/Src/MQTTSim800.c ****         return error;
 1266              		.loc 1 312 28 is_stmt 0 view .LVU297
 1267 00d6 9A70     		strb	r2, [r3, #2]
 313:Core/Src/MQTTSim800.c ****     }
 1268              		.loc 1 313 9 is_stmt 1 view .LVU298
 313:Core/Src/MQTTSim800.c ****     }
 1269              		.loc 1 313 16 is_stmt 0 view .LVU299
 1270 00d8 0B98     		ldr	r0, [sp, #44]
 1271              	.L74:
 322:Core/Src/MQTTSim800.c **** 
 1272              		.loc 1 322 1 view .LVU300
 1273 00da 0DB0     		add	sp, sp, #52
 1274              	.LCFI13:
 1275              		.cfi_remember_state
 1276              		.cfi_def_cfa_offset 12
 1277              		@ sp needed
 1278 00dc 30BD     		pop	{r4, r5, pc}
 1279              	.L75:
 1280              	.LCFI14:
 1281              		.cfi_restore_state
 295:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1282              		.loc 1 295 9 is_stmt 1 view .LVU301
 295:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1283              		.loc 1 295 27 is_stmt 0 view .LVU302
 1284 00de 0A4B     		ldr	r3, .L80+16
 1285 00e0 0022     		movs	r2, #0
 1286 00e2 1A70     		strb	r2, [r3]
 296:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1287              		.loc 1 296 9 is_stmt 1 view .LVU303
 296:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1288              		.loc 1 296 28 is_stmt 0 view .LVU304
 1289 00e4 5A70     		strb	r2, [r3, #1]
 297:Core/Src/MQTTSim800.c ****     }
 1290              		.loc 1 297 9 is_stmt 1 view .LVU305
 297:Core/Src/MQTTSim800.c ****     }
 1291              		.loc 1 297 28 is_stmt 0 view .LVU306
 1292 00e6 9A70     		strb	r2, [r3, #2]
 1293 00e8 B1E7     		b	.L76
 1294              	.L77:
 317:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1295              		.loc 1 317 9 is_stmt 1 view .LVU307
 317:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1296              		.loc 1 317 28 is_stmt 0 view .LVU308
 1297 00ea 074B     		ldr	r3, .L80+16
 1298 00ec 0122     		movs	r2, #1
 1299 00ee 5A70     		strb	r2, [r3, #1]
 318:Core/Src/MQTTSim800.c ****         return error;
 1300              		.loc 1 318 9 is_stmt 1 view .LVU309
 1301 00f0 FFF7FEFF 		bl	MQTT_Connect
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 34


 1302              	.LVL99:
 319:Core/Src/MQTTSim800.c ****     }
 1303              		.loc 1 319 9 view .LVU310
 319:Core/Src/MQTTSim800.c ****     }
 1304              		.loc 1 319 16 is_stmt 0 view .LVU311
 1305 00f4 0B98     		ldr	r0, [sp, #44]
 1306 00f6 F0E7     		b	.L74
 1307              	.L81:
 1308              		.align	2
 1309              	.L80:
 1310 00f8 00000000 		.word	SIM800
 1311 00fc 20000000 		.word	.LC9
 1312 0100 00000000 		.word	.LC12
 1313 0104 08000000 		.word	.LC13
 1314 0108 00000000 		.word	.LANCHOR6
 1315 010c 10000000 		.word	.LC14
 1316 0110 20000000 		.word	.LC15
 1317 0114 30000000 		.word	.LC16
 1318 0118 40000000 		.word	.LC17
 1319 011c 5C000000 		.word	.LC18
 1320 0120 68000000 		.word	.LC19
 1321 0124 6C000000 		.word	.LC20
 1322              		.cfi_endproc
 1323              	.LFE80:
 1325              		.section	.text.MQTT_Pub,"ax",%progbits
 1326              		.align	1
 1327              		.global	MQTT_Pub
 1328              		.syntax unified
 1329              		.thumb
 1330              		.thumb_func
 1331              		.fpu softvfp
 1333              	MQTT_Pub:
 1334              	.LVL100:
 1335              	.LFB82:
 378:Core/Src/MQTTSim800.c **** 
 379:Core/Src/MQTTSim800.c **** /**
 380:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 381:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 382:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 383:Core/Src/MQTTSim800.c ****  * @return NONE
 384:Core/Src/MQTTSim800.c ****  */
 385:Core/Src/MQTTSim800.c **** void MQTT_Pub(char *topic, char *payload)
 386:Core/Src/MQTTSim800.c **** {
 1336              		.loc 1 386 1 is_stmt 1 view -0
 1337              		.cfi_startproc
 1338              		@ args = 0, pretend = 0, frame = 272
 1339              		@ frame_needed = 0, uses_anonymous_args = 0
 1340              		.loc 1 386 1 is_stmt 0 view .LVU313
 1341 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1342              	.LCFI15:
 1343              		.cfi_def_cfa_offset 20
 1344              		.cfi_offset 4, -20
 1345              		.cfi_offset 5, -16
 1346              		.cfi_offset 6, -12
 1347              		.cfi_offset 7, -8
 1348              		.cfi_offset 14, -4
 1349 0002 CDB0     		sub	sp, sp, #308
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 35


 1350              	.LCFI16:
 1351              		.cfi_def_cfa_offset 328
 1352 0004 0746     		mov	r7, r0
 1353 0006 0E46     		mov	r6, r1
 387:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 1354              		.loc 1 387 5 is_stmt 1 view .LVU314
 1355              		.loc 1 387 19 is_stmt 0 view .LVU315
 1356 0008 0024     		movs	r4, #0
 1357 000a 0C94     		str	r4, [sp, #48]
 1358 000c FC22     		movs	r2, #252
 1359 000e 2146     		mov	r1, r4
 1360              	.LVL101:
 1361              		.loc 1 387 19 view .LVU316
 1362 0010 0DA8     		add	r0, sp, #52
 1363              	.LVL102:
 1364              		.loc 1 387 19 view .LVU317
 1365 0012 FFF7FEFF 		bl	memset
 1366              	.LVL103:
 388:Core/Src/MQTTSim800.c **** 
 389:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 1367              		.loc 1 389 5 is_stmt 1 view .LVU318
 1368              		.loc 1 389 16 is_stmt 0 view .LVU319
 1369 0016 09AD     		add	r5, sp, #36
 1370 0018 0994     		str	r4, [sp, #36]
 1371 001a 0A94     		str	r4, [sp, #40]
 1372 001c 0B94     		str	r4, [sp, #44]
 390:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 1373              		.loc 1 390 5 is_stmt 1 view .LVU320
 1374              		.loc 1 390 25 is_stmt 0 view .LVU321
 1375 001e 0997     		str	r7, [sp, #36]
 391:Core/Src/MQTTSim800.c **** 
 392:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_publish(buf, sizeof(buf), 0, 0, 1, 0,
 1376              		.loc 1 392 5 is_stmt 1 view .LVU322
 393:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1377              		.loc 1 393 86 is_stmt 0 view .LVU323
 1378 0020 3046     		mov	r0, r6
 1379 0022 FFF7FEFF 		bl	strlen
 1380              	.LVL104:
 392:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1381              		.loc 1 392 20 view .LVU324
 1382 0026 0690     		str	r0, [sp, #24]
 1383 0028 0596     		str	r6, [sp, #20]
 1384 002a 02AB     		add	r3, sp, #8
 1385 002c 95E80700 		ldm	r5, {r0, r1, r2}
 1386 0030 83E80700 		stm	r3, {r0, r1, r2}
 1387 0034 0194     		str	r4, [sp, #4]
 1388 0036 0123     		movs	r3, #1
 1389 0038 0093     		str	r3, [sp]
 1390 003a 2346     		mov	r3, r4
 1391 003c 4FF48071 		mov	r1, #256
 1392 0040 0CA8     		add	r0, sp, #48
 1393 0042 FFF7FEFF 		bl	MQTTSerialize_publish
 1394              	.LVL105:
 1395 0046 0446     		mov	r4, r0
 1396              	.LVL106:
 394:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1397              		.loc 1 394 5 is_stmt 1 view .LVU325
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 36


 1398 0048 4FF4FA62 		mov	r2, #2000
 1399 004c 0B49     		ldr	r1, .L84
 1400 004e 0C48     		ldr	r0, .L84+4
 1401              	.LVL107:
 1402              		.loc 1 394 5 is_stmt 0 view .LVU326
 1403 0050 FFF7FEFF 		bl	SIM800_SendCommand
 1404              	.LVL108:
 395:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY);
 1405              		.loc 1 395 5 is_stmt 1 view .LVU327
 1406 0054 4FF4FA63 		mov	r3, #2000
 1407 0058 0A4A     		ldr	r2, .L84+8
 1408 005a E1B2     		uxtb	r1, r4
 1409 005c 0CA8     		add	r0, sp, #48
 1410 005e FFF7FEFF 		bl	SIM800_SendMQTT
 1411              	.LVL109:
 396:Core/Src/MQTTSim800.c ****     osDelay(100);
 1412              		.loc 1 396 5 view .LVU328
 1413 0062 6420     		movs	r0, #100
 1414 0064 FFF7FEFF 		bl	osDelay
 1415              	.LVL110:
 397:Core/Src/MQTTSim800.c ****     huart1.Instance->DR = 0b00011010;       //0x1A - OK
 1416              		.loc 1 397 5 view .LVU329
 1417              		.loc 1 397 11 is_stmt 0 view .LVU330
 1418 0068 074B     		ldr	r3, .L84+12
 1419 006a 1B68     		ldr	r3, [r3]
 1420              		.loc 1 397 25 view .LVU331
 1421 006c 1A22     		movs	r2, #26
 1422 006e 5A60     		str	r2, [r3, #4]
 398:Core/Src/MQTTSim800.c **** 
 399:Core/Src/MQTTSim800.c **** 
 400:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 401:Core/Src/MQTTSim800.c ****     osDelay(100);
 1423              		.loc 1 401 5 is_stmt 1 view .LVU332
 1424 0070 6420     		movs	r0, #100
 1425 0072 FFF7FEFF 		bl	osDelay
 1426              	.LVL111:
 402:Core/Src/MQTTSim800.c **** #else
 403:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 404:Core/Src/MQTTSim800.c **** #endif
 405:Core/Src/MQTTSim800.c **** }
 1427              		.loc 1 405 1 is_stmt 0 view .LVU333
 1428 0076 4DB0     		add	sp, sp, #308
 1429              	.LCFI17:
 1430              		.cfi_def_cfa_offset 20
 1431              		@ sp needed
 1432 0078 F0BD     		pop	{r4, r5, r6, r7, pc}
 1433              	.LVL112:
 1434              	.L85:
 1435              		.loc 1 405 1 view .LVU334
 1436 007a 00BF     		.align	2
 1437              	.L84:
 1438 007c 28000000 		.word	.LC10
 1439 0080 2C000000 		.word	.LC11
 1440 0084 20000000 		.word	.LC9
 1441 0088 00000000 		.word	huart1
 1442              		.cfi_endproc
 1443              	.LFE82:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 37


 1445              		.section	.rodata.MQTT_PubUint8.str1.4,"aMS",%progbits,1
 1446              		.align	2
 1447              	.LC21:
 1448 0000 257500   		.ascii	"%u\000"
 1449              		.section	.text.MQTT_PubUint8,"ax",%progbits
 1450              		.align	1
 1451              		.global	MQTT_PubUint8
 1452              		.syntax unified
 1453              		.thumb
 1454              		.thumb_func
 1455              		.fpu softvfp
 1457              	MQTT_PubUint8:
 1458              	.LVL113:
 1459              	.LFB83:
 406:Core/Src/MQTTSim800.c **** 
 407:Core/Src/MQTTSim800.c **** /**
 408:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 409:Core/Src/MQTTSim800.c ****  * @param topic (uint8_t)  to be used to the set topic
 410:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 411:Core/Src/MQTTSim800.c ****  * @return NONE
 412:Core/Src/MQTTSim800.c ****  */
 413:Core/Src/MQTTSim800.c **** void MQTT_PubUint8(char *topic, uint8_t payload)
 414:Core/Src/MQTTSim800.c **** {
 1460              		.loc 1 414 1 is_stmt 1 view -0
 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 32
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 1464              		.loc 1 414 1 is_stmt 0 view .LVU336
 1465 0000 10B5     		push	{r4, lr}
 1466              	.LCFI18:
 1467              		.cfi_def_cfa_offset 8
 1468              		.cfi_offset 4, -8
 1469              		.cfi_offset 14, -4
 1470 0002 88B0     		sub	sp, sp, #32
 1471              	.LCFI19:
 1472              		.cfi_def_cfa_offset 40
 1473 0004 0446     		mov	r4, r0
 1474 0006 0A46     		mov	r2, r1
 415:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1475              		.loc 1 415 5 is_stmt 1 view .LVU337
 1476              		.loc 1 415 10 is_stmt 0 view .LVU338
 1477 0008 0023     		movs	r3, #0
 1478 000a 0093     		str	r3, [sp]
 1479 000c 0193     		str	r3, [sp, #4]
 1480 000e 0293     		str	r3, [sp, #8]
 1481 0010 0393     		str	r3, [sp, #12]
 1482 0012 0493     		str	r3, [sp, #16]
 1483 0014 0593     		str	r3, [sp, #20]
 1484 0016 0693     		str	r3, [sp, #24]
 1485 0018 0793     		str	r3, [sp, #28]
 416:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1486              		.loc 1 416 5 is_stmt 1 view .LVU339
 1487 001a 0549     		ldr	r1, .L88
 1488              	.LVL114:
 1489              		.loc 1 416 5 is_stmt 0 view .LVU340
 1490 001c 6846     		mov	r0, sp
 1491              	.LVL115:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 38


 1492              		.loc 1 416 5 view .LVU341
 1493 001e FFF7FEFF 		bl	sprintf
 1494              	.LVL116:
 417:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1495              		.loc 1 417 5 is_stmt 1 view .LVU342
 1496 0022 6946     		mov	r1, sp
 1497 0024 2046     		mov	r0, r4
 1498 0026 FFF7FEFF 		bl	MQTT_Pub
 1499              	.LVL117:
 418:Core/Src/MQTTSim800.c **** }
 1500              		.loc 1 418 1 is_stmt 0 view .LVU343
 1501 002a 08B0     		add	sp, sp, #32
 1502              	.LCFI20:
 1503              		.cfi_def_cfa_offset 8
 1504              		@ sp needed
 1505 002c 10BD     		pop	{r4, pc}
 1506              	.LVL118:
 1507              	.L89:
 1508              		.loc 1 418 1 view .LVU344
 1509 002e 00BF     		.align	2
 1510              	.L88:
 1511 0030 00000000 		.word	.LC21
 1512              		.cfi_endproc
 1513              	.LFE83:
 1515              		.section	.text.MQTT_PubUint16,"ax",%progbits
 1516              		.align	1
 1517              		.global	MQTT_PubUint16
 1518              		.syntax unified
 1519              		.thumb
 1520              		.thumb_func
 1521              		.fpu softvfp
 1523              	MQTT_PubUint16:
 1524              	.LVL119:
 1525              	.LFB84:
 419:Core/Src/MQTTSim800.c **** 
 420:Core/Src/MQTTSim800.c **** /**
 421:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 422:Core/Src/MQTTSim800.c ****  * @param topic (uint16_t)  to be used to the set topic
 423:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 424:Core/Src/MQTTSim800.c ****  * @return NONE
 425:Core/Src/MQTTSim800.c ****  */
 426:Core/Src/MQTTSim800.c **** void MQTT_PubUint16(char *topic, uint16_t payload)
 427:Core/Src/MQTTSim800.c **** {
 1526              		.loc 1 427 1 is_stmt 1 view -0
 1527              		.cfi_startproc
 1528              		@ args = 0, pretend = 0, frame = 32
 1529              		@ frame_needed = 0, uses_anonymous_args = 0
 1530              		.loc 1 427 1 is_stmt 0 view .LVU346
 1531 0000 10B5     		push	{r4, lr}
 1532              	.LCFI21:
 1533              		.cfi_def_cfa_offset 8
 1534              		.cfi_offset 4, -8
 1535              		.cfi_offset 14, -4
 1536 0002 88B0     		sub	sp, sp, #32
 1537              	.LCFI22:
 1538              		.cfi_def_cfa_offset 40
 1539 0004 0446     		mov	r4, r0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 39


 1540 0006 0A46     		mov	r2, r1
 428:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1541              		.loc 1 428 5 is_stmt 1 view .LVU347
 1542              		.loc 1 428 10 is_stmt 0 view .LVU348
 1543 0008 0023     		movs	r3, #0
 1544 000a 0093     		str	r3, [sp]
 1545 000c 0193     		str	r3, [sp, #4]
 1546 000e 0293     		str	r3, [sp, #8]
 1547 0010 0393     		str	r3, [sp, #12]
 1548 0012 0493     		str	r3, [sp, #16]
 1549 0014 0593     		str	r3, [sp, #20]
 1550 0016 0693     		str	r3, [sp, #24]
 1551 0018 0793     		str	r3, [sp, #28]
 429:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1552              		.loc 1 429 5 is_stmt 1 view .LVU349
 1553 001a 0549     		ldr	r1, .L92
 1554              	.LVL120:
 1555              		.loc 1 429 5 is_stmt 0 view .LVU350
 1556 001c 6846     		mov	r0, sp
 1557              	.LVL121:
 1558              		.loc 1 429 5 view .LVU351
 1559 001e FFF7FEFF 		bl	sprintf
 1560              	.LVL122:
 430:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1561              		.loc 1 430 5 is_stmt 1 view .LVU352
 1562 0022 6946     		mov	r1, sp
 1563 0024 2046     		mov	r0, r4
 1564 0026 FFF7FEFF 		bl	MQTT_Pub
 1565              	.LVL123:
 431:Core/Src/MQTTSim800.c **** }
 1566              		.loc 1 431 1 is_stmt 0 view .LVU353
 1567 002a 08B0     		add	sp, sp, #32
 1568              	.LCFI23:
 1569              		.cfi_def_cfa_offset 8
 1570              		@ sp needed
 1571 002c 10BD     		pop	{r4, pc}
 1572              	.LVL124:
 1573              	.L93:
 1574              		.loc 1 431 1 view .LVU354
 1575 002e 00BF     		.align	2
 1576              	.L92:
 1577 0030 00000000 		.word	.LC21
 1578              		.cfi_endproc
 1579              	.LFE84:
 1581              		.section	.rodata.MQTT_PubUint32.str1.4,"aMS",%progbits,1
 1582              		.align	2
 1583              	.LC22:
 1584 0000 256C7500 		.ascii	"%lu\000"
 1585              		.section	.text.MQTT_PubUint32,"ax",%progbits
 1586              		.align	1
 1587              		.global	MQTT_PubUint32
 1588              		.syntax unified
 1589              		.thumb
 1590              		.thumb_func
 1591              		.fpu softvfp
 1593              	MQTT_PubUint32:
 1594              	.LVL125:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 40


 1595              	.LFB85:
 432:Core/Src/MQTTSim800.c **** 
 433:Core/Src/MQTTSim800.c **** /**
 434:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 435:Core/Src/MQTTSim800.c ****  * @param topic (uint32_t)  to be used to the set topic
 436:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 437:Core/Src/MQTTSim800.c ****  * @return NONE
 438:Core/Src/MQTTSim800.c ****  */
 439:Core/Src/MQTTSim800.c **** void MQTT_PubUint32(char *topic, uint32_t payload)
 440:Core/Src/MQTTSim800.c **** {
 1596              		.loc 1 440 1 is_stmt 1 view -0
 1597              		.cfi_startproc
 1598              		@ args = 0, pretend = 0, frame = 32
 1599              		@ frame_needed = 0, uses_anonymous_args = 0
 1600              		.loc 1 440 1 is_stmt 0 view .LVU356
 1601 0000 10B5     		push	{r4, lr}
 1602              	.LCFI24:
 1603              		.cfi_def_cfa_offset 8
 1604              		.cfi_offset 4, -8
 1605              		.cfi_offset 14, -4
 1606 0002 88B0     		sub	sp, sp, #32
 1607              	.LCFI25:
 1608              		.cfi_def_cfa_offset 40
 1609 0004 0446     		mov	r4, r0
 1610 0006 0A46     		mov	r2, r1
 441:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1611              		.loc 1 441 5 is_stmt 1 view .LVU357
 1612              		.loc 1 441 10 is_stmt 0 view .LVU358
 1613 0008 0023     		movs	r3, #0
 1614 000a 0093     		str	r3, [sp]
 1615 000c 0193     		str	r3, [sp, #4]
 1616 000e 0293     		str	r3, [sp, #8]
 1617 0010 0393     		str	r3, [sp, #12]
 1618 0012 0493     		str	r3, [sp, #16]
 1619 0014 0593     		str	r3, [sp, #20]
 1620 0016 0693     		str	r3, [sp, #24]
 1621 0018 0793     		str	r3, [sp, #28]
 442:Core/Src/MQTTSim800.c ****     sprintf(str, "%lu", payload);
 1622              		.loc 1 442 5 is_stmt 1 view .LVU359
 1623 001a 0549     		ldr	r1, .L96
 1624              	.LVL126:
 1625              		.loc 1 442 5 is_stmt 0 view .LVU360
 1626 001c 6846     		mov	r0, sp
 1627              	.LVL127:
 1628              		.loc 1 442 5 view .LVU361
 1629 001e FFF7FEFF 		bl	sprintf
 1630              	.LVL128:
 443:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1631              		.loc 1 443 5 is_stmt 1 view .LVU362
 1632 0022 6946     		mov	r1, sp
 1633 0024 2046     		mov	r0, r4
 1634 0026 FFF7FEFF 		bl	MQTT_Pub
 1635              	.LVL129:
 444:Core/Src/MQTTSim800.c **** }
 1636              		.loc 1 444 1 is_stmt 0 view .LVU363
 1637 002a 08B0     		add	sp, sp, #32
 1638              	.LCFI26:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 41


 1639              		.cfi_def_cfa_offset 8
 1640              		@ sp needed
 1641 002c 10BD     		pop	{r4, pc}
 1642              	.LVL130:
 1643              	.L97:
 1644              		.loc 1 444 1 view .LVU364
 1645 002e 00BF     		.align	2
 1646              	.L96:
 1647 0030 00000000 		.word	.LC22
 1648              		.cfi_endproc
 1649              	.LFE85:
 1651              		.section	.text.MQTT_PubFloat,"ax",%progbits
 1652              		.align	1
 1653              		.global	MQTT_PubFloat
 1654              		.syntax unified
 1655              		.thumb
 1656              		.thumb_func
 1657              		.fpu softvfp
 1659              	MQTT_PubFloat:
 1660              	.LVL131:
 1661              	.LFB86:
 445:Core/Src/MQTTSim800.c **** 
 446:Core/Src/MQTTSim800.c **** /**
 447:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 448:Core/Src/MQTTSim800.c ****  * @param topic (float)  to be used to the set topic
 449:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 450:Core/Src/MQTTSim800.c ****  * @return NONE
 451:Core/Src/MQTTSim800.c ****  */
 452:Core/Src/MQTTSim800.c **** void MQTT_PubFloat(char *topic, float payload, uint8_t digit)
 453:Core/Src/MQTTSim800.c **** {
 1662              		.loc 1 453 1 is_stmt 1 view -0
 1663              		.cfi_startproc
 1664              		@ args = 0, pretend = 0, frame = 32
 1665              		@ frame_needed = 0, uses_anonymous_args = 0
 1666              		.loc 1 453 1 is_stmt 0 view .LVU366
 1667 0000 10B5     		push	{r4, lr}
 1668              	.LCFI27:
 1669              		.cfi_def_cfa_offset 8
 1670              		.cfi_offset 4, -8
 1671              		.cfi_offset 14, -4
 1672 0002 88B0     		sub	sp, sp, #32
 1673              	.LCFI28:
 1674              		.cfi_def_cfa_offset 40
 1675 0004 0446     		mov	r4, r0
 1676 0006 0846     		mov	r0, r1
 1677              	.LVL132:
 454:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1678              		.loc 1 454 5 is_stmt 1 view .LVU367
 1679              		.loc 1 454 10 is_stmt 0 view .LVU368
 1680 0008 0023     		movs	r3, #0
 1681 000a 0093     		str	r3, [sp]
 1682 000c 0193     		str	r3, [sp, #4]
 1683 000e 0293     		str	r3, [sp, #8]
 1684 0010 0393     		str	r3, [sp, #12]
 1685 0012 0493     		str	r3, [sp, #16]
 1686 0014 0593     		str	r3, [sp, #20]
 1687 0016 0693     		str	r3, [sp, #24]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 42


 1688 0018 0793     		str	r3, [sp, #28]
 455:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 1689              		.loc 1 455 5 is_stmt 1 view .LVU369
 1690 001a 6946     		mov	r1, sp
 1691              	.LVL133:
 1692              		.loc 1 455 5 is_stmt 0 view .LVU370
 1693 001c FFF7FEFF 		bl	ftoa
 1694              	.LVL134:
 456:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1695              		.loc 1 456 5 is_stmt 1 view .LVU371
 1696 0020 6946     		mov	r1, sp
 1697 0022 2046     		mov	r0, r4
 1698 0024 FFF7FEFF 		bl	MQTT_Pub
 1699              	.LVL135:
 457:Core/Src/MQTTSim800.c **** }
 1700              		.loc 1 457 1 is_stmt 0 view .LVU372
 1701 0028 08B0     		add	sp, sp, #32
 1702              	.LCFI29:
 1703              		.cfi_def_cfa_offset 8
 1704              		@ sp needed
 1705 002a 10BD     		pop	{r4, pc}
 1706              		.loc 1 457 1 view .LVU373
 1707              		.cfi_endproc
 1708              	.LFE86:
 1710              		.section	.text.MQTT_PubDouble,"ax",%progbits
 1711              		.align	1
 1712              		.global	MQTT_PubDouble
 1713              		.syntax unified
 1714              		.thumb
 1715              		.thumb_func
 1716              		.fpu softvfp
 1718              	MQTT_PubDouble:
 1719              	.LVL136:
 1720              	.LFB87:
 458:Core/Src/MQTTSim800.c **** 
 459:Core/Src/MQTTSim800.c **** /**
 460:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 461:Core/Src/MQTTSim800.c ****  * @param topic (double)  to be used to the set topic
 462:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 463:Core/Src/MQTTSim800.c ****  * @return NONE
 464:Core/Src/MQTTSim800.c ****  */
 465:Core/Src/MQTTSim800.c **** void MQTT_PubDouble(char *topic, double payload, uint8_t digit)
 466:Core/Src/MQTTSim800.c **** {
 1721              		.loc 1 466 1 is_stmt 1 view -0
 1722              		.cfi_startproc
 1723              		@ args = 4, pretend = 0, frame = 32
 1724              		@ frame_needed = 0, uses_anonymous_args = 0
 1725              		.loc 1 466 1 is_stmt 0 view .LVU375
 1726 0000 10B5     		push	{r4, lr}
 1727              	.LCFI30:
 1728              		.cfi_def_cfa_offset 8
 1729              		.cfi_offset 4, -8
 1730              		.cfi_offset 14, -4
 1731 0002 88B0     		sub	sp, sp, #32
 1732              	.LCFI31:
 1733              		.cfi_def_cfa_offset 40
 1734 0004 0446     		mov	r4, r0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 43


 1735 0006 1046     		mov	r0, r2
 1736              	.LVL137:
 1737              		.loc 1 466 1 view .LVU376
 1738 0008 1946     		mov	r1, r3
 467:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1739              		.loc 1 467 5 is_stmt 1 view .LVU377
 1740              		.loc 1 467 10 is_stmt 0 view .LVU378
 1741 000a 0023     		movs	r3, #0
 1742 000c 0093     		str	r3, [sp]
 1743 000e 0193     		str	r3, [sp, #4]
 1744 0010 0293     		str	r3, [sp, #8]
 1745 0012 0393     		str	r3, [sp, #12]
 1746 0014 0493     		str	r3, [sp, #16]
 1747 0016 0593     		str	r3, [sp, #20]
 1748 0018 0693     		str	r3, [sp, #24]
 1749 001a 0793     		str	r3, [sp, #28]
 468:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 1750              		.loc 1 468 5 is_stmt 1 view .LVU379
 1751 001c FFF7FEFF 		bl	__aeabi_d2f
 1752              	.LVL138:
 1753              		.loc 1 468 5 is_stmt 0 view .LVU380
 1754 0020 9DF82820 		ldrb	r2, [sp, #40]	@ zero_extendqisi2
 1755 0024 6946     		mov	r1, sp
 1756 0026 FFF7FEFF 		bl	ftoa
 1757              	.LVL139:
 469:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1758              		.loc 1 469 5 is_stmt 1 view .LVU381
 1759 002a 6946     		mov	r1, sp
 1760 002c 2046     		mov	r0, r4
 1761 002e FFF7FEFF 		bl	MQTT_Pub
 1762              	.LVL140:
 470:Core/Src/MQTTSim800.c **** }
 1763              		.loc 1 470 1 is_stmt 0 view .LVU382
 1764 0032 08B0     		add	sp, sp, #32
 1765              	.LCFI32:
 1766              		.cfi_def_cfa_offset 8
 1767              		@ sp needed
 1768 0034 10BD     		pop	{r4, pc}
 1769              		.loc 1 470 1 view .LVU383
 1770              		.cfi_endproc
 1771              	.LFE87:
 1773              		.section	.text.MQTT_PingReq,"ax",%progbits
 1774              		.align	1
 1775              		.global	MQTT_PingReq
 1776              		.syntax unified
 1777              		.thumb
 1778              		.thumb_func
 1779              		.fpu softvfp
 1781              	MQTT_PingReq:
 1782              	.LFB88:
 471:Core/Src/MQTTSim800.c **** 
 472:Core/Src/MQTTSim800.c **** /**
 473:Core/Src/MQTTSim800.c ****  * Send a PINGREQ to the MQTT broker (active session)
 474:Core/Src/MQTTSim800.c ****  * @param NONE
 475:Core/Src/MQTTSim800.c ****  * @return NONE
 476:Core/Src/MQTTSim800.c ****  */
 477:Core/Src/MQTTSim800.c **** void MQTT_PingReq(void)
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 44


 478:Core/Src/MQTTSim800.c **** {
 1783              		.loc 1 478 1 is_stmt 1 view -0
 1784              		.cfi_startproc
 1785              		@ args = 0, pretend = 0, frame = 16
 1786              		@ frame_needed = 0, uses_anonymous_args = 0
 1787 0000 10B5     		push	{r4, lr}
 1788              	.LCFI33:
 1789              		.cfi_def_cfa_offset 8
 1790              		.cfi_offset 4, -8
 1791              		.cfi_offset 14, -4
 1792 0002 84B0     		sub	sp, sp, #16
 1793              	.LCFI34:
 1794              		.cfi_def_cfa_offset 24
 479:Core/Src/MQTTSim800.c ****     unsigned char buf[16] = {0};
 1795              		.loc 1 479 5 view .LVU385
 1796              		.loc 1 479 19 is_stmt 0 view .LVU386
 1797 0004 0023     		movs	r3, #0
 1798 0006 0093     		str	r3, [sp]
 1799 0008 0193     		str	r3, [sp, #4]
 1800 000a 0293     		str	r3, [sp, #8]
 1801 000c 0393     		str	r3, [sp, #12]
 480:Core/Src/MQTTSim800.c **** 
 481:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_pingreq(buf, sizeof(buf));
 1802              		.loc 1 481 5 is_stmt 1 view .LVU387
 1803              		.loc 1 481 20 is_stmt 0 view .LVU388
 1804 000e 1021     		movs	r1, #16
 1805 0010 6846     		mov	r0, sp
 1806 0012 FFF7FEFF 		bl	MQTTSerialize_pingreq
 1807              	.LVL141:
 1808 0016 0446     		mov	r4, r0
 1809              	.LVL142:
 482:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1810              		.loc 1 482 5 is_stmt 1 view .LVU389
 1811 0018 4FF4FA62 		mov	r2, #2000
 1812 001c 0F49     		ldr	r1, .L106
 1813 001e 1048     		ldr	r0, .L106+4
 1814              	.LVL143:
 1815              		.loc 1 482 5 is_stmt 0 view .LVU390
 1816 0020 FFF7FEFF 		bl	SIM800_SendCommand
 1817              	.LVL144:
 483:Core/Src/MQTTSim800.c ****     if(!SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY))
 1818              		.loc 1 483 5 is_stmt 1 view .LVU391
 1819              		.loc 1 483 9 is_stmt 0 view .LVU392
 1820 0024 4FF4FA63 		mov	r3, #2000
 1821 0028 0E4A     		ldr	r2, .L106+8
 1822 002a E1B2     		uxtb	r1, r4
 1823 002c 6846     		mov	r0, sp
 1824 002e FFF7FEFF 		bl	SIM800_SendMQTT
 1825              	.LVL145:
 1826              		.loc 1 483 7 view .LVU393
 1827 0032 58B9     		cbnz	r0, .L103
 484:Core/Src/MQTTSim800.c ****     {
 485:Core/Src/MQTTSim800.c ****         osDelay(100);
 1828              		.loc 1 485 9 is_stmt 1 view .LVU394
 1829 0034 6420     		movs	r0, #100
 1830 0036 FFF7FEFF 		bl	osDelay
 1831              	.LVL146:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 45


 486:Core/Src/MQTTSim800.c ****         huart1.Instance->DR = 0b00011010;       //0x1A - OK
 1832              		.loc 1 486 9 view .LVU395
 1833              		.loc 1 486 15 is_stmt 0 view .LVU396
 1834 003a 0B4B     		ldr	r3, .L106+12
 1835 003c 1B68     		ldr	r3, [r3]
 1836              		.loc 1 486 29 view .LVU397
 1837 003e 1A22     		movs	r2, #26
 1838 0040 5A60     		str	r2, [r3, #4]
 1839              	.L104:
 487:Core/Src/MQTTSim800.c ****     }
 488:Core/Src/MQTTSim800.c ****     else
 489:Core/Src/MQTTSim800.c ****     {   
 490:Core/Src/MQTTSim800.c ****         osDelay(100);
 491:Core/Src/MQTTSim800.c ****         huart1.Instance->DR = 0b00011011;       //0x1B - CANCEL
 492:Core/Src/MQTTSim800.c ****     }
 493:Core/Src/MQTTSim800.c **** 
 494:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 495:Core/Src/MQTTSim800.c ****     osDelay(100);
 1840              		.loc 1 495 5 is_stmt 1 view .LVU398
 1841 0042 6420     		movs	r0, #100
 1842 0044 FFF7FEFF 		bl	osDelay
 1843              	.LVL147:
 496:Core/Src/MQTTSim800.c **** #else
 497:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 498:Core/Src/MQTTSim800.c **** #endif
 499:Core/Src/MQTTSim800.c **** }
 1844              		.loc 1 499 1 is_stmt 0 view .LVU399
 1845 0048 04B0     		add	sp, sp, #16
 1846              	.LCFI35:
 1847              		.cfi_remember_state
 1848              		.cfi_def_cfa_offset 8
 1849              		@ sp needed
 1850 004a 10BD     		pop	{r4, pc}
 1851              	.LVL148:
 1852              	.L103:
 1853              	.LCFI36:
 1854              		.cfi_restore_state
 490:Core/Src/MQTTSim800.c ****         huart1.Instance->DR = 0b00011011;       //0x1B - CANCEL
 1855              		.loc 1 490 9 is_stmt 1 view .LVU400
 1856 004c 6420     		movs	r0, #100
 1857 004e FFF7FEFF 		bl	osDelay
 1858              	.LVL149:
 491:Core/Src/MQTTSim800.c ****     }
 1859              		.loc 1 491 9 view .LVU401
 491:Core/Src/MQTTSim800.c ****     }
 1860              		.loc 1 491 15 is_stmt 0 view .LVU402
 1861 0052 054B     		ldr	r3, .L106+12
 1862 0054 1B68     		ldr	r3, [r3]
 491:Core/Src/MQTTSim800.c ****     }
 1863              		.loc 1 491 29 view .LVU403
 1864 0056 1B22     		movs	r2, #27
 1865 0058 5A60     		str	r2, [r3, #4]
 1866 005a F2E7     		b	.L104
 1867              	.L107:
 1868              		.align	2
 1869              	.L106:
 1870 005c 28000000 		.word	.LC10
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 46


 1871 0060 2C000000 		.word	.LC11
 1872 0064 20000000 		.word	.LC9
 1873 0068 00000000 		.word	huart1
 1874              		.cfi_endproc
 1875              	.LFE88:
 1877              		.global	mqtt_index
 1878              		.global	mqtt_buffer
 1879              		.global	mqtt_receive
 1880              		.global	rx_index
 1881              		.global	rx_buffer
 1882              		.global	rx_data
 1883              		.global	SIM800_Status
 1884              		.section	.rodata
 1885              		.align	2
 1886              		.set	.LANCHOR7,. + 0
 1887              	.LC0:
 1888 0000 4D515443 		.ascii	"MQTC"
 1889 0004 00000000 		.word	0
 1890 0008 04       		.byte	4
 1891 0009 000000   		.space	3
 1892 000c 00000000 		.word	0
 1893 0010 00000000 		.word	0
 1894 0014 00000000 		.word	0
 1895 0018 3C00     		.short	60
 1896 001a 01       		.byte	1
 1897 001b 00       		.byte	0
 1898 001c 4D515457 		.ascii	"MQTW"
 1899 0020 00000000 		.word	0
 1900 0024 00000000 		.word	0
 1901 0028 00000000 		.word	0
 1902 002c 00000000 		.word	0
 1903 0030 00000000 		.word	0
 1904 0034 00000000 		.word	0
 1905 0038 00000000 		.word	0
 1906 003c 00       		.byte	0
 1907 003d 00       		.byte	0
 1908 003e 0000     		.space	2
 1909 0040 00000000 		.word	0
 1910 0044 00000000 		.word	0
 1911 0048 00000000 		.word	0
 1912 004c 00000000 		.word	0
 1913 0050 00000000 		.word	0
 1914 0054 00000000 		.word	0
 1915              		.section	.bss.SIM800_Status,"aw",%nobits
 1916              		.align	2
 1917              		.set	.LANCHOR6,. + 0
 1920              	SIM800_Status:
 1921 0000 000000   		.space	3
 1922              		.section	.bss.mqtt_buffer,"aw",%nobits
 1923              		.align	2
 1924              		.set	.LANCHOR4,. + 0
 1927              	mqtt_buffer:
 1928 0000 00000000 		.space	200
 1928      00000000 
 1928      00000000 
 1928      00000000 
 1928      00000000 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 47


 1929              		.section	.bss.mqtt_index,"aw",%nobits
 1930              		.align	1
 1931              		.set	.LANCHOR3,. + 0
 1934              	mqtt_index:
 1935 0000 0000     		.space	2
 1936              		.section	.bss.mqtt_receive,"aw",%nobits
 1937              		.set	.LANCHOR2,. + 0
 1940              	mqtt_receive:
 1941 0000 00       		.space	1
 1942              		.section	.bss.rx_buffer,"aw",%nobits
 1943              		.align	2
 1944              		.set	.LANCHOR1,. + 0
 1947              	rx_buffer:
 1948 0000 00000000 		.space	200
 1948      00000000 
 1948      00000000 
 1948      00000000 
 1948      00000000 
 1949              		.section	.bss.rx_data,"aw",%nobits
 1950              		.set	.LANCHOR5,. + 0
 1953              	rx_data:
 1954 0000 00       		.space	1
 1955              		.section	.bss.rx_index,"aw",%nobits
 1956              		.align	1
 1957              		.set	.LANCHOR0,. + 0
 1960              	rx_index:
 1961 0000 0000     		.space	2
 1962              		.text
 1963              	.Letext0:
 1964              		.file 2 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\machine\\_default_type
 1965              		.file 3 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\sys\\_stdint.h"
 1966              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1967              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1968              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1969              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1970              		.file 8 "Core/Inc/MQTTSim800.h"
 1971              		.file 9 "Core/Inc/MQTTPacket.h"
 1972              		.file 10 "Core/Inc/MQTTConnect.h"
 1973              		.file 11 "Core/Inc/usart.h"
 1974              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1975              		.file 13 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\stdio.h"
 1976              		.file 14 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\string.h"
 1977              		.file 15 "Core/Inc/MQTTPublish.h"
 1978              		.file 16 "<built-in>"
 1979              		.file 17 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\math.h"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 48


DEFINED SYMBOLS
                            *ABS*:00000000 MQTTSim800.c
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:16     .text.reverse:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:24     .text.reverse:00000000 reverse
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:74     .text.intToStr:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:81     .text.intToStr:00000000 intToStr
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:174    .text.intToStr:00000050 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:186    .text.ftoa:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:193    .text.ftoa:00000000 ftoa
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:304    .text.ftoa:00000070 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:309    .text.clearRxBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:316    .text.clearRxBuffer:00000000 clearRxBuffer
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:342    .text.clearRxBuffer:00000014 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:348    .text.clearMqttBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:355    .text.clearMqttBuffer:00000000 clearMqttBuffer
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:385    .text.clearMqttBuffer:00000018 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:392    .rodata.Sim800_RxCallBack.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:414    .text.Sim800_RxCallBack:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:421    .text.Sim800_RxCallBack:00000000 Sim800_RxCallBack
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:681    .text.Sim800_RxCallBack:00000134 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:700    .text.SIM800_SendCommand:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:707    .text.SIM800_SendCommand:00000000 SIM800_SendCommand
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:768    .text.SIM800_SendCommand:00000038 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:774    .text.SIM800_SendMQTT:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:781    .text.SIM800_SendMQTT:00000000 SIM800_SendMQTT
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:843    .text.SIM800_SendMQTT:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:849    .rodata.MQTT_Connect.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:862    .text.MQTT_Connect:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:869    .text.MQTT_Connect:00000000 MQTT_Connect
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1070   .text.MQTT_Connect:000000e4 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1083   .rodata.MQTT_Init.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1111   .text.MQTT_Init:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1118   .text.MQTT_Init:00000000 MQTT_Init
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1310   .text.MQTT_Init:000000f8 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1326   .text.MQTT_Pub:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1333   .text.MQTT_Pub:00000000 MQTT_Pub
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1438   .text.MQTT_Pub:0000007c $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1446   .rodata.MQTT_PubUint8.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1450   .text.MQTT_PubUint8:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1457   .text.MQTT_PubUint8:00000000 MQTT_PubUint8
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1511   .text.MQTT_PubUint8:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1516   .text.MQTT_PubUint16:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1523   .text.MQTT_PubUint16:00000000 MQTT_PubUint16
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1577   .text.MQTT_PubUint16:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1582   .rodata.MQTT_PubUint32.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1586   .text.MQTT_PubUint32:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1593   .text.MQTT_PubUint32:00000000 MQTT_PubUint32
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1647   .text.MQTT_PubUint32:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1652   .text.MQTT_PubFloat:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1659   .text.MQTT_PubFloat:00000000 MQTT_PubFloat
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1711   .text.MQTT_PubDouble:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1718   .text.MQTT_PubDouble:00000000 MQTT_PubDouble
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1774   .text.MQTT_PingReq:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1781   .text.MQTT_PingReq:00000000 MQTT_PingReq
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1870   .text.MQTT_PingReq:0000005c $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1934   .bss.mqtt_index:00000000 mqtt_index
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1927   .bss.mqtt_buffer:00000000 mqtt_buffer
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s 			page 49


C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1940   .bss.mqtt_receive:00000000 mqtt_receive
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1960   .bss.rx_index:00000000 rx_index
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1947   .bss.rx_buffer:00000000 rx_buffer
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1953   .bss.rx_data:00000000 rx_data
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1920   .bss.SIM800_Status:00000000 SIM800_Status
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1885   .rodata:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1916   .bss.SIM800_Status:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1923   .bss.mqtt_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1930   .bss.mqtt_index:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1941   .bss.mqtt_receive:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1943   .bss.rx_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1954   .bss.rx_data:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccfenuE2.s:1956   .bss.rx_index:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2iz
__aeabi_i2f
__aeabi_fsub
__aeabi_i2d
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
pow
memset
strstr
memcpy
HAL_UART_Receive_IT
SIM800
huart1
strlen
HAL_UART_Transmit_IT
osDelay
snprintf
MQTTSerialize_connect
MQTTSerialize_publish
sprintf
MQTTSerialize_pingreq
