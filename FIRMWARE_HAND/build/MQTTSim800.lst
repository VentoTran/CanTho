ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"MQTTSim800.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.reverse,"ax",%progbits
  16              		.align	1
  17              		.global	reverse
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	reverse:
  25              	.LVL0:
  26              	.LFB72:
  27              		.file 1 "Core/Src/MQTTSim800.c"
   1:Core/Src/MQTTSim800.c **** /*
   2:Core/Src/MQTTSim800.c ****  * MQTTSim800.c
   3:Core/Src/MQTTSim800.c ****  *
   4:Core/Src/MQTTSim800.c ****  *  Created on: Jan 4, 2020
   5:Core/Src/MQTTSim800.c ****  *      Author: Bulanov Konstantin
   6:Core/Src/MQTTSim800.c ****  *
   7:Core/Src/MQTTSim800.c ****  *  Contact information
   8:Core/Src/MQTTSim800.c ****  *  -------------------
   9:Core/Src/MQTTSim800.c ****  *
  10:Core/Src/MQTTSim800.c ****  * e-mail   :   leech001@gmail.com
  11:Core/Src/MQTTSim800.c ****  * telegram :   https://t.me/leech001
  12:Core/Src/MQTTSim800.c ****  *
  13:Core/Src/MQTTSim800.c ****  */
  14:Core/Src/MQTTSim800.c **** 
  15:Core/Src/MQTTSim800.c **** /*
  16:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  17:Core/Src/MQTTSim800.c ****         DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  18:Core/Src/MQTTSim800.c ****                     Version 2, December 2004
  19:Core/Src/MQTTSim800.c **** 
  20:Core/Src/MQTTSim800.c **** Copyright (C) 2020 Bulanov Konstantin <leech001@gmail.com>
  21:Core/Src/MQTTSim800.c **** 
  22:Core/Src/MQTTSim800.c **** Everyone is permitted to copy and distribute verbatim or modified
  23:Core/Src/MQTTSim800.c **** copies of this license document, and changing it is allowed as long
  24:Core/Src/MQTTSim800.c **** as the name is changed.
  25:Core/Src/MQTTSim800.c **** 
  26:Core/Src/MQTTSim800.c ****             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
  27:Core/Src/MQTTSim800.c **** TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
  28:Core/Src/MQTTSim800.c **** 
  29:Core/Src/MQTTSim800.c **** 0. You just DO WHAT THE FUCK YOU WANT TO.
  30:Core/Src/MQTTSim800.c **** 
  31:Core/Src/MQTTSim800.c **** MQTT packet https://github.com/eclipse/paho.mqtt.embedded-c/tree/master/MQTTPacket
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 2


  32:Core/Src/MQTTSim800.c ****  * ------------------------------------------------------------------------------------------------
  33:Core/Src/MQTTSim800.c **** */
  34:Core/Src/MQTTSim800.c **** 
  35:Core/Src/MQTTSim800.c **** #include "MQTTSim800.h"
  36:Core/Src/MQTTSim800.c **** #include "main.h"
  37:Core/Src/MQTTSim800.c **** #include "usart.h"
  38:Core/Src/MQTTSim800.c **** #include <string.h>
  39:Core/Src/MQTTSim800.c **** #include "MQTTPacket.h"
  40:Core/Src/MQTTSim800.c **** #include "math.h"
  41:Core/Src/MQTTSim800.c **** 
  42:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
  43:Core/Src/MQTTSim800.c **** #include <cmsis_os.h>
  44:Core/Src/MQTTSim800.c **** #endif
  45:Core/Src/MQTTSim800.c **** 
  46:Core/Src/MQTTSim800.c **** typedef struct
  47:Core/Src/MQTTSim800.c **** {
  48:Core/Src/MQTTSim800.c ****     uint8_t SIM;
  49:Core/Src/MQTTSim800.c ****     uint8_t GPRS;
  50:Core/Src/MQTTSim800.c ****     uint8_t MQTT;
  51:Core/Src/MQTTSim800.c **** } SIM800_St;
  52:Core/Src/MQTTSim800.c **** 
  53:Core/Src/MQTTSim800.c **** 
  54:Core/Src/MQTTSim800.c **** extern SIM800_t SIM800;
  55:Core/Src/MQTTSim800.c **** SIM800_St SIM800_Status = {0, 0, 0};
  56:Core/Src/MQTTSim800.c **** SIM800_Batt_t SIM800_Batt = {0, 0};
  57:Core/Src/MQTTSim800.c **** extern uint8_t is_SMS_done;
  58:Core/Src/MQTTSim800.c **** 
  59:Core/Src/MQTTSim800.c **** uint8_t rx_data = 0;
  60:Core/Src/MQTTSim800.c **** uint8_t rx_buffer[200] = {0};
  61:Core/Src/MQTTSim800.c **** uint16_t rx_index = 0;
  62:Core/Src/MQTTSim800.c **** 
  63:Core/Src/MQTTSim800.c **** uint8_t mqtt_receive = 0;
  64:Core/Src/MQTTSim800.c **** char mqtt_buffer[200] = {0};
  65:Core/Src/MQTTSim800.c **** uint16_t mqtt_index = 0;
  66:Core/Src/MQTTSim800.c **** 
  67:Core/Src/MQTTSim800.c **** extern GPS_Sta_t myGPS;
  68:Core/Src/MQTTSim800.c **** 
  69:Core/Src/MQTTSim800.c **** //-------------------------------------------------------------------------
  70:Core/Src/MQTTSim800.c **** 
  71:Core/Src/MQTTSim800.c **** // Reverses a string 'str' of length 'len'
  72:Core/Src/MQTTSim800.c **** void reverse(char* str, int len)
  73:Core/Src/MQTTSim800.c **** {
  28              		.loc 1 73 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  74:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  33              		.loc 1 74 5 view .LVU1
  34              		.loc 1 74 16 is_stmt 0 view .LVU2
  35 0000 0139     		subs	r1, r1, #1
  36              	.LVL1:
  75:Core/Src/MQTTSim800.c ****     while (i < j)
  37              		.loc 1 75 5 is_stmt 1 view .LVU3
  74:Core/Src/MQTTSim800.c ****     int i = 0, j = len - 1, temp;
  38              		.loc 1 74 9 is_stmt 0 view .LVU4
  39 0002 0023     		movs	r3, #0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 3


  40              		.loc 1 75 11 view .LVU5
  41 0004 07E0     		b	.L2
  42              	.LVL2:
  43              	.L3:
  76:Core/Src/MQTTSim800.c ****     {
  77:Core/Src/MQTTSim800.c ****         temp = str[i];
  44              		.loc 1 77 9 is_stmt 1 view .LVU6
  45              		.loc 1 77 19 is_stmt 0 view .LVU7
  46 0006 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
  47              	.LVL3:
  78:Core/Src/MQTTSim800.c ****         str[i] = str[j];
  48              		.loc 1 78 9 is_stmt 1 view .LVU8
  49              		.loc 1 78 21 is_stmt 0 view .LVU9
  50 0008 10F801C0 		ldrb	ip, [r0, r1]	@ zero_extendqisi2
  51              		.loc 1 78 16 view .LVU10
  52 000c 00F803C0 		strb	ip, [r0, r3]
  79:Core/Src/MQTTSim800.c ****         str[j] = temp;
  53              		.loc 1 79 9 is_stmt 1 view .LVU11
  54              		.loc 1 79 16 is_stmt 0 view .LVU12
  55 0010 4254     		strb	r2, [r0, r1]
  80:Core/Src/MQTTSim800.c ****         i++;
  56              		.loc 1 80 9 is_stmt 1 view .LVU13
  57              		.loc 1 80 10 is_stmt 0 view .LVU14
  58 0012 0133     		adds	r3, r3, #1
  59              	.LVL4:
  81:Core/Src/MQTTSim800.c ****         j--;
  60              		.loc 1 81 9 is_stmt 1 view .LVU15
  61              		.loc 1 81 10 is_stmt 0 view .LVU16
  62 0014 0139     		subs	r1, r1, #1
  63              	.LVL5:
  64              	.L2:
  75:Core/Src/MQTTSim800.c ****     {
  65              		.loc 1 75 11 is_stmt 1 view .LVU17
  66 0016 8B42     		cmp	r3, r1
  67 0018 F5DB     		blt	.L3
  82:Core/Src/MQTTSim800.c ****     }
  83:Core/Src/MQTTSim800.c **** }
  68              		.loc 1 83 1 is_stmt 0 view .LVU18
  69 001a 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE72:
  73              		.section	.text.intToStr,"ax",%progbits
  74              		.align	1
  75              		.global	intToStr
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  79              		.fpu softvfp
  81              	intToStr:
  82              	.LVL6:
  83              	.LFB73:
  84:Core/Src/MQTTSim800.c **** 
  85:Core/Src/MQTTSim800.c **** // Converts a given integer x to string str[]. 
  86:Core/Src/MQTTSim800.c **** // d is the number of digits required in the output. 
  87:Core/Src/MQTTSim800.c **** // If d is more than the number of digits in x, 
  88:Core/Src/MQTTSim800.c **** // then 0s are added at the beginning.
  89:Core/Src/MQTTSim800.c **** int intToStr(int x, char str[], int d)
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 4


  90:Core/Src/MQTTSim800.c **** {
  84              		.loc 1 90 1 is_stmt 1 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		.loc 1 90 1 is_stmt 0 view .LVU20
  89 0000 70B5     		push	{r4, r5, r6, lr}
  90              	.LCFI0:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 4, -16
  93              		.cfi_offset 5, -12
  94              		.cfi_offset 6, -8
  95              		.cfi_offset 14, -4
  96 0002 0E46     		mov	r6, r1
  91:Core/Src/MQTTSim800.c ****     int i = 0;
  97              		.loc 1 91 5 is_stmt 1 view .LVU21
  98              	.LVL7:
  92:Core/Src/MQTTSim800.c ****     if (x == 0)
  99              		.loc 1 92 5 view .LVU22
 100              		.loc 1 92 8 is_stmt 0 view .LVU23
 101 0004 18B9     		cbnz	r0, .L10
  93:Core/Src/MQTTSim800.c ****     {
  94:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 102              		.loc 1 94 9 is_stmt 1 view .LVU24
 103              	.LVL8:
 104              		.loc 1 94 18 is_stmt 0 view .LVU25
 105 0006 3023     		movs	r3, #48
 106 0008 0B70     		strb	r3, [r1]
 107              		.loc 1 94 14 view .LVU26
 108 000a 0124     		movs	r4, #1
 109 000c 15E0     		b	.L6
 110              	.LVL9:
 111              	.L10:
 112              		.loc 1 94 14 view .LVU27
 113 000e 0546     		mov	r5, r0
  91:Core/Src/MQTTSim800.c ****     if (x == 0)
 114              		.loc 1 91 9 view .LVU28
 115 0010 0024     		movs	r4, #0
 116              	.LVL10:
 117              	.L5:
  95:Core/Src/MQTTSim800.c ****     }
  96:Core/Src/MQTTSim800.c ****     else
  97:Core/Src/MQTTSim800.c ****     {
  98:Core/Src/MQTTSim800.c ****         while (x)
 118              		.loc 1 98 15 is_stmt 1 view .LVU29
 119 0012 95B1     		cbz	r5, .L6
  99:Core/Src/MQTTSim800.c ****         {
 100:Core/Src/MQTTSim800.c ****             str[i++] = (x % 10) + '0';
 120              		.loc 1 100 13 view .LVU30
 121              		.loc 1 100 27 is_stmt 0 view .LVU31
 122 0014 0E49     		ldr	r1, .L12
 123 0016 81FB0531 		smull	r3, r1, r1, r5
 124 001a EB17     		asrs	r3, r5, #31
 125 001c C3EBA103 		rsb	r3, r3, r1, asr #2
 126 0020 1946     		mov	r1, r3
 127 0022 03EB8303 		add	r3, r3, r3, lsl #2
 128 0026 A5EB4303 		sub	r3, r5, r3, lsl #1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 5


 129              	.LVL11:
 130              		.loc 1 100 33 view .LVU32
 131 002a 3033     		adds	r3, r3, #48
 132              		.loc 1 100 22 view .LVU33
 133 002c 3355     		strb	r3, [r6, r4]
 101:Core/Src/MQTTSim800.c ****             x = x / 10;
 134              		.loc 1 101 13 is_stmt 1 view .LVU34
 135              		.loc 1 101 15 is_stmt 0 view .LVU35
 136 002e 0D46     		mov	r5, r1
 137              	.LVL12:
 100:Core/Src/MQTTSim800.c ****             x = x / 10;
 138              		.loc 1 100 18 view .LVU36
 139 0030 0134     		adds	r4, r4, #1
 140              	.LVL13:
 100:Core/Src/MQTTSim800.c ****             x = x / 10;
 141              		.loc 1 100 18 view .LVU37
 142 0032 EEE7     		b	.L5
 143              	.LVL14:
 144              	.L9:
 102:Core/Src/MQTTSim800.c ****         }
 103:Core/Src/MQTTSim800.c ****     }
 104:Core/Src/MQTTSim800.c ****     
 105:Core/Src/MQTTSim800.c ****     // If number of digits required is more, then
 106:Core/Src/MQTTSim800.c ****     // add 0s at the beginning
 107:Core/Src/MQTTSim800.c ****     while (i < d)
 108:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 145              		.loc 1 108 9 is_stmt 1 view .LVU38
 146              		.loc 1 108 18 is_stmt 0 view .LVU39
 147 0034 3023     		movs	r3, #48
 148 0036 3355     		strb	r3, [r6, r4]
 149              		.loc 1 108 14 view .LVU40
 150 0038 0134     		adds	r4, r4, #1
 151              	.LVL15:
 152              	.L6:
 107:Core/Src/MQTTSim800.c ****         str[i++] = '0';
 153              		.loc 1 107 11 is_stmt 1 view .LVU41
 154 003a 9442     		cmp	r4, r2
 155 003c FADB     		blt	.L9
 109:Core/Src/MQTTSim800.c **** 
 110:Core/Src/MQTTSim800.c ****     reverse(str, i);
 156              		.loc 1 110 5 view .LVU42
 157 003e 2146     		mov	r1, r4
 158 0040 3046     		mov	r0, r6
 159 0042 FFF7FEFF 		bl	reverse
 160              	.LVL16:
 111:Core/Src/MQTTSim800.c ****     str[i] = '\0';
 161              		.loc 1 111 5 view .LVU43
 162              		.loc 1 111 12 is_stmt 0 view .LVU44
 163 0046 0023     		movs	r3, #0
 164 0048 3355     		strb	r3, [r6, r4]
 112:Core/Src/MQTTSim800.c ****     return i;
 165              		.loc 1 112 5 is_stmt 1 view .LVU45
 113:Core/Src/MQTTSim800.c **** }
 166              		.loc 1 113 1 is_stmt 0 view .LVU46
 167 004a 2046     		mov	r0, r4
 168 004c 70BD     		pop	{r4, r5, r6, pc}
 169              	.LVL17:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 6


 170              	.L13:
 171              		.loc 1 113 1 view .LVU47
 172 004e 00BF     		.align	2
 173              	.L12:
 174 0050 67666666 		.word	1717986919
 175              		.cfi_endproc
 176              	.LFE73:
 178              		.global	__aeabi_f2iz
 179              		.global	__aeabi_i2f
 180              		.global	__aeabi_fsub
 181              		.global	__aeabi_i2d
 182              		.global	__aeabi_f2d
 183              		.global	__aeabi_dmul
 184              		.global	__aeabi_d2f
 185              		.section	.text.ftoa,"ax",%progbits
 186              		.align	1
 187              		.global	ftoa
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu softvfp
 193              	ftoa:
 194              	.LVL18:
 195              	.LFB74:
 114:Core/Src/MQTTSim800.c **** 
 115:Core/Src/MQTTSim800.c **** // Converts a floating-point/double number to a string.
 116:Core/Src/MQTTSim800.c **** void ftoa(float n, char* res, int afterpoint)
 117:Core/Src/MQTTSim800.c **** {
 196              		.loc 1 117 1 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200              		.loc 1 117 1 is_stmt 0 view .LVU49
 201 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 202              	.LCFI1:
 203              		.cfi_def_cfa_offset 32
 204              		.cfi_offset 3, -32
 205              		.cfi_offset 4, -28
 206              		.cfi_offset 5, -24
 207              		.cfi_offset 6, -20
 208              		.cfi_offset 7, -16
 209              		.cfi_offset 8, -12
 210              		.cfi_offset 9, -8
 211              		.cfi_offset 14, -4
 212 0004 0646     		mov	r6, r0
 213 0006 0C46     		mov	r4, r1
 214 0008 1746     		mov	r7, r2
 118:Core/Src/MQTTSim800.c ****     // Extract integer part
 119:Core/Src/MQTTSim800.c ****     int ipart = (int)n;
 215              		.loc 1 119 5 is_stmt 1 view .LVU50
 216              		.loc 1 119 9 is_stmt 0 view .LVU51
 217 000a FFF7FEFF 		bl	__aeabi_f2iz
 218              	.LVL19:
 219              		.loc 1 119 9 view .LVU52
 220 000e 0546     		mov	r5, r0
 221              	.LVL20:
 120:Core/Src/MQTTSim800.c ****     // Extract floating part
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 7


 121:Core/Src/MQTTSim800.c ****     float fpart = n - (float)ipart;
 222              		.loc 1 121 5 is_stmt 1 view .LVU53
 223              		.loc 1 121 23 is_stmt 0 view .LVU54
 224 0010 FFF7FEFF 		bl	__aeabi_i2f
 225              	.LVL21:
 226              		.loc 1 121 23 view .LVU55
 227 0014 0146     		mov	r1, r0
 228              		.loc 1 121 11 view .LVU56
 229 0016 3046     		mov	r0, r6
 230 0018 FFF7FEFF 		bl	__aeabi_fsub
 231              	.LVL22:
 232 001c 0646     		mov	r6, r0
 233              	.LVL23:
 122:Core/Src/MQTTSim800.c ****     // convert integer part to string
 123:Core/Src/MQTTSim800.c ****     int i = intToStr(ipart, res, 0);
 234              		.loc 1 123 5 is_stmt 1 view .LVU57
 235              		.loc 1 123 13 is_stmt 0 view .LVU58
 236 001e 0022     		movs	r2, #0
 237 0020 2146     		mov	r1, r4
 238 0022 2846     		mov	r0, r5
 239              	.LVL24:
 240              		.loc 1 123 13 view .LVU59
 241 0024 FFF7FEFF 		bl	intToStr
 242              	.LVL25:
 124:Core/Src/MQTTSim800.c ****     // check for display option after point
 125:Core/Src/MQTTSim800.c ****     if (afterpoint != 0)
 243              		.loc 1 125 5 is_stmt 1 view .LVU60
 244              		.loc 1 125 8 is_stmt 0 view .LVU61
 245 0028 0FB9     		cbnz	r7, .L17
 246              	.LVL26:
 247              	.L14:
 126:Core/Src/MQTTSim800.c ****     {
 127:Core/Src/MQTTSim800.c ****         res[i] = '.'; // add dot
 128:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 129:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 130:Core/Src/MQTTSim800.c ****     }
 131:Core/Src/MQTTSim800.c **** }
 248              		.loc 1 131 1 view .LVU62
 249 002a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 250              	.LVL27:
 251              	.L17:
 252              		.loc 1 131 1 view .LVU63
 253 002e 0546     		mov	r5, r0
 254              	.LVL28:
 127:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 255              		.loc 1 127 9 is_stmt 1 view .LVU64
 127:Core/Src/MQTTSim800.c ****         fpart = fpart * pow(10, afterpoint);
 256              		.loc 1 127 16 is_stmt 0 view .LVU65
 257 0030 2E23     		movs	r3, #46
 258 0032 2354     		strb	r3, [r4, r0]
 128:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 259              		.loc 1 128 9 is_stmt 1 view .LVU66
 128:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 260              		.loc 1 128 25 is_stmt 0 view .LVU67
 261 0034 3846     		mov	r0, r7
 262              	.LVL29:
 128:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 8


 263              		.loc 1 128 25 view .LVU68
 264 0036 FFF7FEFF 		bl	__aeabi_i2d
 265              	.LVL30:
 266 003a 0246     		mov	r2, r0
 267 003c 0B46     		mov	r3, r1
 268 003e 0020     		movs	r0, #0
 269 0040 0B49     		ldr	r1, .L18
 270 0042 FFF7FEFF 		bl	pow
 271              	.LVL31:
 272 0046 8046     		mov	r8, r0
 273 0048 8946     		mov	r9, r1
 128:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 274              		.loc 1 128 23 view .LVU69
 275 004a 3046     		mov	r0, r6
 276 004c FFF7FEFF 		bl	__aeabi_f2d
 277              	.LVL32:
 278 0050 4246     		mov	r2, r8
 279 0052 4B46     		mov	r3, r9
 280 0054 FFF7FEFF 		bl	__aeabi_dmul
 281              	.LVL33:
 128:Core/Src/MQTTSim800.c ****         intToStr((int)fpart, res + i + 1, afterpoint);
 282              		.loc 1 128 15 view .LVU70
 283 0058 FFF7FEFF 		bl	__aeabi_d2f
 284              	.LVL34:
 129:Core/Src/MQTTSim800.c ****     }
 285              		.loc 1 129 9 is_stmt 1 view .LVU71
 129:Core/Src/MQTTSim800.c ****     }
 286              		.loc 1 129 38 is_stmt 0 view .LVU72
 287 005c 691C     		adds	r1, r5, #1
 129:Core/Src/MQTTSim800.c ****     }
 288              		.loc 1 129 9 view .LVU73
 289 005e 0C44     		add	r4, r4, r1
 290              	.LVL35:
 129:Core/Src/MQTTSim800.c ****     }
 291              		.loc 1 129 9 view .LVU74
 292 0060 FFF7FEFF 		bl	__aeabi_f2iz
 293              	.LVL36:
 129:Core/Src/MQTTSim800.c ****     }
 294              		.loc 1 129 9 view .LVU75
 295 0064 3A46     		mov	r2, r7
 296 0066 2146     		mov	r1, r4
 297 0068 FFF7FEFF 		bl	intToStr
 298              	.LVL37:
 299              		.loc 1 131 1 view .LVU76
 300 006c DDE7     		b	.L14
 301              	.L19:
 302 006e 00BF     		.align	2
 303              	.L18:
 304 0070 00002440 		.word	1076101120
 305              		.cfi_endproc
 306              	.LFE74:
 308              		.global	__aeabi_fmul
 309              		.global	__aeabi_fadd
 310              		.global	__aeabi_ddiv
 311              		.global	__aeabi_dadd
 312              		.section	.text.str2float,"ax",%progbits
 313              		.align	1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 9


 314              		.global	str2float
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 318              		.fpu softvfp
 320              	str2float:
 321              	.LVL38:
 322              	.LFB75:
 132:Core/Src/MQTTSim800.c **** 
 133:Core/Src/MQTTSim800.c **** float str2float(char* str, int afterpoint)
 134:Core/Src/MQTTSim800.c **** {
 323              		.loc 1 134 1 is_stmt 1 view -0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		.loc 1 134 1 is_stmt 0 view .LVU78
 328 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 329              	.LCFI2:
 330              		.cfi_def_cfa_offset 24
 331              		.cfi_offset 4, -24
 332              		.cfi_offset 5, -20
 333              		.cfi_offset 6, -16
 334              		.cfi_offset 7, -12
 335              		.cfi_offset 8, -8
 336              		.cfi_offset 14, -4
 337 0004 0646     		mov	r6, r0
 338 0006 0F46     		mov	r7, r1
 135:Core/Src/MQTTSim800.c ****     float f = 0.0;
 339              		.loc 1 135 5 is_stmt 1 view .LVU79
 340              	.LVL39:
 136:Core/Src/MQTTSim800.c ****     int f_part = 0;
 341              		.loc 1 136 5 view .LVU80
 137:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 342              		.loc 1 137 5 view .LVU81
 138:Core/Src/MQTTSim800.c **** 
 139:Core/Src/MQTTSim800.c ****     while (str[count] != '.')
 343              		.loc 1 139 5 view .LVU82
 137:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 344              		.loc 1 137 13 is_stmt 0 view .LVU83
 345 0008 0024     		movs	r4, #0
 135:Core/Src/MQTTSim800.c ****     int f_part = 0;
 346              		.loc 1 135 11 view .LVU84
 347 000a 0025     		movs	r5, #0
 348              		.loc 1 139 11 view .LVU85
 349 000c 0FE0     		b	.L21
 350              	.LVL40:
 351              	.L22:
 140:Core/Src/MQTTSim800.c ****     {
 141:Core/Src/MQTTSim800.c ****         f = f * 10 + (int)(str[count++] - 48);
 352              		.loc 1 141 9 is_stmt 1 view .LVU86
 353              		.loc 1 141 15 is_stmt 0 view .LVU87
 354 000e 2249     		ldr	r1, .L26
 355 0010 2846     		mov	r0, r5
 356 0012 FFF7FEFF 		bl	__aeabi_fmul
 357              	.LVL41:
 358 0016 0546     		mov	r5, r0
 359              	.LVL42:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 10


 360              		.loc 1 141 37 view .LVU88
 361 0018 0134     		adds	r4, r4, #1
 362              	.LVL43:
 363              		.loc 1 141 37 view .LVU89
 364 001a E4B2     		uxtb	r4, r4
 365              	.LVL44:
 366              		.loc 1 141 20 view .LVU90
 367 001c A8F13000 		sub	r0, r8, #48
 368 0020 FFF7FEFF 		bl	__aeabi_i2f
 369              	.LVL45:
 370 0024 0146     		mov	r1, r0
 371              		.loc 1 141 11 view .LVU91
 372 0026 2846     		mov	r0, r5
 373 0028 FFF7FEFF 		bl	__aeabi_fadd
 374              	.LVL46:
 375 002c 0546     		mov	r5, r0
 376              	.LVL47:
 377              	.L21:
 139:Core/Src/MQTTSim800.c ****     {
 378              		.loc 1 139 11 is_stmt 1 view .LVU92
 139:Core/Src/MQTTSim800.c ****     {
 379              		.loc 1 139 15 is_stmt 0 view .LVU93
 380 002e 16F80480 		ldrb	r8, [r6, r4]	@ zero_extendqisi2
 139:Core/Src/MQTTSim800.c ****     {
 381              		.loc 1 139 11 view .LVU94
 382 0032 B8F12E0F 		cmp	r8, #46
 383 0036 EAD1     		bne	.L22
 142:Core/Src/MQTTSim800.c ****     }
 143:Core/Src/MQTTSim800.c **** 
 144:Core/Src/MQTTSim800.c ****     count++;
 384              		.loc 1 144 5 is_stmt 1 view .LVU95
 385              		.loc 1 144 10 is_stmt 0 view .LVU96
 386 0038 0134     		adds	r4, r4, #1
 387              	.LVL48:
 388              		.loc 1 144 10 view .LVU97
 389 003a E4B2     		uxtb	r4, r4
 390              	.LVL49:
 145:Core/Src/MQTTSim800.c **** 
 146:Core/Src/MQTTSim800.c ****     for (uint8_t i = 0; i < afterpoint; i++)
 391              		.loc 1 146 5 is_stmt 1 view .LVU98
 392              	.LBB2:
 393              		.loc 1 146 10 view .LVU99
 394              		.loc 1 146 18 is_stmt 0 view .LVU100
 395 003c 0023     		movs	r3, #0
 396              	.LBE2:
 136:Core/Src/MQTTSim800.c ****     uint8_t count = 0;
 397              		.loc 1 136 9 view .LVU101
 398 003e 9846     		mov	r8, r3
 399              	.LBB3:
 400              		.loc 1 146 5 view .LVU102
 401 0040 09E0     		b	.L23
 402              	.LVL50:
 403              	.L24:
 147:Core/Src/MQTTSim800.c ****     {
 148:Core/Src/MQTTSim800.c ****         // f = f + (float)(str[count++] - 48)/(pow(10, i+1));
 149:Core/Src/MQTTSim800.c ****         f_part = f_part * 10 + (int)(str[count++] - 48);
 404              		.loc 1 149 9 is_stmt 1 discriminator 3 view .LVU103
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 11


 405              		.loc 1 149 25 is_stmt 0 discriminator 3 view .LVU104
 406 0042 08EB8808 		add	r8, r8, r8, lsl #2
 407              	.LVL51:
 408              		.loc 1 149 47 discriminator 3 view .LVU105
 409 0046 611C     		adds	r1, r4, #1
 410              	.LVL52:
 411              		.loc 1 149 41 discriminator 3 view .LVU106
 412 0048 325D     		ldrb	r2, [r6, r4]	@ zero_extendqisi2
 413              		.loc 1 149 32 discriminator 3 view .LVU107
 414 004a 303A     		subs	r2, r2, #48
 415              		.loc 1 149 16 discriminator 3 view .LVU108
 416 004c 02EB4808 		add	r8, r2, r8, lsl #1
 417              	.LVL53:
 146:Core/Src/MQTTSim800.c ****     {
 418              		.loc 1 146 41 is_stmt 1 discriminator 3 view .LVU109
 146:Core/Src/MQTTSim800.c ****     {
 419              		.loc 1 146 42 is_stmt 0 discriminator 3 view .LVU110
 420 0050 0133     		adds	r3, r3, #1
 421              	.LVL54:
 146:Core/Src/MQTTSim800.c ****     {
 422              		.loc 1 146 42 discriminator 3 view .LVU111
 423 0052 DBB2     		uxtb	r3, r3
 424              	.LVL55:
 425              		.loc 1 149 47 discriminator 3 view .LVU112
 426 0054 CCB2     		uxtb	r4, r1
 427              	.LVL56:
 428              	.L23:
 146:Core/Src/MQTTSim800.c ****     {
 429              		.loc 1 146 25 is_stmt 1 discriminator 1 view .LVU113
 146:Core/Src/MQTTSim800.c ****     {
 430              		.loc 1 146 5 is_stmt 0 discriminator 1 view .LVU114
 431 0056 BB42     		cmp	r3, r7
 432 0058 F3DB     		blt	.L24
 433              	.LBE3:
 150:Core/Src/MQTTSim800.c ****     }
 151:Core/Src/MQTTSim800.c **** 
 152:Core/Src/MQTTSim800.c ****     f += f_part / pow(10, afterpoint);
 434              		.loc 1 152 5 is_stmt 1 view .LVU115
 435              		.loc 1 152 19 is_stmt 0 view .LVU116
 436 005a 3846     		mov	r0, r7
 437 005c FFF7FEFF 		bl	__aeabi_i2d
 438              	.LVL57:
 439              		.loc 1 152 19 view .LVU117
 440 0060 0246     		mov	r2, r0
 441 0062 0B46     		mov	r3, r1
 442 0064 0020     		movs	r0, #0
 443 0066 0D49     		ldr	r1, .L26+4
 444 0068 FFF7FEFF 		bl	pow
 445              	.LVL58:
 446 006c 0646     		mov	r6, r0
 447              	.LVL59:
 448              		.loc 1 152 19 view .LVU118
 449 006e 0F46     		mov	r7, r1
 450              	.LVL60:
 451              		.loc 1 152 17 view .LVU119
 452 0070 4046     		mov	r0, r8
 453 0072 FFF7FEFF 		bl	__aeabi_i2d
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 12


 454              	.LVL61:
 455 0076 3246     		mov	r2, r6
 456 0078 3B46     		mov	r3, r7
 457 007a FFF7FEFF 		bl	__aeabi_ddiv
 458              	.LVL62:
 459 007e 0646     		mov	r6, r0
 460 0080 0F46     		mov	r7, r1
 461              		.loc 1 152 7 view .LVU120
 462 0082 2846     		mov	r0, r5
 463 0084 FFF7FEFF 		bl	__aeabi_f2d
 464              	.LVL63:
 465 0088 3246     		mov	r2, r6
 466 008a 3B46     		mov	r3, r7
 467 008c FFF7FEFF 		bl	__aeabi_dadd
 468              	.LVL64:
 469 0090 FFF7FEFF 		bl	__aeabi_d2f
 470              	.LVL65:
 153:Core/Src/MQTTSim800.c **** 
 154:Core/Src/MQTTSim800.c ****     return f;
 471              		.loc 1 154 5 is_stmt 1 view .LVU121
 155:Core/Src/MQTTSim800.c **** }
 472              		.loc 1 155 1 is_stmt 0 view .LVU122
 473 0094 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 474              	.LVL66:
 475              	.L27:
 476              		.loc 1 155 1 view .LVU123
 477              		.align	2
 478              	.L26:
 479 0098 00002041 		.word	1092616192
 480 009c 00002440 		.word	1076101120
 481              		.cfi_endproc
 482              	.LFE75:
 484              		.section	.text.GPS_Time_Parse,"ax",%progbits
 485              		.align	1
 486              		.global	GPS_Time_Parse
 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 490              		.fpu softvfp
 492              	GPS_Time_Parse:
 493              	.LVL67:
 494              	.LFB77:
 156:Core/Src/MQTTSim800.c **** 
 157:Core/Src/MQTTSim800.c **** void getGPS(void)
 158:Core/Src/MQTTSim800.c **** {
 159:Core/Src/MQTTSim800.c ****     // SIM800_SendCommand("AT+CGNSINF\r\n", "", 1000);
 160:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CGNSINF\r\n";
 161:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 162:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 163:Core/Src/MQTTSim800.c **** 
 164:Core/Src/MQTTSim800.c ****     osDelay(1000);
 165:Core/Src/MQTTSim800.c **** 
 166:Core/Src/MQTTSim800.c ****     sscanf(mqtt_buffer, "+CGNSINF: %[^,],%[^,],%[^,],%[^,],%[^,],%*[^,],%*[^,],%*[^,],%d,,%*[^,],%*
 167:Core/Src/MQTTSim800.c ****         &myGPS.GPS_Status, &myGPS.Fix_Status, myGPS.UTC_Time, myGPS.cLat, myGPS.cLon, \
 168:Core/Src/MQTTSim800.c ****         &myGPS.FixMode, &myGPS.NumSatView, &myGPS.NumSatUsed, &myGPS.NumGLONASS);
 169:Core/Src/MQTTSim800.c **** 
 170:Core/Src/MQTTSim800.c ****     if (myGPS.Fix_Status == 1)
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 13


 171:Core/Src/MQTTSim800.c ****     {
 172:Core/Src/MQTTSim800.c ****         myGPS.Latitude = str2float(myGPS.cLat, 6);
 173:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 174:Core/Src/MQTTSim800.c ****     }
 175:Core/Src/MQTTSim800.c ****     
 176:Core/Src/MQTTSim800.c ****     GPS_Time_Parse(myGPS.UTC_Time);
 177:Core/Src/MQTTSim800.c **** 
 178:Core/Src/MQTTSim800.c ****     clearMqttBuffer();
 179:Core/Src/MQTTSim800.c ****     // clearRxBuffer();
 180:Core/Src/MQTTSim800.c **** 
 181:Core/Src/MQTTSim800.c **** }
 182:Core/Src/MQTTSim800.c **** 
 183:Core/Src/MQTTSim800.c **** void GPS_Time_Parse(char * cTime)
 184:Core/Src/MQTTSim800.c **** {
 495              		.loc 1 184 1 is_stmt 1 view -0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 8
 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              		.loc 1 184 1 is_stmt 0 view .LVU125
 500 0000 70B5     		push	{r4, r5, r6, lr}
 501              	.LCFI3:
 502              		.cfi_def_cfa_offset 16
 503              		.cfi_offset 4, -16
 504              		.cfi_offset 5, -12
 505              		.cfi_offset 6, -8
 506              		.cfi_offset 14, -4
 507 0002 82B0     		sub	sp, sp, #8
 508              	.LCFI4:
 509              		.cfi_def_cfa_offset 24
 510 0004 0446     		mov	r4, r0
 185:Core/Src/MQTTSim800.c ****     char str[4] = {0};
 511              		.loc 1 185 5 is_stmt 1 view .LVU126
 512              		.loc 1 185 10 is_stmt 0 view .LVU127
 513 0006 0025     		movs	r5, #0
 514 0008 0195     		str	r5, [sp, #4]
 186:Core/Src/MQTTSim800.c **** 
 187:Core/Src/MQTTSim800.c ****     memcpy(str, cTime, 4);
 515              		.loc 1 187 5 is_stmt 1 view .LVU128
 516 000a 0368     		ldr	r3, [r0]	@ unaligned
 517 000c 0193     		str	r3, [sp, #4]
 188:Core/Src/MQTTSim800.c ****     myGPS.Time.Year = (uint16_t)strtol(str, NULL, 10);
 518              		.loc 1 188 5 view .LVU129
 519              		.loc 1 188 33 is_stmt 0 view .LVU130
 520 000e 0A22     		movs	r2, #10
 521 0010 2946     		mov	r1, r5
 522 0012 01A8     		add	r0, sp, #4
 523              	.LVL68:
 524              		.loc 1 188 33 view .LVU131
 525 0014 FFF7FEFF 		bl	strtol
 526              	.LVL69:
 527              		.loc 1 188 21 view .LVU132
 528 0018 274E     		ldr	r6, .L37
 529 001a F082     		strh	r0, [r6, #22]	@ movhi
 189:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 530              		.loc 1 189 5 is_stmt 1 view .LVU133
 531 001c 0195     		str	r5, [sp, #4]
 190:Core/Src/MQTTSim800.c **** 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 14


 191:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 4, 2);
 532              		.loc 1 191 5 view .LVU134
 533 001e A388     		ldrh	r3, [r4, #4]	@ unaligned
 534 0020 ADF80430 		strh	r3, [sp, #4]	@ movhi
 192:Core/Src/MQTTSim800.c ****     myGPS.Time.Month = (uint8_t)strtol(str, NULL, 10);
 535              		.loc 1 192 5 view .LVU135
 536              		.loc 1 192 33 is_stmt 0 view .LVU136
 537 0024 0A22     		movs	r2, #10
 538 0026 2946     		mov	r1, r5
 539 0028 01A8     		add	r0, sp, #4
 540 002a FFF7FEFF 		bl	strtol
 541              	.LVL70:
 542              		.loc 1 192 22 view .LVU137
 543 002e 3076     		strb	r0, [r6, #24]
 193:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 544              		.loc 1 193 5 is_stmt 1 view .LVU138
 545 0030 0195     		str	r5, [sp, #4]
 194:Core/Src/MQTTSim800.c **** 
 195:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 6, 2);
 546              		.loc 1 195 5 view .LVU139
 547 0032 E388     		ldrh	r3, [r4, #6]	@ unaligned
 548 0034 ADF80430 		strh	r3, [sp, #4]	@ movhi
 196:Core/Src/MQTTSim800.c ****     myGPS.Time.Day = (uint8_t)strtol(str, NULL, 10);
 549              		.loc 1 196 5 view .LVU140
 550              		.loc 1 196 31 is_stmt 0 view .LVU141
 551 0038 0A22     		movs	r2, #10
 552 003a 2946     		mov	r1, r5
 553 003c 01A8     		add	r0, sp, #4
 554 003e FFF7FEFF 		bl	strtol
 555              	.LVL71:
 556              		.loc 1 196 20 view .LVU142
 557 0042 7076     		strb	r0, [r6, #25]
 197:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 558              		.loc 1 197 5 is_stmt 1 view .LVU143
 559 0044 0195     		str	r5, [sp, #4]
 198:Core/Src/MQTTSim800.c **** 
 199:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 8, 2);
 560              		.loc 1 199 5 view .LVU144
 561 0046 2389     		ldrh	r3, [r4, #8]	@ unaligned
 562 0048 ADF80430 		strh	r3, [sp, #4]	@ movhi
 200:Core/Src/MQTTSim800.c ****     myGPS.Time.Hour = (uint8_t)strtol(str, NULL, 10);
 563              		.loc 1 200 5 view .LVU145
 564              		.loc 1 200 32 is_stmt 0 view .LVU146
 565 004c 0A22     		movs	r2, #10
 566 004e 2946     		mov	r1, r5
 567 0050 01A8     		add	r0, sp, #4
 568 0052 FFF7FEFF 		bl	strtol
 569              	.LVL72:
 570              		.loc 1 200 23 view .LVU147
 571 0056 C0B2     		uxtb	r0, r0
 572              		.loc 1 200 21 view .LVU148
 573 0058 B076     		strb	r0, [r6, #26]
 201:Core/Src/MQTTSim800.c ****     if ((myGPS.Time.Hour + 7) >= 24)
 574              		.loc 1 201 5 is_stmt 1 view .LVU149
 575              		.loc 1 201 8 is_stmt 0 view .LVU150
 576 005a 1028     		cmp	r0, #16
 577 005c 2AD8     		bhi	.L34
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 15


 202:Core/Src/MQTTSim800.c ****     {
 203:Core/Src/MQTTSim800.c ****         for (uint8_t i = 0; i < 7; i++)
 204:Core/Src/MQTTSim800.c ****         {
 205:Core/Src/MQTTSim800.c ****             myGPS.Time.Hour++;
 206:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 207:Core/Src/MQTTSim800.c ****         }
 208:Core/Src/MQTTSim800.c ****     }
 209:Core/Src/MQTTSim800.c ****     else    myGPS.Time.Hour += 7;
 578              		.loc 1 209 13 is_stmt 1 view .LVU151
 579              		.loc 1 209 29 is_stmt 0 view .LVU152
 580 005e 0730     		adds	r0, r0, #7
 581 0060 154B     		ldr	r3, .L37
 582 0062 9876     		strb	r0, [r3, #26]
 583              	.L33:
 210:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 584              		.loc 1 210 5 is_stmt 1 view .LVU153
 585 0064 0025     		movs	r5, #0
 586 0066 0195     		str	r5, [sp, #4]
 211:Core/Src/MQTTSim800.c **** 
 212:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 10, 2);
 587              		.loc 1 212 5 view .LVU154
 588 0068 6389     		ldrh	r3, [r4, #10]	@ unaligned
 589 006a ADF80430 		strh	r3, [sp, #4]	@ movhi
 213:Core/Src/MQTTSim800.c ****     myGPS.Time.Minute = (uint8_t)strtol(str, NULL, 10);
 590              		.loc 1 213 5 view .LVU155
 591              		.loc 1 213 34 is_stmt 0 view .LVU156
 592 006e 0A22     		movs	r2, #10
 593 0070 2946     		mov	r1, r5
 594 0072 01A8     		add	r0, sp, #4
 595 0074 FFF7FEFF 		bl	strtol
 596              	.LVL73:
 597              		.loc 1 213 23 view .LVU157
 598 0078 0F4E     		ldr	r6, .L37
 599 007a F076     		strb	r0, [r6, #27]
 214:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 600              		.loc 1 214 5 is_stmt 1 view .LVU158
 601 007c 0195     		str	r5, [sp, #4]
 215:Core/Src/MQTTSim800.c **** 
 216:Core/Src/MQTTSim800.c ****     memcpy(str, cTime + 12, 2);
 602              		.loc 1 216 5 view .LVU159
 603 007e A389     		ldrh	r3, [r4, #12]	@ unaligned
 604 0080 ADF80430 		strh	r3, [sp, #4]	@ movhi
 217:Core/Src/MQTTSim800.c ****     myGPS.Time.Second = (uint8_t)strtol(str, NULL, 10);
 605              		.loc 1 217 5 view .LVU160
 606              		.loc 1 217 34 is_stmt 0 view .LVU161
 607 0084 0A22     		movs	r2, #10
 608 0086 2946     		mov	r1, r5
 609 0088 01A8     		add	r0, sp, #4
 610 008a FFF7FEFF 		bl	strtol
 611              	.LVL74:
 612              		.loc 1 217 23 view .LVU162
 613 008e 3077     		strb	r0, [r6, #28]
 218:Core/Src/MQTTSim800.c ****     memset(str, '\0', 4);
 614              		.loc 1 218 5 is_stmt 1 view .LVU163
 615 0090 0195     		str	r5, [sp, #4]
 219:Core/Src/MQTTSim800.c **** 
 220:Core/Src/MQTTSim800.c **** }
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 16


 616              		.loc 1 220 1 is_stmt 0 view .LVU164
 617 0092 02B0     		add	sp, sp, #8
 618              	.LCFI5:
 619              		.cfi_remember_state
 620              		.cfi_def_cfa_offset 16
 621              		@ sp needed
 622 0094 70BD     		pop	{r4, r5, r6, pc}
 623              	.LVL75:
 624              	.L31:
 625              	.LCFI6:
 626              		.cfi_restore_state
 627              	.LBB4:
 203:Core/Src/MQTTSim800.c ****         {
 628              		.loc 1 203 36 is_stmt 1 discriminator 2 view .LVU165
 203:Core/Src/MQTTSim800.c ****         {
 629              		.loc 1 203 37 is_stmt 0 discriminator 2 view .LVU166
 630 0096 0132     		adds	r2, r2, #1
 631              	.LVL76:
 203:Core/Src/MQTTSim800.c ****         {
 632              		.loc 1 203 37 discriminator 2 view .LVU167
 633 0098 D2B2     		uxtb	r2, r2
 634              	.LVL77:
 635              	.L29:
 203:Core/Src/MQTTSim800.c ****         {
 636              		.loc 1 203 29 is_stmt 1 discriminator 1 view .LVU168
 203:Core/Src/MQTTSim800.c ****         {
 637              		.loc 1 203 9 is_stmt 0 discriminator 1 view .LVU169
 638 009a 062A     		cmp	r2, #6
 639 009c E2D8     		bhi	.L33
 205:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 640              		.loc 1 205 13 is_stmt 1 view .LVU170
 205:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 641              		.loc 1 205 23 is_stmt 0 view .LVU171
 642 009e 0649     		ldr	r1, .L37
 643 00a0 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 205:Core/Src/MQTTSim800.c ****             if (myGPS.Time.Hour == 24)  myGPS.Time.Hour = 0;
 644              		.loc 1 205 28 view .LVU172
 645 00a2 0133     		adds	r3, r3, #1
 646 00a4 DBB2     		uxtb	r3, r3
 647 00a6 8B76     		strb	r3, [r1, #26]
 206:Core/Src/MQTTSim800.c ****         }
 648              		.loc 1 206 13 is_stmt 1 view .LVU173
 206:Core/Src/MQTTSim800.c ****         }
 649              		.loc 1 206 16 is_stmt 0 view .LVU174
 650 00a8 182B     		cmp	r3, #24
 651 00aa F4D1     		bne	.L31
 206:Core/Src/MQTTSim800.c ****         }
 652              		.loc 1 206 41 is_stmt 1 discriminator 1 view .LVU175
 206:Core/Src/MQTTSim800.c ****         }
 653              		.loc 1 206 57 is_stmt 0 discriminator 1 view .LVU176
 654 00ac 0B46     		mov	r3, r1
 655 00ae 0021     		movs	r1, #0
 656 00b0 9976     		strb	r1, [r3, #26]
 657 00b2 F0E7     		b	.L31
 658              	.LVL78:
 659              	.L34:
 203:Core/Src/MQTTSim800.c ****         {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 17


 660              		.loc 1 203 22 view .LVU177
 661 00b4 0022     		movs	r2, #0
 662 00b6 F0E7     		b	.L29
 663              	.L38:
 664              		.align	2
 665              	.L37:
 666 00b8 00000000 		.word	myGPS
 667              	.LBE4:
 668              		.cfi_endproc
 669              	.LFE77:
 671              		.section	.text.clearRxBuffer,"ax",%progbits
 672              		.align	1
 673              		.global	clearRxBuffer
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu softvfp
 679              	clearRxBuffer:
 680              	.LFB80:
 221:Core/Src/MQTTSim800.c **** 
 222:Core/Src/MQTTSim800.c **** void getBattery(void)
 223:Core/Src/MQTTSim800.c **** {
 224:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CBC\r\n";
 225:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 226:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 227:Core/Src/MQTTSim800.c **** 
 228:Core/Src/MQTTSim800.c ****     osDelay(1500);
 229:Core/Src/MQTTSim800.c **** 
 230:Core/Src/MQTTSim800.c ****     sscanf(mqtt_buffer, "+CBC: %*[^,],%i,%i", &SIM800_Batt.BattPerc, &SIM800_Batt.BattVol);
 231:Core/Src/MQTTSim800.c **** }
 232:Core/Src/MQTTSim800.c **** 
 233:Core/Src/MQTTSim800.c **** //-------------------------------------------------------------------------------------------------
 234:Core/Src/MQTTSim800.c **** 
 235:Core/Src/MQTTSim800.c **** /**
 236:Core/Src/MQTTSim800.c ****  * Call back function for release read SIM800 UART buffer.
 237:Core/Src/MQTTSim800.c ****  * @param NONE
 238:Core/Src/MQTTSim800.c ****  * @return NONE
 239:Core/Src/MQTTSim800.c ****  */
 240:Core/Src/MQTTSim800.c **** void Sim800_RxCallBack(void)
 241:Core/Src/MQTTSim800.c **** {
 242:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 243:Core/Src/MQTTSim800.c **** 
 244:Core/Src/MQTTSim800.c **** 
 245:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "\r\n") != NULL && rx_index == 2)
 246:Core/Src/MQTTSim800.c ****     {
 247:Core/Src/MQTTSim800.c ****         rx_index = 0;
 248:Core/Src/MQTTSim800.c ****     }
 249:Core/Src/MQTTSim800.c ****     else if ((strstr((char *)rx_buffer, "OK\r\n") != NULL) || (strstr((char *)rx_buffer, "ERROR\r\n
 250:Core/Src/MQTTSim800.c ****     {
 251:Core/Src/MQTTSim800.c ****         memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 252:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 253:Core/Src/MQTTSim800.c ****         if (strstr(mqtt_buffer, "ERROR") && (SIM800.mqttServer.connect == 1))
 254:Core/Src/MQTTSim800.c ****         {
 255:Core/Src/MQTTSim800.c ****             SIM800.mqttServer.connect = 0;
 256:Core/Src/MQTTSim800.c ****         }
 257:Core/Src/MQTTSim800.c ****         else if (strstr(mqtt_buffer, "CONNECT"))
 258:Core/Src/MQTTSim800.c ****         {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 18


 259:Core/Src/MQTTSim800.c ****             SIM800.mqttServer.connect = 1;
 260:Core/Src/MQTTSim800.c ****         }
 261:Core/Src/MQTTSim800.c ****     }
 262:Core/Src/MQTTSim800.c **** 
 263:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "CLOSED\r\n") || strstr((char *)rx_buffer, "DEACT\r\n"))
 264:Core/Src/MQTTSim800.c ****     {
 265:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 0;
 266:Core/Src/MQTTSim800.c ****     }
 267:Core/Src/MQTTSim800.c ****     // if (strstr((char*)rx_buffer, "SEND OK\r\n"))  
 268:Core/Src/MQTTSim800.c ****     // {
 269:Core/Src/MQTTSim800.c ****     //     SIM800.mqttServer.connect = 1;
 270:Core/Src/MQTTSim800.c ****     //     clearRxBuffer();
 271:Core/Src/MQTTSim800.c ****     // } 
 272:Core/Src/MQTTSim800.c ****     // if (SIM800.mqttServer.connect == 1 && rx_data == 48)
 273:Core/Src/MQTTSim800.c ****     // {
 274:Core/Src/MQTTSim800.c ****     //     mqtt_receive = 1;
 275:Core/Src/MQTTSim800.c ****     // }
 276:Core/Src/MQTTSim800.c ****     // if (mqtt_receive == 1)
 277:Core/Src/MQTTSim800.c ****     // {
 278:Core/Src/MQTTSim800.c ****     //     mqtt_buffer[mqtt_index++] = rx_data;
 279:Core/Src/MQTTSim800.c ****     //     if (mqtt_index > 1 && mqtt_index - 1 > mqtt_buffer[1])
 280:Core/Src/MQTTSim800.c ****     //     {
 281:Core/Src/MQTTSim800.c ****     //         //MQTT_Receive((unsigned char *)mqtt_buffer);
 282:Core/Src/MQTTSim800.c ****     //         clearRxBuffer();
 283:Core/Src/MQTTSim800.c ****     //         clearMqttBuffer();
 284:Core/Src/MQTTSim800.c ****     //     }
 285:Core/Src/MQTTSim800.c ****     //     if (mqtt_index >= sizeof(mqtt_buffer))
 286:Core/Src/MQTTSim800.c ****     //     {
 287:Core/Src/MQTTSim800.c ****     //         clearMqttBuffer();
 288:Core/Src/MQTTSim800.c ****     //     }
 289:Core/Src/MQTTSim800.c ****     // }
 290:Core/Src/MQTTSim800.c ****     if (rx_index >= sizeof(mqtt_buffer))
 291:Core/Src/MQTTSim800.c ****     {
 292:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 293:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 294:Core/Src/MQTTSim800.c ****     }
 295:Core/Src/MQTTSim800.c ****     if ((strstr((char *)rx_buffer, ">") != NULL) && (rx_index < 5))
 296:Core/Src/MQTTSim800.c ****     {
 297:Core/Src/MQTTSim800.c ****         memcpy(mqtt_buffer, rx_buffer, sizeof(rx_buffer));
 298:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 299:Core/Src/MQTTSim800.c ****     }
 300:Core/Src/MQTTSim800.c ****     if (strstr((char *)rx_buffer, "+CMGS:") != NULL)
 301:Core/Src/MQTTSim800.c ****     {
 302:Core/Src/MQTTSim800.c ****         is_SMS_done = 1;
 303:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 304:Core/Src/MQTTSim800.c ****     }
 305:Core/Src/MQTTSim800.c **** 
 306:Core/Src/MQTTSim800.c ****     if(rx_data == '^')
 307:Core/Src/MQTTSim800.c ****     {
 308:Core/Src/MQTTSim800.c ****         MQTT_Receive(rx_buffer);
 309:Core/Src/MQTTSim800.c ****     }
 310:Core/Src/MQTTSim800.c **** 
 311:Core/Src/MQTTSim800.c ****     HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 312:Core/Src/MQTTSim800.c **** }
 313:Core/Src/MQTTSim800.c **** 
 314:Core/Src/MQTTSim800.c **** /**
 315:Core/Src/MQTTSim800.c ****  * Clear SIM800 UART RX buffer.
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 19


 316:Core/Src/MQTTSim800.c ****  * @param NONE
 317:Core/Src/MQTTSim800.c ****  * @return NONE
 318:Core/Src/MQTTSim800.c ****  */
 319:Core/Src/MQTTSim800.c **** void clearRxBuffer(void)
 320:Core/Src/MQTTSim800.c **** {
 681              		.loc 1 320 1 is_stmt 1 view -0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 0
 684              		@ frame_needed = 0, uses_anonymous_args = 0
 685 0000 08B5     		push	{r3, lr}
 686              	.LCFI7:
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 3, -8
 689              		.cfi_offset 14, -4
 321:Core/Src/MQTTSim800.c ****     rx_index = 0;
 690              		.loc 1 321 5 view .LVU179
 691              		.loc 1 321 14 is_stmt 0 view .LVU180
 692 0002 0021     		movs	r1, #0
 693 0004 034B     		ldr	r3, .L41
 694 0006 1980     		strh	r1, [r3]	@ movhi
 322:Core/Src/MQTTSim800.c ****     memset(rx_buffer, 0, sizeof(rx_buffer));
 695              		.loc 1 322 5 is_stmt 1 view .LVU181
 696 0008 C822     		movs	r2, #200
 697 000a 0348     		ldr	r0, .L41+4
 698 000c FFF7FEFF 		bl	memset
 699              	.LVL79:
 323:Core/Src/MQTTSim800.c **** }
 700              		.loc 1 323 1 is_stmt 0 view .LVU182
 701 0010 08BD     		pop	{r3, pc}
 702              	.L42:
 703 0012 00BF     		.align	2
 704              	.L41:
 705 0014 00000000 		.word	.LANCHOR0
 706 0018 00000000 		.word	.LANCHOR1
 707              		.cfi_endproc
 708              	.LFE80:
 710              		.section	.rodata.getBattery.str1.4,"aMS",%progbits,1
 711              		.align	2
 712              	.LC2:
 713 0000 2B434243 		.ascii	"+CBC: %*[^,],%i,%i\000"
 713      3A20252A 
 713      5B5E2C5D 
 713      2C25692C 
 713      256900
 714              		.section	.text.getBattery,"ax",%progbits
 715              		.align	1
 716              		.global	getBattery
 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 720              		.fpu softvfp
 722              	getBattery:
 723              	.LFB78:
 223:Core/Src/MQTTSim800.c ****     char cmd[15] = "AT+CBC\r\n";
 724              		.loc 1 223 1 is_stmt 1 view -0
 725              		.cfi_startproc
 726              		@ args = 0, pretend = 0, frame = 16
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 20


 727              		@ frame_needed = 0, uses_anonymous_args = 0
 728 0000 00B5     		push	{lr}
 729              	.LCFI8:
 730              		.cfi_def_cfa_offset 4
 731              		.cfi_offset 14, -4
 732 0002 85B0     		sub	sp, sp, #20
 733              	.LCFI9:
 734              		.cfi_def_cfa_offset 24
 224:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 735              		.loc 1 224 5 view .LVU184
 224:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 736              		.loc 1 224 10 is_stmt 0 view .LVU185
 737 0004 104A     		ldr	r2, .L45
 738 0006 6B46     		mov	r3, sp
 739 0008 07CA     		ldm	r2, {r0, r1, r2}
 740 000a 03C3     		stmia	r3!, {r0, r1}
 741 000c 1A70     		strb	r2, [r3]
 742 000e 0023     		movs	r3, #0
 743 0010 CDF80930 		str	r3, [sp, #9]	@ unaligned
 744 0014 ADF80D30 		strh	r3, [sp, #13]	@ unaligned
 225:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 745              		.loc 1 225 5 is_stmt 1 view .LVU186
 746 0018 FFF7FEFF 		bl	clearRxBuffer
 747              	.LVL80:
 226:Core/Src/MQTTSim800.c **** 
 748              		.loc 1 226 5 view .LVU187
 226:Core/Src/MQTTSim800.c **** 
 749              		.loc 1 226 71 is_stmt 0 view .LVU188
 750 001c 6846     		mov	r0, sp
 751 001e FFF7FEFF 		bl	strlen
 752              	.LVL81:
 226:Core/Src/MQTTSim800.c **** 
 753              		.loc 1 226 5 view .LVU189
 754 0022 82B2     		uxth	r2, r0
 755 0024 6946     		mov	r1, sp
 756 0026 0948     		ldr	r0, .L45+4
 757 0028 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 758              	.LVL82:
 228:Core/Src/MQTTSim800.c **** 
 759              		.loc 1 228 5 is_stmt 1 view .LVU190
 760 002c 40F2DC50 		movw	r0, #1500
 761 0030 FFF7FEFF 		bl	osDelay
 762              	.LVL83:
 230:Core/Src/MQTTSim800.c **** }
 763              		.loc 1 230 5 view .LVU191
 764 0034 064A     		ldr	r2, .L45+8
 765 0036 931C     		adds	r3, r2, #2
 766 0038 0649     		ldr	r1, .L45+12
 767 003a 0748     		ldr	r0, .L45+16
 768 003c FFF7FEFF 		bl	sscanf
 769              	.LVL84:
 231:Core/Src/MQTTSim800.c **** 
 770              		.loc 1 231 1 is_stmt 0 view .LVU192
 771 0040 05B0     		add	sp, sp, #20
 772              	.LCFI10:
 773              		.cfi_def_cfa_offset 4
 774              		@ sp needed
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 21


 775 0042 5DF804FB 		ldr	pc, [sp], #4
 776              	.L46:
 777 0046 00BF     		.align	2
 778              	.L45:
 779 0048 00000000 		.word	.LANCHOR2
 780 004c 00000000 		.word	huart1
 781 0050 00000000 		.word	.LANCHOR3
 782 0054 00000000 		.word	.LC2
 783 0058 00000000 		.word	.LANCHOR4
 784              		.cfi_endproc
 785              	.LFE78:
 787              		.section	.text.clearMqttBuffer,"ax",%progbits
 788              		.align	1
 789              		.global	clearMqttBuffer
 790              		.syntax unified
 791              		.thumb
 792              		.thumb_func
 793              		.fpu softvfp
 795              	clearMqttBuffer:
 796              	.LFB81:
 324:Core/Src/MQTTSim800.c **** 
 325:Core/Src/MQTTSim800.c **** /**
 326:Core/Src/MQTTSim800.c ****  * Clear MQTT buffer.
 327:Core/Src/MQTTSim800.c ****  * @param NONE
 328:Core/Src/MQTTSim800.c ****  * @return NONE
 329:Core/Src/MQTTSim800.c ****  */
 330:Core/Src/MQTTSim800.c **** void clearMqttBuffer(void)
 331:Core/Src/MQTTSim800.c **** {
 797              		.loc 1 331 1 is_stmt 1 view -0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801 0000 08B5     		push	{r3, lr}
 802              	.LCFI11:
 803              		.cfi_def_cfa_offset 8
 804              		.cfi_offset 3, -8
 805              		.cfi_offset 14, -4
 332:Core/Src/MQTTSim800.c ****     mqtt_receive = 0;
 806              		.loc 1 332 5 view .LVU194
 807              		.loc 1 332 18 is_stmt 0 view .LVU195
 808 0002 0021     		movs	r1, #0
 809 0004 044B     		ldr	r3, .L49
 810 0006 1970     		strb	r1, [r3]
 333:Core/Src/MQTTSim800.c ****     mqtt_index = 0;
 811              		.loc 1 333 5 is_stmt 1 view .LVU196
 812              		.loc 1 333 16 is_stmt 0 view .LVU197
 813 0008 044B     		ldr	r3, .L49+4
 814 000a 1980     		strh	r1, [r3]	@ movhi
 334:Core/Src/MQTTSim800.c ****     memset(mqtt_buffer, 0, sizeof(mqtt_buffer));
 815              		.loc 1 334 5 is_stmt 1 view .LVU198
 816 000c C822     		movs	r2, #200
 817 000e 0448     		ldr	r0, .L49+8
 818 0010 FFF7FEFF 		bl	memset
 819              	.LVL85:
 335:Core/Src/MQTTSim800.c **** }
 820              		.loc 1 335 1 is_stmt 0 view .LVU199
 821 0014 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 22


 822              	.L50:
 823 0016 00BF     		.align	2
 824              	.L49:
 825 0018 00000000 		.word	.LANCHOR5
 826 001c 00000000 		.word	.LANCHOR6
 827 0020 00000000 		.word	.LANCHOR4
 828              		.cfi_endproc
 829              	.LFE81:
 831              		.section	.rodata.getGPS.str1.4,"aMS",%progbits,1
 832              		.align	2
 833              	.LC4:
 834 0000 2B43474E 		.ascii	"+CGNSINF: %[^,],%[^,],%[^,],%[^,],%[^,],%*[^,],%*[^"
 834      53494E46 
 834      3A20255B 
 834      5E2C5D2C 
 834      255B5E2C 
 835 0033 2C5D2C25 		.ascii	",],%*[^,],%d,,%*[^,],%*[^,],%*[^,],,%d,%d,%d,,%*[^,"
 835      2A5B5E2C 
 835      5D2C2564 
 835      2C2C252A 
 835      5B5E2C5D 
 836 0066 5D2C252A 		.ascii	"],%*[^,],%*[^,]\000"
 836      5B5E2C5D 
 836      2C252A5B 
 836      5E2C5D00 
 837              		.section	.text.getGPS,"ax",%progbits
 838              		.align	1
 839              		.global	getGPS
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu softvfp
 845              	getGPS:
 846              	.LFB76:
 158:Core/Src/MQTTSim800.c ****     // SIM800_SendCommand("AT+CGNSINF\r\n", "", 1000);
 847              		.loc 1 158 1 is_stmt 1 view -0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 16
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851 0000 10B5     		push	{r4, lr}
 852              	.LCFI12:
 853              		.cfi_def_cfa_offset 8
 854              		.cfi_offset 4, -8
 855              		.cfi_offset 14, -4
 856 0002 8CB0     		sub	sp, sp, #48
 857              	.LCFI13:
 858              		.cfi_def_cfa_offset 56
 160:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 859              		.loc 1 160 5 view .LVU201
 160:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 860              		.loc 1 160 10 is_stmt 0 view .LVU202
 861 0004 0DF1200C 		add	ip, sp, #32
 862 0008 254B     		ldr	r3, .L55
 863 000a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 864 000c ACE80700 		stmia	ip!, {r0, r1, r2}
 865 0010 8CF80030 		strb	r3, [ip]
 866 0014 0023     		movs	r3, #0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 23


 867 0016 ADF82D30 		strh	r3, [sp, #45]	@ unaligned
 161:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)cmd, (uint16_t)strlen(cmd));
 868              		.loc 1 161 5 is_stmt 1 view .LVU203
 869 001a FFF7FEFF 		bl	clearRxBuffer
 870              	.LVL86:
 162:Core/Src/MQTTSim800.c **** 
 871              		.loc 1 162 5 view .LVU204
 162:Core/Src/MQTTSim800.c **** 
 872              		.loc 1 162 71 is_stmt 0 view .LVU205
 873 001e 08A8     		add	r0, sp, #32
 874 0020 FFF7FEFF 		bl	strlen
 875              	.LVL87:
 162:Core/Src/MQTTSim800.c **** 
 876              		.loc 1 162 5 view .LVU206
 877 0024 82B2     		uxth	r2, r0
 878 0026 08A9     		add	r1, sp, #32
 879 0028 1E48     		ldr	r0, .L55+4
 880 002a FFF7FEFF 		bl	HAL_UART_Transmit_IT
 881              	.LVL88:
 164:Core/Src/MQTTSim800.c **** 
 882              		.loc 1 164 5 is_stmt 1 view .LVU207
 883 002e 4FF47A70 		mov	r0, #1000
 884 0032 FFF7FEFF 		bl	osDelay
 885              	.LVL89:
 166:Core/Src/MQTTSim800.c ****         &myGPS.GPS_Status, &myGPS.Fix_Status, myGPS.UTC_Time, myGPS.cLat, myGPS.cLon, \
 886              		.loc 1 166 5 view .LVU208
 887 0036 1C4B     		ldr	r3, .L55+8
 888 0038 5C1E     		subs	r4, r3, #1
 889 003a 03F13E02 		add	r2, r3, #62
 890 003e 0692     		str	r2, [sp, #24]
 891 0040 03F13D02 		add	r2, r3, #61
 892 0044 0592     		str	r2, [sp, #20]
 893 0046 03F13C02 		add	r2, r3, #60
 894 004a 0492     		str	r2, [sp, #16]
 895 004c 03F13B02 		add	r2, r3, #59
 896 0050 0392     		str	r2, [sp, #12]
 897 0052 03F12B02 		add	r2, r3, #43
 898 0056 0292     		str	r2, [sp, #8]
 899 0058 03F11D02 		add	r2, r3, #29
 900 005c 0192     		str	r2, [sp, #4]
 901 005e 5A1C     		adds	r2, r3, #1
 902 0060 0092     		str	r2, [sp]
 903 0062 2246     		mov	r2, r4
 904 0064 1149     		ldr	r1, .L55+12
 905 0066 1248     		ldr	r0, .L55+16
 906 0068 FFF7FEFF 		bl	sscanf
 907              	.LVL90:
 170:Core/Src/MQTTSim800.c ****     {
 908              		.loc 1 170 5 view .LVU209
 170:Core/Src/MQTTSim800.c ****     {
 909              		.loc 1 170 14 is_stmt 0 view .LVU210
 910 006c 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 170:Core/Src/MQTTSim800.c ****     {
 911              		.loc 1 170 8 view .LVU211
 912 006e 012B     		cmp	r3, #1
 913 0070 06D0     		beq	.L54
 914              	.L52:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 24


 176:Core/Src/MQTTSim800.c **** 
 915              		.loc 1 176 5 is_stmt 1 view .LVU212
 916 0072 1048     		ldr	r0, .L55+20
 917 0074 FFF7FEFF 		bl	GPS_Time_Parse
 918              	.LVL91:
 178:Core/Src/MQTTSim800.c ****     // clearRxBuffer();
 919              		.loc 1 178 5 view .LVU213
 920 0078 FFF7FEFF 		bl	clearMqttBuffer
 921              	.LVL92:
 181:Core/Src/MQTTSim800.c **** 
 922              		.loc 1 181 1 is_stmt 0 view .LVU214
 923 007c 0CB0     		add	sp, sp, #48
 924              	.LCFI14:
 925              		.cfi_remember_state
 926              		.cfi_def_cfa_offset 8
 927              		@ sp needed
 928 007e 10BD     		pop	{r4, pc}
 929              	.L54:
 930              	.LCFI15:
 931              		.cfi_restore_state
 172:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 932              		.loc 1 172 9 is_stmt 1 view .LVU215
 172:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 933              		.loc 1 172 26 is_stmt 0 view .LVU216
 934 0080 1E34     		adds	r4, r4, #30
 935 0082 0621     		movs	r1, #6
 936 0084 2046     		mov	r0, r4
 937 0086 FFF7FEFF 		bl	str2float
 938              	.LVL93:
 172:Core/Src/MQTTSim800.c ****         myGPS.Longitude = str2float(myGPS.cLon, 6);
 939              		.loc 1 172 24 view .LVU217
 940 008a C4F80A00 		str	r0, [r4, #10]	@ float
 173:Core/Src/MQTTSim800.c ****     }
 941              		.loc 1 173 9 is_stmt 1 view .LVU218
 173:Core/Src/MQTTSim800.c ****     }
 942              		.loc 1 173 27 is_stmt 0 view .LVU219
 943 008e 0621     		movs	r1, #6
 944 0090 04F10E00 		add	r0, r4, #14
 945 0094 FFF7FEFF 		bl	str2float
 946              	.LVL94:
 173:Core/Src/MQTTSim800.c ****     }
 947              		.loc 1 173 25 view .LVU220
 948 0098 C4F81A00 		str	r0, [r4, #26]	@ float
 949 009c E9E7     		b	.L52
 950              	.L56:
 951 009e 00BF     		.align	2
 952              	.L55:
 953 00a0 10000000 		.word	.LANCHOR2+16
 954 00a4 00000000 		.word	huart1
 955 00a8 01000000 		.word	myGPS+1
 956 00ac 00000000 		.word	.LC4
 957 00b0 00000000 		.word	.LANCHOR4
 958 00b4 02000000 		.word	myGPS+2
 959              		.cfi_endproc
 960              	.LFE76:
 962              		.section	.text.SIM800_SendCommand,"ax",%progbits
 963              		.align	1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 25


 964              		.global	SIM800_SendCommand
 965              		.syntax unified
 966              		.thumb
 967              		.thumb_func
 968              		.fpu softvfp
 970              	SIM800_SendCommand:
 971              	.LVL95:
 972              	.LFB82:
 336:Core/Src/MQTTSim800.c **** 
 337:Core/Src/MQTTSim800.c **** /**
 338:Core/Src/MQTTSim800.c ****  * Send AT command to SIM800 over UART.
 339:Core/Src/MQTTSim800.c ****  * @param command the command to be used the send AT command
 340:Core/Src/MQTTSim800.c ****  * @param reply to be used to set the correct answer to the command
 341:Core/Src/MQTTSim800.c ****  * @param delay to be used to the set pause to the reply
 342:Core/Src/MQTTSim800.c ****  * @return error, 0 is OK
 343:Core/Src/MQTTSim800.c ****  */
 344:Core/Src/MQTTSim800.c **** int SIM800_SendCommand(char *command, char *reply, uint16_t delay)
 345:Core/Src/MQTTSim800.c **** {
 973              		.loc 1 345 1 is_stmt 1 view -0
 974              		.cfi_startproc
 975              		@ args = 0, pretend = 0, frame = 0
 976              		@ frame_needed = 0, uses_anonymous_args = 0
 977              		.loc 1 345 1 is_stmt 0 view .LVU222
 978 0000 70B5     		push	{r4, r5, r6, lr}
 979              	.LCFI16:
 980              		.cfi_def_cfa_offset 16
 981              		.cfi_offset 4, -16
 982              		.cfi_offset 5, -12
 983              		.cfi_offset 6, -8
 984              		.cfi_offset 14, -4
 985 0002 0646     		mov	r6, r0
 986 0004 0C46     		mov	r4, r1
 987 0006 1546     		mov	r5, r2
 346:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)command, (uint16_t)strlen(command));
 988              		.loc 1 346 5 is_stmt 1 view .LVU223
 989              		.loc 1 346 75 is_stmt 0 view .LVU224
 990 0008 FFF7FEFF 		bl	strlen
 991              	.LVL96:
 992              		.loc 1 346 5 view .LVU225
 993 000c 82B2     		uxth	r2, r0
 994 000e 3146     		mov	r1, r6
 995 0010 0948     		ldr	r0, .L61
 996 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 997              	.LVL97:
 347:Core/Src/MQTTSim800.c **** 
 348:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 349:Core/Src/MQTTSim800.c ****     osDelay(delay);
 998              		.loc 1 349 5 is_stmt 1 view .LVU226
 999 0016 2846     		mov	r0, r5
 1000 0018 FFF7FEFF 		bl	osDelay
 1001              	.LVL98:
 350:Core/Src/MQTTSim800.c **** #else
 351:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 352:Core/Src/MQTTSim800.c **** #endif
 353:Core/Src/MQTTSim800.c **** 
 354:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 1002              		.loc 1 354 5 view .LVU227
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 26


 1003              		.loc 1 354 9 is_stmt 0 view .LVU228
 1004 001c 2146     		mov	r1, r4
 1005 001e 0748     		ldr	r0, .L61+4
 1006 0020 FFF7FEFF 		bl	strstr
 1007              	.LVL99:
 1008              		.loc 1 354 8 view .LVU229
 1009 0024 18B1     		cbz	r0, .L58
 355:Core/Src/MQTTSim800.c ****     {
 356:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 1010              		.loc 1 356 9 is_stmt 1 view .LVU230
 1011 0026 FFF7FEFF 		bl	clearRxBuffer
 1012              	.LVL100:
 357:Core/Src/MQTTSim800.c ****         return 0;
 1013              		.loc 1 357 9 view .LVU231
 1014              		.loc 1 357 16 is_stmt 0 view .LVU232
 1015 002a 0020     		movs	r0, #0
 1016              	.L57:
 358:Core/Src/MQTTSim800.c ****     }
 359:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 360:Core/Src/MQTTSim800.c ****     return 1;
 361:Core/Src/MQTTSim800.c **** }
 1017              		.loc 1 361 1 view .LVU233
 1018 002c 70BD     		pop	{r4, r5, r6, pc}
 1019              	.LVL101:
 1020              	.L58:
 359:Core/Src/MQTTSim800.c ****     return 1;
 1021              		.loc 1 359 5 is_stmt 1 view .LVU234
 1022 002e FFF7FEFF 		bl	clearRxBuffer
 1023              	.LVL102:
 360:Core/Src/MQTTSim800.c **** }
 1024              		.loc 1 360 5 view .LVU235
 360:Core/Src/MQTTSim800.c **** }
 1025              		.loc 1 360 12 is_stmt 0 view .LVU236
 1026 0032 0120     		movs	r0, #1
 1027 0034 FAE7     		b	.L57
 1028              	.L62:
 1029 0036 00BF     		.align	2
 1030              	.L61:
 1031 0038 00000000 		.word	huart1
 1032 003c 00000000 		.word	.LANCHOR4
 1033              		.cfi_endproc
 1034              	.LFE82:
 1036              		.section	.text.SIM800_SendMQTT,"ax",%progbits
 1037              		.align	1
 1038              		.global	SIM800_SendMQTT
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1042              		.fpu softvfp
 1044              	SIM800_SendMQTT:
 1045              	.LVL103:
 1046              	.LFB83:
 362:Core/Src/MQTTSim800.c **** 
 363:Core/Src/MQTTSim800.c **** /**
 364:Core/Src/MQTTSim800.c ****  * @brief 
 365:Core/Src/MQTTSim800.c ****  * Send MQTT command <packet> to broker over UART
 366:Core/Src/MQTTSim800.c ****  * @param mqtt the packet
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 27


 367:Core/Src/MQTTSim800.c ****  * @param len the length of the packet
 368:Core/Src/MQTTSim800.c ****  * @param reply expected reply
 369:Core/Src/MQTTSim800.c ****  * @param delay wait for reply
 370:Core/Src/MQTTSim800.c ****  * @return int 
 371:Core/Src/MQTTSim800.c ****  */
 372:Core/Src/MQTTSim800.c **** int SIM800_SendMQTT(char* mqtt, uint8_t len, char* reply, uint16_t delay)
 373:Core/Src/MQTTSim800.c **** {
 1047              		.loc 1 373 1 is_stmt 1 view -0
 1048              		.cfi_startproc
 1049              		@ args = 0, pretend = 0, frame = 0
 1050              		@ frame_needed = 0, uses_anonymous_args = 0
 1051              		.loc 1 373 1 is_stmt 0 view .LVU238
 1052 0000 38B5     		push	{r3, r4, r5, lr}
 1053              	.LCFI17:
 1054              		.cfi_def_cfa_offset 16
 1055              		.cfi_offset 3, -16
 1056              		.cfi_offset 4, -12
 1057              		.cfi_offset 5, -8
 1058              		.cfi_offset 14, -4
 1059 0002 1446     		mov	r4, r2
 1060 0004 1D46     		mov	r5, r3
 374:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)mqtt, (uint16_t)len);
 1061              		.loc 1 374 5 is_stmt 1 view .LVU239
 1062 0006 0A46     		mov	r2, r1
 1063              	.LVL104:
 1064              		.loc 1 374 5 is_stmt 0 view .LVU240
 1065 0008 0146     		mov	r1, r0
 1066              	.LVL105:
 1067              		.loc 1 374 5 view .LVU241
 1068 000a 0948     		ldr	r0, .L67
 1069              	.LVL106:
 1070              		.loc 1 374 5 view .LVU242
 1071 000c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1072              	.LVL107:
 375:Core/Src/MQTTSim800.c **** 
 376:Core/Src/MQTTSim800.c **** #if  FREERTOS == 1
 377:Core/Src/MQTTSim800.c ****     osDelay(delay);
 1073              		.loc 1 377 5 is_stmt 1 view .LVU243
 1074 0010 2846     		mov	r0, r5
 1075 0012 FFF7FEFF 		bl	osDelay
 1076              	.LVL108:
 378:Core/Src/MQTTSim800.c **** #else
 379:Core/Src/MQTTSim800.c ****     HAL_Delay(delay);
 380:Core/Src/MQTTSim800.c **** #endif
 381:Core/Src/MQTTSim800.c **** 
 382:Core/Src/MQTTSim800.c ****     if (strstr(mqtt_buffer, reply) != NULL)
 1077              		.loc 1 382 5 view .LVU244
 1078              		.loc 1 382 9 is_stmt 0 view .LVU245
 1079 0016 2146     		mov	r1, r4
 1080 0018 0648     		ldr	r0, .L67+4
 1081 001a FFF7FEFF 		bl	strstr
 1082              	.LVL109:
 1083              		.loc 1 382 8 view .LVU246
 1084 001e 18B1     		cbz	r0, .L64
 383:Core/Src/MQTTSim800.c ****     {
 384:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 1085              		.loc 1 384 9 is_stmt 1 view .LVU247
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 28


 1086 0020 FFF7FEFF 		bl	clearRxBuffer
 1087              	.LVL110:
 385:Core/Src/MQTTSim800.c ****         return 0;
 1088              		.loc 1 385 9 view .LVU248
 1089              		.loc 1 385 16 is_stmt 0 view .LVU249
 1090 0024 0020     		movs	r0, #0
 1091              	.L63:
 386:Core/Src/MQTTSim800.c ****     }
 387:Core/Src/MQTTSim800.c ****     clearRxBuffer();
 388:Core/Src/MQTTSim800.c ****     return 1;
 389:Core/Src/MQTTSim800.c **** }
 1092              		.loc 1 389 1 view .LVU250
 1093 0026 38BD     		pop	{r3, r4, r5, pc}
 1094              	.LVL111:
 1095              	.L64:
 387:Core/Src/MQTTSim800.c ****     return 1;
 1096              		.loc 1 387 5 is_stmt 1 view .LVU251
 1097 0028 FFF7FEFF 		bl	clearRxBuffer
 1098              	.LVL112:
 388:Core/Src/MQTTSim800.c **** }
 1099              		.loc 1 388 5 view .LVU252
 388:Core/Src/MQTTSim800.c **** }
 1100              		.loc 1 388 12 is_stmt 0 view .LVU253
 1101 002c 0120     		movs	r0, #1
 1102 002e FAE7     		b	.L63
 1103              	.L68:
 1104              		.align	2
 1105              	.L67:
 1106 0030 00000000 		.word	huart1
 1107 0034 00000000 		.word	.LANCHOR4
 1108              		.cfi_endproc
 1109              	.LFE83:
 1111              		.section	.rodata.MQTT_Connect.str1.4,"aMS",%progbits,1
 1112              		.align	2
 1113              	.LC5:
 1114 0000 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\015\012\000"
 1114      49505354 
 1114      4152543D 
 1114      22544350 
 1114      222C2225 
 1115 001e 0000     		.align	2
 1116              	.LC6:
 1117 0020 4F4B0D0A 		.ascii	"OK\015\012\000"
 1117      00
 1118 0025 000000   		.align	2
 1119              	.LC7:
 1120 0028 3E00     		.ascii	">\000"
 1121 002a 0000     		.align	2
 1122              	.LC8:
 1123 002c 41542B43 		.ascii	"AT+CIPSEND\015\012\000"
 1123      49505345 
 1123      4E440D0A 
 1123      00
 1124 0039 000000   		.align	2
 1125              	.LC9:
 1126 003c 00       		.ascii	"\000"
 1127              		.section	.text.MQTT_Connect,"ax",%progbits
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 29


 1128              		.align	1
 1129              		.global	MQTT_Connect
 1130              		.syntax unified
 1131              		.thumb
 1132              		.thumb_func
 1133              		.fpu softvfp
 1135              	MQTT_Connect:
 1136              	.LFB85:
 390:Core/Src/MQTTSim800.c **** 
 391:Core/Src/MQTTSim800.c **** /**
 392:Core/Src/MQTTSim800.c ****  * initialization SIM800.
 393:Core/Src/MQTTSim800.c ****  * @param NONE
 394:Core/Src/MQTTSim800.c ****  * @return error status, 0 - OK
 395:Core/Src/MQTTSim800.c ****  */
 396:Core/Src/MQTTSim800.c **** int MQTT_Init(void)
 397:Core/Src/MQTTSim800.c **** {
 398:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 399:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 400:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 401:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 402:Core/Src/MQTTSim800.c **** 
 403:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY);
 404:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 405:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY) == 0){SIM800_Status.SIM = 1;}
 406:Core/Src/MQTTSim800.c ****     else
 407:Core/Src/MQTTSim800.c ****     {
 408:Core/Src/MQTTSim800.c ****         SIM800_Status.SIM = 0;
 409:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 410:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 411:Core/Src/MQTTSim800.c ****     }
 412:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CMGF=1\r\n", "OK\r\n", 1000);
 413:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "OK\r\n", CMD_DELAY);
 414:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 415:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 416:Core/Src/MQTTSim800.c **** 
 417:Core/Src/MQTTSim800.c ****     snprintf(str, sizeof(str), "AT+CSTT=\"%s\",\"%s\",\"%s\"\r\n", SIM800.sim.apn, SIM800.sim.apn_u
 418:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 419:Core/Src/MQTTSim800.c **** 
 420:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIICR\r\n", "OK\r\n", CMD_DELAY);
 421:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 422:Core/Src/MQTTSim800.c ****     if (error != 0)
 423:Core/Src/MQTTSim800.c ****     {   
 424:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 425:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 426:Core/Src/MQTTSim800.c ****         return error;
 427:Core/Src/MQTTSim800.c ****     }
 428:Core/Src/MQTTSim800.c ****     else
 429:Core/Src/MQTTSim800.c ****     {   
 430:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 1;
 431:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 432:Core/Src/MQTTSim800.c ****         return error;
 433:Core/Src/MQTTSim800.c ****     }
 434:Core/Src/MQTTSim800.c ****     // return 0;
 435:Core/Src/MQTTSim800.c **** }
 436:Core/Src/MQTTSim800.c **** 
 437:Core/Src/MQTTSim800.c **** /**
 438:Core/Src/MQTTSim800.c ****  * Connect to MQTT server in Internet over TCP.
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 30


 439:Core/Src/MQTTSim800.c ****  * @param NONE
 440:Core/Src/MQTTSim800.c ****  * @return NONE
 441:Core/Src/MQTTSim800.c ****  */
 442:Core/Src/MQTTSim800.c **** void MQTT_Connect(void)
 443:Core/Src/MQTTSim800.c **** {
 1137              		.loc 1 443 1 is_stmt 1 view -0
 1138              		.cfi_startproc
 1139              		@ args = 0, pretend = 0, frame = 352
 1140              		@ frame_needed = 0, uses_anonymous_args = 0
 1141 0000 70B5     		push	{r4, r5, r6, lr}
 1142              	.LCFI18:
 1143              		.cfi_def_cfa_offset 16
 1144              		.cfi_offset 4, -16
 1145              		.cfi_offset 5, -12
 1146              		.cfi_offset 6, -8
 1147              		.cfi_offset 14, -4
 1148 0002 DAB0     		sub	sp, sp, #360
 1149              	.LCFI19:
 1150              		.cfi_def_cfa_offset 376
 444:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 0;
 1151              		.loc 1 444 5 view .LVU255
 1152              		.loc 1 444 33 is_stmt 0 view .LVU256
 1153 0004 354D     		ldr	r5, .L77
 1154 0006 0024     		movs	r4, #0
 1155 0008 85F82440 		strb	r4, [r5, #36]
 445:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 1156              		.loc 1 445 5 is_stmt 1 view .LVU257
 1157              		.loc 1 445 31 is_stmt 0 view .LVU258
 1158 000c AC74     		strb	r4, [r5, #18]
 446:Core/Src/MQTTSim800.c ****     char str1[128] = {0};
 1159              		.loc 1 446 5 is_stmt 1 view .LVU259
 1160              		.loc 1 446 10 is_stmt 0 view .LVU260
 1161 000e 3A94     		str	r4, [sp, #232]
 1162 0010 7C26     		movs	r6, #124
 1163 0012 3246     		mov	r2, r6
 1164 0014 2146     		mov	r1, r4
 1165 0016 3BA8     		add	r0, sp, #236
 1166 0018 FFF7FEFF 		bl	memset
 1167              	.LVL113:
 447:Core/Src/MQTTSim800.c ****     unsigned char buf[128] = {0};
 1168              		.loc 1 447 5 is_stmt 1 view .LVU261
 1169              		.loc 1 447 19 is_stmt 0 view .LVU262
 1170 001c 1A94     		str	r4, [sp, #104]
 1171 001e 3246     		mov	r2, r6
 1172 0020 2146     		mov	r1, r4
 1173 0022 1BA8     		add	r0, sp, #108
 1174 0024 FFF7FEFF 		bl	memset
 1175              	.LVL114:
 448:Core/Src/MQTTSim800.c ****     snprintf(str1, sizeof(str1), "AT+CIPSTART=\"TCP\",\"%s\",\"%d\"\r\n", SIM800.mqttServer.host, S
 1176              		.loc 1 448 5 is_stmt 1 view .LVU263
 1177              		.loc 1 448 116 is_stmt 0 view .LVU264
 1178 0028 2B8A     		ldrh	r3, [r5, #16]
 1179              		.loc 1 448 5 view .LVU265
 1180 002a 0093     		str	r3, [sp]
 1181 002c EB68     		ldr	r3, [r5, #12]
 1182 002e 2C4A     		ldr	r2, .L77+4
 1183 0030 8021     		movs	r1, #128
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 31


 1184 0032 3AA8     		add	r0, sp, #232
 1185 0034 FFF7FEFF 		bl	snprintf
 1186              	.LVL115:
 449:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand(str1, "OK\r\n", CMD_DELAY) == 0)
 1187              		.loc 1 449 5 is_stmt 1 view .LVU266
 1188              		.loc 1 449 9 is_stmt 0 view .LVU267
 1189 0038 4FF4FA62 		mov	r2, #2000
 1190 003c 2949     		ldr	r1, .L77+8
 1191 003e 3AA8     		add	r0, sp, #232
 1192 0040 FFF7FEFF 		bl	SIM800_SendCommand
 1193              	.LVL116:
 1194              		.loc 1 449 8 view .LVU268
 1195 0044 08B9     		cbnz	r0, .L70
 450:Core/Src/MQTTSim800.c ****     {
 451:Core/Src/MQTTSim800.c ****         SIM800.mqttServer.connect = 1;
 1196              		.loc 1 451 9 is_stmt 1 view .LVU269
 1197              		.loc 1 451 35 is_stmt 0 view .LVU270
 1198 0046 0122     		movs	r2, #1
 1199 0048 AA74     		strb	r2, [r5, #18]
 1200              	.L70:
 452:Core/Src/MQTTSim800.c ****     }
 453:Core/Src/MQTTSim800.c ****     if (SIM800.mqttServer.connect == 1) {SIM800_Status.MQTT = 1;}
 1201              		.loc 1 453 5 is_stmt 1 view .LVU271
 1202              		.loc 1 453 26 is_stmt 0 view .LVU272
 1203 004a 244B     		ldr	r3, .L77
 1204 004c 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 1205              		.loc 1 453 8 view .LVU273
 1206 004e 012B     		cmp	r3, #1
 1207 0050 0BD0     		beq	.L75
 454:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1208              		.loc 1 454 14 is_stmt 1 view .LVU274
 1209              		.loc 1 454 33 is_stmt 0 view .LVU275
 1210 0052 254B     		ldr	r3, .L77+12
 1211 0054 0022     		movs	r2, #0
 1212 0056 9A70     		strb	r2, [r3, #2]
 1213              	.L72:
 455:Core/Src/MQTTSim800.c **** 
 456:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 457:Core/Src/MQTTSim800.c ****     osDelay(200);
 1214              		.loc 1 457 5 is_stmt 1 view .LVU276
 1215 0058 C820     		movs	r0, #200
 1216 005a FFF7FEFF 		bl	osDelay
 1217              	.LVL117:
 458:Core/Src/MQTTSim800.c **** #else
 459:Core/Src/MQTTSim800.c ****     HAL_Delay(5000);
 460:Core/Src/MQTTSim800.c **** #endif
 461:Core/Src/MQTTSim800.c **** 
 462:Core/Src/MQTTSim800.c ****     if (SIM800_Status.MQTT == 1)
 1218              		.loc 1 462 5 view .LVU277
 1219              		.loc 1 462 22 is_stmt 0 view .LVU278
 1220 005e 224B     		ldr	r3, .L77+12
 1221 0060 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1222              		.loc 1 462 8 view .LVU279
 1223 0062 012B     		cmp	r3, #1
 1224 0064 05D0     		beq	.L76
 1225              	.L69:
 463:Core/Src/MQTTSim800.c ****     {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 32


 464:Core/Src/MQTTSim800.c ****         char temp[1]= {26};
 465:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 466:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 467:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 468:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 469:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 470:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 471:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 472:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 473:Core/Src/MQTTSim800.c ****         osDelay(200);
 474:Core/Src/MQTTSim800.c ****         SIM800_SendMQTT((char*)buf, mqtt_len, "", CMD_DELAY);
 475:Core/Src/MQTTSim800.c ****         osDelay(200);
 476:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 477:Core/Src/MQTTSim800.c **** 
 478:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 479:Core/Src/MQTTSim800.c ****         osDelay(3000);
 480:Core/Src/MQTTSim800.c **** #else
 481:Core/Src/MQTTSim800.c ****         HAL_Delay(3000);
 482:Core/Src/MQTTSim800.c **** #endif
 483:Core/Src/MQTTSim800.c ****     }
 484:Core/Src/MQTTSim800.c **** }
 1226              		.loc 1 484 1 view .LVU280
 1227 0066 5AB0     		add	sp, sp, #360
 1228              	.LCFI20:
 1229              		.cfi_remember_state
 1230              		.cfi_def_cfa_offset 16
 1231              		@ sp needed
 1232 0068 70BD     		pop	{r4, r5, r6, pc}
 1233              	.L75:
 1234              	.LCFI21:
 1235              		.cfi_restore_state
 453:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1236              		.loc 1 453 42 is_stmt 1 discriminator 1 view .LVU281
 453:Core/Src/MQTTSim800.c ****     else    {SIM800_Status.MQTT = 0;}
 1237              		.loc 1 453 61 is_stmt 0 discriminator 1 view .LVU282
 1238 006a 1F4B     		ldr	r3, .L77+12
 1239 006c 0122     		movs	r2, #1
 1240 006e 9A70     		strb	r2, [r3, #2]
 1241 0070 F2E7     		b	.L72
 1242              	.L76:
 1243              	.LBB5:
 464:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 1244              		.loc 1 464 9 is_stmt 1 view .LVU283
 464:Core/Src/MQTTSim800.c ****         MQTTPacket_connectData datas = MQTTPacket_connectData_initializer;
 1245              		.loc 1 464 14 is_stmt 0 view .LVU284
 1246 0072 1A23     		movs	r3, #26
 1247 0074 8DF80C30 		strb	r3, [sp, #12]
 465:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 1248              		.loc 1 465 9 is_stmt 1 view .LVU285
 465:Core/Src/MQTTSim800.c ****         datas.username.cstring = SIM800.mqttClient.username;
 1249              		.loc 1 465 32 is_stmt 0 view .LVU286
 1250 0078 5822     		movs	r2, #88
 1251 007a 1C49     		ldr	r1, .L77+16
 1252 007c 04A8     		add	r0, sp, #16
 1253 007e FFF7FEFF 		bl	memcpy
 1254              	.LVL118:
 466:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 33


 1255              		.loc 1 466 9 is_stmt 1 view .LVU287
 466:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 1256              		.loc 1 466 51 is_stmt 0 view .LVU288
 1257 0082 164B     		ldr	r3, .L77
 1258 0084 5A69     		ldr	r2, [r3, #20]
 466:Core/Src/MQTTSim800.c ****         datas.password.cstring = SIM800.mqttClient.pass;
 1259              		.loc 1 466 32 view .LVU289
 1260 0086 1492     		str	r2, [sp, #80]
 467:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1261              		.loc 1 467 9 is_stmt 1 view .LVU290
 467:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1262              		.loc 1 467 51 is_stmt 0 view .LVU291
 1263 0088 9A69     		ldr	r2, [r3, #24]
 467:Core/Src/MQTTSim800.c ****         datas.clientID.cstring = SIM800.mqttClient.clientID;
 1264              		.loc 1 467 32 view .LVU292
 1265 008a 1792     		str	r2, [sp, #92]
 468:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1266              		.loc 1 468 9 is_stmt 1 view .LVU293
 468:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1267              		.loc 1 468 51 is_stmt 0 view .LVU294
 1268 008c DA69     		ldr	r2, [r3, #28]
 468:Core/Src/MQTTSim800.c ****         datas.keepAliveInterval = SIM800.mqttClient.keepAliveInterval;
 1269              		.loc 1 468 32 view .LVU295
 1270 008e 0792     		str	r2, [sp, #28]
 469:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1271              		.loc 1 469 9 is_stmt 1 view .LVU296
 469:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1272              		.loc 1 469 52 is_stmt 0 view .LVU297
 1273 0090 1B8C     		ldrh	r3, [r3, #32]
 469:Core/Src/MQTTSim800.c ****         datas.cleansession = 1;
 1274              		.loc 1 469 33 view .LVU298
 1275 0092 ADF82830 		strh	r3, [sp, #40]	@ movhi
 470:Core/Src/MQTTSim800.c ****         int mqtt_len = MQTTSerialize_connect(buf, sizeof(buf), &datas);
 1276              		.loc 1 470 9 is_stmt 1 view .LVU299
 471:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1277              		.loc 1 471 9 view .LVU300
 471:Core/Src/MQTTSim800.c ****         SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 1278              		.loc 1 471 24 is_stmt 0 view .LVU301
 1279 0096 04AA     		add	r2, sp, #16
 1280 0098 8021     		movs	r1, #128
 1281 009a 1AA8     		add	r0, sp, #104
 1282 009c FFF7FEFF 		bl	MQTTSerialize_connect
 1283              	.LVL119:
 1284 00a0 0446     		mov	r4, r0
 1285              	.LVL120:
 472:Core/Src/MQTTSim800.c ****         osDelay(200);
 1286              		.loc 1 472 9 is_stmt 1 view .LVU302
 1287 00a2 4FF4FA62 		mov	r2, #2000
 1288 00a6 1249     		ldr	r1, .L77+20
 1289 00a8 1248     		ldr	r0, .L77+24
 1290              	.LVL121:
 472:Core/Src/MQTTSim800.c ****         osDelay(200);
 1291              		.loc 1 472 9 is_stmt 0 view .LVU303
 1292 00aa FFF7FEFF 		bl	SIM800_SendCommand
 1293              	.LVL122:
 473:Core/Src/MQTTSim800.c ****         SIM800_SendMQTT((char*)buf, mqtt_len, "", CMD_DELAY);
 1294              		.loc 1 473 9 is_stmt 1 view .LVU304
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 34


 1295 00ae C820     		movs	r0, #200
 1296 00b0 FFF7FEFF 		bl	osDelay
 1297              	.LVL123:
 474:Core/Src/MQTTSim800.c ****         osDelay(200);
 1298              		.loc 1 474 9 view .LVU305
 1299 00b4 4FF4FA63 		mov	r3, #2000
 1300 00b8 0F4A     		ldr	r2, .L77+28
 1301 00ba E1B2     		uxtb	r1, r4
 1302 00bc 1AA8     		add	r0, sp, #104
 1303 00be FFF7FEFF 		bl	SIM800_SendMQTT
 1304              	.LVL124:
 475:Core/Src/MQTTSim800.c ****         HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 1305              		.loc 1 475 9 view .LVU306
 1306 00c2 C820     		movs	r0, #200
 1307 00c4 FFF7FEFF 		bl	osDelay
 1308              	.LVL125:
 476:Core/Src/MQTTSim800.c **** 
 1309              		.loc 1 476 9 view .LVU307
 1310 00c8 0122     		movs	r2, #1
 1311 00ca 03A9     		add	r1, sp, #12
 1312 00cc 0B48     		ldr	r0, .L77+32
 1313 00ce FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1314              	.LVL126:
 479:Core/Src/MQTTSim800.c **** #else
 1315              		.loc 1 479 9 view .LVU308
 1316 00d2 40F6B830 		movw	r0, #3000
 1317 00d6 FFF7FEFF 		bl	osDelay
 1318              	.LVL127:
 1319              	.LBE5:
 1320              		.loc 1 484 1 is_stmt 0 view .LVU309
 1321 00da C4E7     		b	.L69
 1322              	.L78:
 1323              		.align	2
 1324              	.L77:
 1325 00dc 00000000 		.word	SIM800
 1326 00e0 00000000 		.word	.LC5
 1327 00e4 20000000 		.word	.LC6
 1328 00e8 00000000 		.word	.LANCHOR7
 1329 00ec 20000000 		.word	.LANCHOR2+32
 1330 00f0 28000000 		.word	.LC7
 1331 00f4 2C000000 		.word	.LC8
 1332 00f8 3C000000 		.word	.LC9
 1333 00fc 00000000 		.word	huart1
 1334              		.cfi_endproc
 1335              	.LFE85:
 1337              		.section	.rodata.MQTT_Init.str1.4,"aMS",%progbits,1
 1338              		.align	2
 1339              	.LC10:
 1340 0000 41540D0A 		.ascii	"AT\015\012\000"
 1340      00
 1341 0005 000000   		.align	2
 1342              	.LC11:
 1343 0008 41544530 		.ascii	"ATE0\015\012\000"
 1343      0D0A00
 1344 000f 00       		.align	2
 1345              	.LC12:
 1346 0010 41542B43 		.ascii	"AT+CMGF=1\015\012\000"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 35


 1346      4D47463D 
 1346      310D0A00 
 1347              		.align	2
 1348              	.LC13:
 1349 001c 41542B43 		.ascii	"AT+CIPSHUT\015\012\000"
 1349      49505348 
 1349      55540D0A 
 1349      00
 1350 0029 000000   		.align	2
 1351              	.LC14:
 1352 002c 41542B43 		.ascii	"AT+CGATT=1\015\012\000"
 1352      47415454 
 1352      3D310D0A 
 1352      00
 1353 0039 000000   		.align	2
 1354              	.LC15:
 1355 003c 41542B43 		.ascii	"AT+CIPMODE=0\015\012\000"
 1355      49504D4F 
 1355      44453D30 
 1355      0D0A00
 1356 004b 00       		.align	2
 1357              	.LC16:
 1358 004c 41542B43 		.ascii	"AT+CSTT=\"%s\",\"%s\",\"%s\"\015\012\000"
 1358      5354543D 
 1358      22257322 
 1358      2C222573 
 1358      222C2225 
 1359 0065 000000   		.align	2
 1360              	.LC17:
 1361 0068 41542B43 		.ascii	"AT+CIICR\015\012\000"
 1361      49494352 
 1361      0D0A00
 1362 0073 00       		.align	2
 1363              	.LC18:
 1364 0074 41542B43 		.ascii	"AT+CIFSR\015\012\000"
 1364      49465352 
 1364      0D0A00
 1365              		.section	.text.MQTT_Init,"ax",%progbits
 1366              		.align	1
 1367              		.global	MQTT_Init
 1368              		.syntax unified
 1369              		.thumb
 1370              		.thumb_func
 1371              		.fpu softvfp
 1373              	MQTT_Init:
 1374              	.LFB84:
 397:Core/Src/MQTTSim800.c ****     SIM800.mqttServer.connect = 0;
 1375              		.loc 1 397 1 is_stmt 1 view -0
 1376              		.cfi_startproc
 1377              		@ args = 0, pretend = 0, frame = 40
 1378              		@ frame_needed = 0, uses_anonymous_args = 0
 1379 0000 30B5     		push	{r4, r5, lr}
 1380              	.LCFI22:
 1381              		.cfi_def_cfa_offset 12
 1382              		.cfi_offset 4, -12
 1383              		.cfi_offset 5, -8
 1384              		.cfi_offset 14, -4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 36


 1385 0002 8DB0     		sub	sp, sp, #52
 1386              	.LCFI23:
 1387              		.cfi_def_cfa_offset 64
 398:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1388              		.loc 1 398 5 view .LVU311
 398:Core/Src/MQTTSim800.c ****     volatile int error = 0;
 1389              		.loc 1 398 31 is_stmt 0 view .LVU312
 1390 0004 0023     		movs	r3, #0
 1391 0006 3F4A     		ldr	r2, .L85
 1392 0008 9374     		strb	r3, [r2, #18]
 399:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1393              		.loc 1 399 5 is_stmt 1 view .LVU313
 399:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1394              		.loc 1 399 18 is_stmt 0 view .LVU314
 1395 000a 0B93     		str	r3, [sp, #44]
 400:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1396              		.loc 1 400 5 is_stmt 1 view .LVU315
 400:Core/Src/MQTTSim800.c ****     // HAL_UART_Receive_IT(UART_SIM800, &rx_data, 1);
 1397              		.loc 1 400 10 is_stmt 0 view .LVU316
 1398 000c 0393     		str	r3, [sp, #12]
 1399 000e 0493     		str	r3, [sp, #16]
 1400 0010 0593     		str	r3, [sp, #20]
 1401 0012 0693     		str	r3, [sp, #24]
 1402 0014 0793     		str	r3, [sp, #28]
 1403 0016 0893     		str	r3, [sp, #32]
 1404 0018 0993     		str	r3, [sp, #36]
 1405 001a 0A93     		str	r3, [sp, #40]
 403:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("ATE0\r\n", "OK\r\n", CMD_DELAY);
 1406              		.loc 1 403 5 is_stmt 1 view .LVU317
 1407 001c 3A4C     		ldr	r4, .L85+4
 1408 001e 3B4D     		ldr	r5, .L85+8
 1409 0020 4FF4FA62 		mov	r2, #2000
 1410 0024 2146     		mov	r1, r4
 1411 0026 2846     		mov	r0, r5
 1412 0028 FFF7FEFF 		bl	SIM800_SendCommand
 1413              	.LVL128:
 404:Core/Src/MQTTSim800.c ****     if (SIM800_SendCommand("AT\r\n", "OK\r\n", CMD_DELAY) == 0){SIM800_Status.SIM = 1;}
 1414              		.loc 1 404 5 view .LVU318
 1415 002c 4FF4FA62 		mov	r2, #2000
 1416 0030 2146     		mov	r1, r4
 1417 0032 3748     		ldr	r0, .L85+12
 1418 0034 FFF7FEFF 		bl	SIM800_SendCommand
 1419              	.LVL129:
 405:Core/Src/MQTTSim800.c ****     else
 1420              		.loc 1 405 5 view .LVU319
 405:Core/Src/MQTTSim800.c ****     else
 1421              		.loc 1 405 9 is_stmt 0 view .LVU320
 1422 0038 4FF4FA62 		mov	r2, #2000
 1423 003c 2146     		mov	r1, r4
 1424 003e 2846     		mov	r0, r5
 1425 0040 FFF7FEFF 		bl	SIM800_SendCommand
 1426              	.LVL130:
 405:Core/Src/MQTTSim800.c ****     else
 1427              		.loc 1 405 8 view .LVU321
 1428 0044 0028     		cmp	r0, #0
 1429 0046 50D1     		bne	.L80
 405:Core/Src/MQTTSim800.c ****     else
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 37


 1430              		.loc 1 405 65 is_stmt 1 discriminator 1 view .LVU322
 405:Core/Src/MQTTSim800.c ****     else
 1431              		.loc 1 405 83 is_stmt 0 discriminator 1 view .LVU323
 1432 0048 324B     		ldr	r3, .L85+16
 1433 004a 0122     		movs	r2, #1
 1434 004c 1A70     		strb	r2, [r3]
 1435              	.L81:
 412:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPSHUT\r\n", "OK\r\n", CMD_DELAY);
 1436              		.loc 1 412 5 is_stmt 1 view .LVU324
 1437 004e 2E4C     		ldr	r4, .L85+4
 1438 0050 4FF47A72 		mov	r2, #1000
 1439 0054 2146     		mov	r1, r4
 1440 0056 3048     		ldr	r0, .L85+20
 1441 0058 FFF7FEFF 		bl	SIM800_SendCommand
 1442              	.LVL131:
 413:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1443              		.loc 1 413 5 view .LVU325
 413:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1444              		.loc 1 413 14 is_stmt 0 view .LVU326
 1445 005c 4FF4FA62 		mov	r2, #2000
 1446 0060 2146     		mov	r1, r4
 1447 0062 2E48     		ldr	r0, .L85+24
 1448 0064 FFF7FEFF 		bl	SIM800_SendCommand
 1449              	.LVL132:
 413:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CGATT=1\r\n", "OK\r\n", CMD_DELAY);
 1450              		.loc 1 413 11 view .LVU327
 1451 0068 0B9B     		ldr	r3, [sp, #44]
 1452 006a 0344     		add	r3, r3, r0
 1453 006c 0B93     		str	r3, [sp, #44]
 414:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1454              		.loc 1 414 5 is_stmt 1 view .LVU328
 414:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1455              		.loc 1 414 14 is_stmt 0 view .LVU329
 1456 006e 4FF4FA62 		mov	r2, #2000
 1457 0072 2146     		mov	r1, r4
 1458 0074 2A48     		ldr	r0, .L85+28
 1459 0076 FFF7FEFF 		bl	SIM800_SendCommand
 1460              	.LVL133:
 414:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand("AT+CIPMODE=0\r\n", "OK\r\n", CMD_DELAY);
 1461              		.loc 1 414 11 view .LVU330
 1462 007a 0B9B     		ldr	r3, [sp, #44]
 1463 007c 0344     		add	r3, r3, r0
 1464 007e 0B93     		str	r3, [sp, #44]
 415:Core/Src/MQTTSim800.c **** 
 1465              		.loc 1 415 5 is_stmt 1 view .LVU331
 415:Core/Src/MQTTSim800.c **** 
 1466              		.loc 1 415 14 is_stmt 0 view .LVU332
 1467 0080 4FF4FA62 		mov	r2, #2000
 1468 0084 2146     		mov	r1, r4
 1469 0086 2748     		ldr	r0, .L85+32
 1470 0088 FFF7FEFF 		bl	SIM800_SendCommand
 1471              	.LVL134:
 415:Core/Src/MQTTSim800.c **** 
 1472              		.loc 1 415 11 view .LVU333
 1473 008c 0B9B     		ldr	r3, [sp, #44]
 1474 008e 0344     		add	r3, r3, r0
 1475 0090 0B93     		str	r3, [sp, #44]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 38


 417:Core/Src/MQTTSim800.c ****     error += SIM800_SendCommand(str, "OK\r\n", CMD_DELAY);
 1476              		.loc 1 417 5 is_stmt 1 view .LVU334
 1477 0092 1C4B     		ldr	r3, .L85
 1478 0094 9A68     		ldr	r2, [r3, #8]
 1479 0096 0192     		str	r2, [sp, #4]
 1480 0098 5A68     		ldr	r2, [r3, #4]
 1481 009a 0092     		str	r2, [sp]
 1482 009c 1B68     		ldr	r3, [r3]
 1483 009e 224A     		ldr	r2, .L85+36
 1484 00a0 2021     		movs	r1, #32
 1485 00a2 03A8     		add	r0, sp, #12
 1486 00a4 FFF7FEFF 		bl	snprintf
 1487              	.LVL135:
 418:Core/Src/MQTTSim800.c **** 
 1488              		.loc 1 418 5 view .LVU335
 418:Core/Src/MQTTSim800.c **** 
 1489              		.loc 1 418 14 is_stmt 0 view .LVU336
 1490 00a8 4FF4FA62 		mov	r2, #2000
 1491 00ac 2146     		mov	r1, r4
 1492 00ae 03A8     		add	r0, sp, #12
 1493 00b0 FFF7FEFF 		bl	SIM800_SendCommand
 1494              	.LVL136:
 418:Core/Src/MQTTSim800.c **** 
 1495              		.loc 1 418 11 view .LVU337
 1496 00b4 0B9B     		ldr	r3, [sp, #44]
 1497 00b6 0344     		add	r3, r3, r0
 1498 00b8 0B93     		str	r3, [sp, #44]
 420:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1499              		.loc 1 420 5 is_stmt 1 view .LVU338
 420:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1500              		.loc 1 420 14 is_stmt 0 view .LVU339
 1501 00ba 4FF4FA62 		mov	r2, #2000
 1502 00be 2146     		mov	r1, r4
 1503 00c0 1A48     		ldr	r0, .L85+40
 1504 00c2 FFF7FEFF 		bl	SIM800_SendCommand
 1505              	.LVL137:
 420:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIFSR\r\n", "", CMD_DELAY);
 1506              		.loc 1 420 11 view .LVU340
 1507 00c6 0B9B     		ldr	r3, [sp, #44]
 1508 00c8 0344     		add	r3, r3, r0
 1509 00ca 0B93     		str	r3, [sp, #44]
 421:Core/Src/MQTTSim800.c ****     if (error != 0)
 1510              		.loc 1 421 5 is_stmt 1 view .LVU341
 1511 00cc 4FF4FA62 		mov	r2, #2000
 1512 00d0 1749     		ldr	r1, .L85+44
 1513 00d2 1848     		ldr	r0, .L85+48
 1514 00d4 FFF7FEFF 		bl	SIM800_SendCommand
 1515              	.LVL138:
 422:Core/Src/MQTTSim800.c ****     {   
 1516              		.loc 1 422 5 view .LVU342
 422:Core/Src/MQTTSim800.c ****     {   
 1517              		.loc 1 422 15 is_stmt 0 view .LVU343
 1518 00d8 0B9B     		ldr	r3, [sp, #44]
 422:Core/Src/MQTTSim800.c ****     {   
 1519              		.loc 1 422 8 view .LVU344
 1520 00da 63B1     		cbz	r3, .L82
 424:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 39


 1521              		.loc 1 424 9 is_stmt 1 view .LVU345
 424:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1522              		.loc 1 424 28 is_stmt 0 view .LVU346
 1523 00dc 0D4B     		ldr	r3, .L85+16
 1524 00de 0022     		movs	r2, #0
 1525 00e0 5A70     		strb	r2, [r3, #1]
 425:Core/Src/MQTTSim800.c ****         return error;
 1526              		.loc 1 425 9 is_stmt 1 view .LVU347
 425:Core/Src/MQTTSim800.c ****         return error;
 1527              		.loc 1 425 28 is_stmt 0 view .LVU348
 1528 00e2 9A70     		strb	r2, [r3, #2]
 426:Core/Src/MQTTSim800.c ****     }
 1529              		.loc 1 426 9 is_stmt 1 view .LVU349
 426:Core/Src/MQTTSim800.c ****     }
 1530              		.loc 1 426 16 is_stmt 0 view .LVU350
 1531 00e4 0B98     		ldr	r0, [sp, #44]
 1532              	.L79:
 435:Core/Src/MQTTSim800.c **** 
 1533              		.loc 1 435 1 view .LVU351
 1534 00e6 0DB0     		add	sp, sp, #52
 1535              	.LCFI24:
 1536              		.cfi_remember_state
 1537              		.cfi_def_cfa_offset 12
 1538              		@ sp needed
 1539 00e8 30BD     		pop	{r4, r5, pc}
 1540              	.L80:
 1541              	.LCFI25:
 1542              		.cfi_restore_state
 408:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1543              		.loc 1 408 9 is_stmt 1 view .LVU352
 408:Core/Src/MQTTSim800.c ****         SIM800_Status.GPRS = 0;
 1544              		.loc 1 408 27 is_stmt 0 view .LVU353
 1545 00ea 0A4B     		ldr	r3, .L85+16
 1546 00ec 0022     		movs	r2, #0
 1547 00ee 1A70     		strb	r2, [r3]
 409:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1548              		.loc 1 409 9 is_stmt 1 view .LVU354
 409:Core/Src/MQTTSim800.c ****         SIM800_Status.MQTT = 0;
 1549              		.loc 1 409 28 is_stmt 0 view .LVU355
 1550 00f0 5A70     		strb	r2, [r3, #1]
 410:Core/Src/MQTTSim800.c ****     }
 1551              		.loc 1 410 9 is_stmt 1 view .LVU356
 410:Core/Src/MQTTSim800.c ****     }
 1552              		.loc 1 410 28 is_stmt 0 view .LVU357
 1553 00f2 9A70     		strb	r2, [r3, #2]
 1554 00f4 ABE7     		b	.L81
 1555              	.L82:
 430:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1556              		.loc 1 430 9 is_stmt 1 view .LVU358
 430:Core/Src/MQTTSim800.c ****         MQTT_Connect();
 1557              		.loc 1 430 28 is_stmt 0 view .LVU359
 1558 00f6 074B     		ldr	r3, .L85+16
 1559 00f8 0122     		movs	r2, #1
 1560 00fa 5A70     		strb	r2, [r3, #1]
 431:Core/Src/MQTTSim800.c ****         return error;
 1561              		.loc 1 431 9 is_stmt 1 view .LVU360
 1562 00fc FFF7FEFF 		bl	MQTT_Connect
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 40


 1563              	.LVL139:
 432:Core/Src/MQTTSim800.c ****     }
 1564              		.loc 1 432 9 view .LVU361
 432:Core/Src/MQTTSim800.c ****     }
 1565              		.loc 1 432 16 is_stmt 0 view .LVU362
 1566 0100 0B98     		ldr	r0, [sp, #44]
 1567 0102 F0E7     		b	.L79
 1568              	.L86:
 1569              		.align	2
 1570              	.L85:
 1571 0104 00000000 		.word	SIM800
 1572 0108 20000000 		.word	.LC6
 1573 010c 00000000 		.word	.LC10
 1574 0110 08000000 		.word	.LC11
 1575 0114 00000000 		.word	.LANCHOR7
 1576 0118 10000000 		.word	.LC12
 1577 011c 1C000000 		.word	.LC13
 1578 0120 2C000000 		.word	.LC14
 1579 0124 3C000000 		.word	.LC15
 1580 0128 4C000000 		.word	.LC16
 1581 012c 68000000 		.word	.LC17
 1582 0130 3C000000 		.word	.LC9
 1583 0134 74000000 		.word	.LC18
 1584              		.cfi_endproc
 1585              	.LFE84:
 1587              		.section	.text.MQTT_Pub,"ax",%progbits
 1588              		.align	1
 1589              		.global	MQTT_Pub
 1590              		.syntax unified
 1591              		.thumb
 1592              		.thumb_func
 1593              		.fpu softvfp
 1595              	MQTT_Pub:
 1596              	.LVL140:
 1597              	.LFB86:
 485:Core/Src/MQTTSim800.c **** 
 486:Core/Src/MQTTSim800.c **** /**
 487:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 488:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 489:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 490:Core/Src/MQTTSim800.c ****  * @return NONE
 491:Core/Src/MQTTSim800.c ****  */
 492:Core/Src/MQTTSim800.c **** void MQTT_Pub(char *topic, char *payload)
 493:Core/Src/MQTTSim800.c **** {
 1598              		.loc 1 493 1 is_stmt 1 view -0
 1599              		.cfi_startproc
 1600              		@ args = 0, pretend = 0, frame = 272
 1601              		@ frame_needed = 0, uses_anonymous_args = 0
 1602              		.loc 1 493 1 is_stmt 0 view .LVU364
 1603 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1604              	.LCFI26:
 1605              		.cfi_def_cfa_offset 20
 1606              		.cfi_offset 4, -20
 1607              		.cfi_offset 5, -16
 1608              		.cfi_offset 6, -12
 1609              		.cfi_offset 7, -8
 1610              		.cfi_offset 14, -4
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 41


 1611 0002 CDB0     		sub	sp, sp, #308
 1612              	.LCFI27:
 1613              		.cfi_def_cfa_offset 328
 1614 0004 0746     		mov	r7, r0
 1615 0006 0E46     		mov	r6, r1
 494:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 1616              		.loc 1 494 5 is_stmt 1 view .LVU365
 1617              		.loc 1 494 19 is_stmt 0 view .LVU366
 1618 0008 0024     		movs	r4, #0
 1619 000a 0C94     		str	r4, [sp, #48]
 1620 000c FC22     		movs	r2, #252
 1621 000e 2146     		mov	r1, r4
 1622              	.LVL141:
 1623              		.loc 1 494 19 view .LVU367
 1624 0010 0DA8     		add	r0, sp, #52
 1625              	.LVL142:
 1626              		.loc 1 494 19 view .LVU368
 1627 0012 FFF7FEFF 		bl	memset
 1628              	.LVL143:
 495:Core/Src/MQTTSim800.c ****     char temp[1]= {26};
 1629              		.loc 1 495 5 is_stmt 1 view .LVU369
 1630              		.loc 1 495 10 is_stmt 0 view .LVU370
 1631 0016 1A23     		movs	r3, #26
 1632 0018 8DF82C30 		strb	r3, [sp, #44]
 496:Core/Src/MQTTSim800.c **** 
 497:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 1633              		.loc 1 497 5 is_stmt 1 view .LVU371
 1634              		.loc 1 497 16 is_stmt 0 view .LVU372
 1635 001c 08AD     		add	r5, sp, #32
 1636 001e 0894     		str	r4, [sp, #32]
 1637 0020 0994     		str	r4, [sp, #36]
 1638 0022 0A94     		str	r4, [sp, #40]
 498:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 1639              		.loc 1 498 5 is_stmt 1 view .LVU373
 1640              		.loc 1 498 25 is_stmt 0 view .LVU374
 1641 0024 0897     		str	r7, [sp, #32]
 499:Core/Src/MQTTSim800.c **** 
 500:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_publish(buf, sizeof(buf), 0, 0, 1, 0,
 1642              		.loc 1 500 5 is_stmt 1 view .LVU375
 501:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1643              		.loc 1 501 86 is_stmt 0 view .LVU376
 1644 0026 3046     		mov	r0, r6
 1645 0028 FFF7FEFF 		bl	strlen
 1646              	.LVL144:
 500:Core/Src/MQTTSim800.c ****                                          topicString, (unsigned char *)payload, (int)strlen(payload
 1647              		.loc 1 500 20 view .LVU377
 1648 002c 0690     		str	r0, [sp, #24]
 1649 002e 0596     		str	r6, [sp, #20]
 1650 0030 02AB     		add	r3, sp, #8
 1651 0032 95E80700 		ldm	r5, {r0, r1, r2}
 1652 0036 83E80700 		stm	r3, {r0, r1, r2}
 1653 003a 0194     		str	r4, [sp, #4]
 1654 003c 0125     		movs	r5, #1
 1655 003e 0095     		str	r5, [sp]
 1656 0040 2346     		mov	r3, r4
 1657 0042 4FF48071 		mov	r1, #256
 1658 0046 0CA8     		add	r0, sp, #48
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 42


 1659 0048 FFF7FEFF 		bl	MQTTSerialize_publish
 1660              	.LVL145:
 1661 004c 0446     		mov	r4, r0
 1662              	.LVL146:
 502:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", 1000);
 1663              		.loc 1 502 5 is_stmt 1 view .LVU378
 1664 004e 4FF47A72 		mov	r2, #1000
 1665 0052 0E49     		ldr	r1, .L89
 1666 0054 0E48     		ldr	r0, .L89+4
 1667              	.LVL147:
 1668              		.loc 1 502 5 is_stmt 0 view .LVU379
 1669 0056 FFF7FEFF 		bl	SIM800_SendCommand
 1670              	.LVL148:
 503:Core/Src/MQTTSim800.c ****     osDelay(500);
 1671              		.loc 1 503 5 is_stmt 1 view .LVU380
 1672 005a 4FF4FA70 		mov	r0, #500
 1673 005e FFF7FEFF 		bl	osDelay
 1674              	.LVL149:
 504:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "", 1000);
 1675              		.loc 1 504 5 view .LVU381
 1676 0062 4FF47A73 		mov	r3, #1000
 1677 0066 0B4A     		ldr	r2, .L89+8
 1678 0068 E1B2     		uxtb	r1, r4
 1679 006a 0CA8     		add	r0, sp, #48
 1680 006c FFF7FEFF 		bl	SIM800_SendMQTT
 1681              	.LVL150:
 505:Core/Src/MQTTSim800.c ****     osDelay(200);
 1682              		.loc 1 505 5 view .LVU382
 1683 0070 C820     		movs	r0, #200
 1684 0072 FFF7FEFF 		bl	osDelay
 1685              	.LVL151:
 506:Core/Src/MQTTSim800.c ****     HAL_UART_Transmit_IT(UART_SIM800, (unsigned char *)temp, 1);
 1686              		.loc 1 506 5 view .LVU383
 1687 0076 2A46     		mov	r2, r5
 1688 0078 0BA9     		add	r1, sp, #44
 1689 007a 0748     		ldr	r0, .L89+12
 1690 007c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1691              	.LVL152:
 507:Core/Src/MQTTSim800.c ****     // huart1.Instance->DR = 0b00011010;       //0x1A - OK
 508:Core/Src/MQTTSim800.c **** 
 509:Core/Src/MQTTSim800.c **** 
 510:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 511:Core/Src/MQTTSim800.c ****     osDelay(5000);
 1692              		.loc 1 511 5 view .LVU384
 1693 0080 41F28830 		movw	r0, #5000
 1694 0084 FFF7FEFF 		bl	osDelay
 1695              	.LVL153:
 512:Core/Src/MQTTSim800.c **** #else
 513:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 514:Core/Src/MQTTSim800.c **** #endif
 515:Core/Src/MQTTSim800.c **** }
 1696              		.loc 1 515 1 is_stmt 0 view .LVU385
 1697 0088 4DB0     		add	sp, sp, #308
 1698              	.LCFI28:
 1699              		.cfi_def_cfa_offset 20
 1700              		@ sp needed
 1701 008a F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 43


 1702              	.LVL154:
 1703              	.L90:
 1704              		.loc 1 515 1 view .LVU386
 1705              		.align	2
 1706              	.L89:
 1707 008c 28000000 		.word	.LC7
 1708 0090 2C000000 		.word	.LC8
 1709 0094 3C000000 		.word	.LC9
 1710 0098 00000000 		.word	huart1
 1711              		.cfi_endproc
 1712              	.LFE86:
 1714              		.section	.rodata.MQTT_PubUint8.str1.4,"aMS",%progbits,1
 1715              		.align	2
 1716              	.LC19:
 1717 0000 257500   		.ascii	"%u\000"
 1718              		.section	.text.MQTT_PubUint8,"ax",%progbits
 1719              		.align	1
 1720              		.global	MQTT_PubUint8
 1721              		.syntax unified
 1722              		.thumb
 1723              		.thumb_func
 1724              		.fpu softvfp
 1726              	MQTT_PubUint8:
 1727              	.LVL155:
 1728              	.LFB87:
 516:Core/Src/MQTTSim800.c **** 
 517:Core/Src/MQTTSim800.c **** /**
 518:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 519:Core/Src/MQTTSim800.c ****  * @param topic (uint8_t)  to be used to the set topic
 520:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 521:Core/Src/MQTTSim800.c ****  * @return NONE
 522:Core/Src/MQTTSim800.c ****  */
 523:Core/Src/MQTTSim800.c **** void MQTT_PubUint8(char *topic, uint8_t payload)
 524:Core/Src/MQTTSim800.c **** {
 1729              		.loc 1 524 1 is_stmt 1 view -0
 1730              		.cfi_startproc
 1731              		@ args = 0, pretend = 0, frame = 32
 1732              		@ frame_needed = 0, uses_anonymous_args = 0
 1733              		.loc 1 524 1 is_stmt 0 view .LVU388
 1734 0000 10B5     		push	{r4, lr}
 1735              	.LCFI29:
 1736              		.cfi_def_cfa_offset 8
 1737              		.cfi_offset 4, -8
 1738              		.cfi_offset 14, -4
 1739 0002 88B0     		sub	sp, sp, #32
 1740              	.LCFI30:
 1741              		.cfi_def_cfa_offset 40
 1742 0004 0446     		mov	r4, r0
 1743 0006 0A46     		mov	r2, r1
 525:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1744              		.loc 1 525 5 is_stmt 1 view .LVU389
 1745              		.loc 1 525 10 is_stmt 0 view .LVU390
 1746 0008 0023     		movs	r3, #0
 1747 000a 0093     		str	r3, [sp]
 1748 000c 0193     		str	r3, [sp, #4]
 1749 000e 0293     		str	r3, [sp, #8]
 1750 0010 0393     		str	r3, [sp, #12]
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 44


 1751 0012 0493     		str	r3, [sp, #16]
 1752 0014 0593     		str	r3, [sp, #20]
 1753 0016 0693     		str	r3, [sp, #24]
 1754 0018 0793     		str	r3, [sp, #28]
 526:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1755              		.loc 1 526 5 is_stmt 1 view .LVU391
 1756 001a 0549     		ldr	r1, .L93
 1757              	.LVL156:
 1758              		.loc 1 526 5 is_stmt 0 view .LVU392
 1759 001c 6846     		mov	r0, sp
 1760              	.LVL157:
 1761              		.loc 1 526 5 view .LVU393
 1762 001e FFF7FEFF 		bl	sprintf
 1763              	.LVL158:
 527:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1764              		.loc 1 527 5 is_stmt 1 view .LVU394
 1765 0022 6946     		mov	r1, sp
 1766 0024 2046     		mov	r0, r4
 1767 0026 FFF7FEFF 		bl	MQTT_Pub
 1768              	.LVL159:
 528:Core/Src/MQTTSim800.c **** }
 1769              		.loc 1 528 1 is_stmt 0 view .LVU395
 1770 002a 08B0     		add	sp, sp, #32
 1771              	.LCFI31:
 1772              		.cfi_def_cfa_offset 8
 1773              		@ sp needed
 1774 002c 10BD     		pop	{r4, pc}
 1775              	.LVL160:
 1776              	.L94:
 1777              		.loc 1 528 1 view .LVU396
 1778 002e 00BF     		.align	2
 1779              	.L93:
 1780 0030 00000000 		.word	.LC19
 1781              		.cfi_endproc
 1782              	.LFE87:
 1784              		.section	.text.MQTT_PubUint16,"ax",%progbits
 1785              		.align	1
 1786              		.global	MQTT_PubUint16
 1787              		.syntax unified
 1788              		.thumb
 1789              		.thumb_func
 1790              		.fpu softvfp
 1792              	MQTT_PubUint16:
 1793              	.LVL161:
 1794              	.LFB88:
 529:Core/Src/MQTTSim800.c **** 
 530:Core/Src/MQTTSim800.c **** /**
 531:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 532:Core/Src/MQTTSim800.c ****  * @param topic (uint16_t)  to be used to the set topic
 533:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 534:Core/Src/MQTTSim800.c ****  * @return NONE
 535:Core/Src/MQTTSim800.c ****  */
 536:Core/Src/MQTTSim800.c **** void MQTT_PubUint16(char *topic, uint16_t payload)
 537:Core/Src/MQTTSim800.c **** {
 1795              		.loc 1 537 1 is_stmt 1 view -0
 1796              		.cfi_startproc
 1797              		@ args = 0, pretend = 0, frame = 32
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 45


 1798              		@ frame_needed = 0, uses_anonymous_args = 0
 1799              		.loc 1 537 1 is_stmt 0 view .LVU398
 1800 0000 10B5     		push	{r4, lr}
 1801              	.LCFI32:
 1802              		.cfi_def_cfa_offset 8
 1803              		.cfi_offset 4, -8
 1804              		.cfi_offset 14, -4
 1805 0002 88B0     		sub	sp, sp, #32
 1806              	.LCFI33:
 1807              		.cfi_def_cfa_offset 40
 1808 0004 0446     		mov	r4, r0
 1809 0006 0A46     		mov	r2, r1
 538:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1810              		.loc 1 538 5 is_stmt 1 view .LVU399
 1811              		.loc 1 538 10 is_stmt 0 view .LVU400
 1812 0008 0023     		movs	r3, #0
 1813 000a 0093     		str	r3, [sp]
 1814 000c 0193     		str	r3, [sp, #4]
 1815 000e 0293     		str	r3, [sp, #8]
 1816 0010 0393     		str	r3, [sp, #12]
 1817 0012 0493     		str	r3, [sp, #16]
 1818 0014 0593     		str	r3, [sp, #20]
 1819 0016 0693     		str	r3, [sp, #24]
 1820 0018 0793     		str	r3, [sp, #28]
 539:Core/Src/MQTTSim800.c ****     sprintf(str, "%u", payload);
 1821              		.loc 1 539 5 is_stmt 1 view .LVU401
 1822 001a 0549     		ldr	r1, .L97
 1823              	.LVL162:
 1824              		.loc 1 539 5 is_stmt 0 view .LVU402
 1825 001c 6846     		mov	r0, sp
 1826              	.LVL163:
 1827              		.loc 1 539 5 view .LVU403
 1828 001e FFF7FEFF 		bl	sprintf
 1829              	.LVL164:
 540:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1830              		.loc 1 540 5 is_stmt 1 view .LVU404
 1831 0022 6946     		mov	r1, sp
 1832 0024 2046     		mov	r0, r4
 1833 0026 FFF7FEFF 		bl	MQTT_Pub
 1834              	.LVL165:
 541:Core/Src/MQTTSim800.c **** }
 1835              		.loc 1 541 1 is_stmt 0 view .LVU405
 1836 002a 08B0     		add	sp, sp, #32
 1837              	.LCFI34:
 1838              		.cfi_def_cfa_offset 8
 1839              		@ sp needed
 1840 002c 10BD     		pop	{r4, pc}
 1841              	.LVL166:
 1842              	.L98:
 1843              		.loc 1 541 1 view .LVU406
 1844 002e 00BF     		.align	2
 1845              	.L97:
 1846 0030 00000000 		.word	.LC19
 1847              		.cfi_endproc
 1848              	.LFE88:
 1850              		.section	.rodata.MQTT_PubUint32.str1.4,"aMS",%progbits,1
 1851              		.align	2
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 46


 1852              	.LC20:
 1853 0000 256C7500 		.ascii	"%lu\000"
 1854              		.section	.text.MQTT_PubUint32,"ax",%progbits
 1855              		.align	1
 1856              		.global	MQTT_PubUint32
 1857              		.syntax unified
 1858              		.thumb
 1859              		.thumb_func
 1860              		.fpu softvfp
 1862              	MQTT_PubUint32:
 1863              	.LVL167:
 1864              	.LFB89:
 542:Core/Src/MQTTSim800.c **** 
 543:Core/Src/MQTTSim800.c **** /**
 544:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 545:Core/Src/MQTTSim800.c ****  * @param topic (uint32_t)  to be used to the set topic
 546:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 547:Core/Src/MQTTSim800.c ****  * @return NONE
 548:Core/Src/MQTTSim800.c ****  */
 549:Core/Src/MQTTSim800.c **** void MQTT_PubUint32(char *topic, uint32_t payload)
 550:Core/Src/MQTTSim800.c **** {
 1865              		.loc 1 550 1 is_stmt 1 view -0
 1866              		.cfi_startproc
 1867              		@ args = 0, pretend = 0, frame = 32
 1868              		@ frame_needed = 0, uses_anonymous_args = 0
 1869              		.loc 1 550 1 is_stmt 0 view .LVU408
 1870 0000 10B5     		push	{r4, lr}
 1871              	.LCFI35:
 1872              		.cfi_def_cfa_offset 8
 1873              		.cfi_offset 4, -8
 1874              		.cfi_offset 14, -4
 1875 0002 88B0     		sub	sp, sp, #32
 1876              	.LCFI36:
 1877              		.cfi_def_cfa_offset 40
 1878 0004 0446     		mov	r4, r0
 1879 0006 0A46     		mov	r2, r1
 551:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1880              		.loc 1 551 5 is_stmt 1 view .LVU409
 1881              		.loc 1 551 10 is_stmt 0 view .LVU410
 1882 0008 0023     		movs	r3, #0
 1883 000a 0093     		str	r3, [sp]
 1884 000c 0193     		str	r3, [sp, #4]
 1885 000e 0293     		str	r3, [sp, #8]
 1886 0010 0393     		str	r3, [sp, #12]
 1887 0012 0493     		str	r3, [sp, #16]
 1888 0014 0593     		str	r3, [sp, #20]
 1889 0016 0693     		str	r3, [sp, #24]
 1890 0018 0793     		str	r3, [sp, #28]
 552:Core/Src/MQTTSim800.c ****     sprintf(str, "%lu", payload);
 1891              		.loc 1 552 5 is_stmt 1 view .LVU411
 1892 001a 0549     		ldr	r1, .L101
 1893              	.LVL168:
 1894              		.loc 1 552 5 is_stmt 0 view .LVU412
 1895 001c 6846     		mov	r0, sp
 1896              	.LVL169:
 1897              		.loc 1 552 5 view .LVU413
 1898 001e FFF7FEFF 		bl	sprintf
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 47


 1899              	.LVL170:
 553:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1900              		.loc 1 553 5 is_stmt 1 view .LVU414
 1901 0022 6946     		mov	r1, sp
 1902 0024 2046     		mov	r0, r4
 1903 0026 FFF7FEFF 		bl	MQTT_Pub
 1904              	.LVL171:
 554:Core/Src/MQTTSim800.c **** }
 1905              		.loc 1 554 1 is_stmt 0 view .LVU415
 1906 002a 08B0     		add	sp, sp, #32
 1907              	.LCFI37:
 1908              		.cfi_def_cfa_offset 8
 1909              		@ sp needed
 1910 002c 10BD     		pop	{r4, pc}
 1911              	.LVL172:
 1912              	.L102:
 1913              		.loc 1 554 1 view .LVU416
 1914 002e 00BF     		.align	2
 1915              	.L101:
 1916 0030 00000000 		.word	.LC20
 1917              		.cfi_endproc
 1918              	.LFE89:
 1920              		.section	.text.MQTT_PubFloat,"ax",%progbits
 1921              		.align	1
 1922              		.global	MQTT_PubFloat
 1923              		.syntax unified
 1924              		.thumb
 1925              		.thumb_func
 1926              		.fpu softvfp
 1928              	MQTT_PubFloat:
 1929              	.LVL173:
 1930              	.LFB90:
 555:Core/Src/MQTTSim800.c **** 
 556:Core/Src/MQTTSim800.c **** /**
 557:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 558:Core/Src/MQTTSim800.c ****  * @param topic (float)  to be used to the set topic
 559:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 560:Core/Src/MQTTSim800.c ****  * @return NONE
 561:Core/Src/MQTTSim800.c ****  */
 562:Core/Src/MQTTSim800.c **** void MQTT_PubFloat(char *topic, float payload, uint8_t digit)
 563:Core/Src/MQTTSim800.c **** {
 1931              		.loc 1 563 1 is_stmt 1 view -0
 1932              		.cfi_startproc
 1933              		@ args = 0, pretend = 0, frame = 32
 1934              		@ frame_needed = 0, uses_anonymous_args = 0
 1935              		.loc 1 563 1 is_stmt 0 view .LVU418
 1936 0000 10B5     		push	{r4, lr}
 1937              	.LCFI38:
 1938              		.cfi_def_cfa_offset 8
 1939              		.cfi_offset 4, -8
 1940              		.cfi_offset 14, -4
 1941 0002 88B0     		sub	sp, sp, #32
 1942              	.LCFI39:
 1943              		.cfi_def_cfa_offset 40
 1944 0004 0446     		mov	r4, r0
 1945 0006 0846     		mov	r0, r1
 1946              	.LVL174:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 48


 564:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 1947              		.loc 1 564 5 is_stmt 1 view .LVU419
 1948              		.loc 1 564 10 is_stmt 0 view .LVU420
 1949 0008 0023     		movs	r3, #0
 1950 000a 0093     		str	r3, [sp]
 1951 000c 0193     		str	r3, [sp, #4]
 1952 000e 0293     		str	r3, [sp, #8]
 1953 0010 0393     		str	r3, [sp, #12]
 1954 0012 0493     		str	r3, [sp, #16]
 1955 0014 0593     		str	r3, [sp, #20]
 1956 0016 0693     		str	r3, [sp, #24]
 1957 0018 0793     		str	r3, [sp, #28]
 565:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 1958              		.loc 1 565 5 is_stmt 1 view .LVU421
 1959 001a 6946     		mov	r1, sp
 1960              	.LVL175:
 1961              		.loc 1 565 5 is_stmt 0 view .LVU422
 1962 001c FFF7FEFF 		bl	ftoa
 1963              	.LVL176:
 566:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 1964              		.loc 1 566 5 is_stmt 1 view .LVU423
 1965 0020 6946     		mov	r1, sp
 1966 0022 2046     		mov	r0, r4
 1967 0024 FFF7FEFF 		bl	MQTT_Pub
 1968              	.LVL177:
 567:Core/Src/MQTTSim800.c **** }
 1969              		.loc 1 567 1 is_stmt 0 view .LVU424
 1970 0028 08B0     		add	sp, sp, #32
 1971              	.LCFI40:
 1972              		.cfi_def_cfa_offset 8
 1973              		@ sp needed
 1974 002a 10BD     		pop	{r4, pc}
 1975              		.loc 1 567 1 view .LVU425
 1976              		.cfi_endproc
 1977              	.LFE90:
 1979              		.section	.text.MQTT_PubDouble,"ax",%progbits
 1980              		.align	1
 1981              		.global	MQTT_PubDouble
 1982              		.syntax unified
 1983              		.thumb
 1984              		.thumb_func
 1985              		.fpu softvfp
 1987              	MQTT_PubDouble:
 1988              	.LVL178:
 1989              	.LFB91:
 568:Core/Src/MQTTSim800.c **** 
 569:Core/Src/MQTTSim800.c **** /**
 570:Core/Src/MQTTSim800.c ****  * Public on the MQTT broker of the message in a topic
 571:Core/Src/MQTTSim800.c ****  * @param topic (double)  to be used to the set topic
 572:Core/Src/MQTTSim800.c ****  * @param payload to be used to the set message for topic
 573:Core/Src/MQTTSim800.c ****  * @return NONE
 574:Core/Src/MQTTSim800.c ****  */
 575:Core/Src/MQTTSim800.c **** void MQTT_PubDouble(char *topic, double payload, uint8_t digit)
 576:Core/Src/MQTTSim800.c **** {
 1990              		.loc 1 576 1 is_stmt 1 view -0
 1991              		.cfi_startproc
 1992              		@ args = 4, pretend = 0, frame = 32
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 49


 1993              		@ frame_needed = 0, uses_anonymous_args = 0
 1994              		.loc 1 576 1 is_stmt 0 view .LVU427
 1995 0000 10B5     		push	{r4, lr}
 1996              	.LCFI41:
 1997              		.cfi_def_cfa_offset 8
 1998              		.cfi_offset 4, -8
 1999              		.cfi_offset 14, -4
 2000 0002 88B0     		sub	sp, sp, #32
 2001              	.LCFI42:
 2002              		.cfi_def_cfa_offset 40
 2003 0004 0446     		mov	r4, r0
 2004 0006 1046     		mov	r0, r2
 2005              	.LVL179:
 2006              		.loc 1 576 1 view .LVU428
 2007 0008 1946     		mov	r1, r3
 577:Core/Src/MQTTSim800.c ****     char str[32] = {0};
 2008              		.loc 1 577 5 is_stmt 1 view .LVU429
 2009              		.loc 1 577 10 is_stmt 0 view .LVU430
 2010 000a 0023     		movs	r3, #0
 2011 000c 0093     		str	r3, [sp]
 2012 000e 0193     		str	r3, [sp, #4]
 2013 0010 0293     		str	r3, [sp, #8]
 2014 0012 0393     		str	r3, [sp, #12]
 2015 0014 0493     		str	r3, [sp, #16]
 2016 0016 0593     		str	r3, [sp, #20]
 2017 0018 0693     		str	r3, [sp, #24]
 2018 001a 0793     		str	r3, [sp, #28]
 578:Core/Src/MQTTSim800.c ****     ftoa(payload, str, digit);
 2019              		.loc 1 578 5 is_stmt 1 view .LVU431
 2020 001c FFF7FEFF 		bl	__aeabi_d2f
 2021              	.LVL180:
 2022              		.loc 1 578 5 is_stmt 0 view .LVU432
 2023 0020 9DF82820 		ldrb	r2, [sp, #40]	@ zero_extendqisi2
 2024 0024 6946     		mov	r1, sp
 2025 0026 FFF7FEFF 		bl	ftoa
 2026              	.LVL181:
 579:Core/Src/MQTTSim800.c ****     MQTT_Pub(topic, str);
 2027              		.loc 1 579 5 is_stmt 1 view .LVU433
 2028 002a 6946     		mov	r1, sp
 2029 002c 2046     		mov	r0, r4
 2030 002e FFF7FEFF 		bl	MQTT_Pub
 2031              	.LVL182:
 580:Core/Src/MQTTSim800.c **** }
 2032              		.loc 1 580 1 is_stmt 0 view .LVU434
 2033 0032 08B0     		add	sp, sp, #32
 2034              	.LCFI43:
 2035              		.cfi_def_cfa_offset 8
 2036              		@ sp needed
 2037 0034 10BD     		pop	{r4, pc}
 2038              		.loc 1 580 1 view .LVU435
 2039              		.cfi_endproc
 2040              	.LFE91:
 2042              		.section	.text.MQTT_PingReq,"ax",%progbits
 2043              		.align	1
 2044              		.global	MQTT_PingReq
 2045              		.syntax unified
 2046              		.thumb
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 50


 2047              		.thumb_func
 2048              		.fpu softvfp
 2050              	MQTT_PingReq:
 2051              	.LFB92:
 581:Core/Src/MQTTSim800.c **** 
 582:Core/Src/MQTTSim800.c **** /**
 583:Core/Src/MQTTSim800.c ****  * Send a PINGREQ to the MQTT broker (active session)
 584:Core/Src/MQTTSim800.c ****  * @param NONE
 585:Core/Src/MQTTSim800.c ****  * @return NONE
 586:Core/Src/MQTTSim800.c ****  */
 587:Core/Src/MQTTSim800.c **** void MQTT_PingReq(void)
 588:Core/Src/MQTTSim800.c **** {
 2052              		.loc 1 588 1 is_stmt 1 view -0
 2053              		.cfi_startproc
 2054              		@ args = 0, pretend = 0, frame = 16
 2055              		@ frame_needed = 0, uses_anonymous_args = 0
 2056 0000 10B5     		push	{r4, lr}
 2057              	.LCFI44:
 2058              		.cfi_def_cfa_offset 8
 2059              		.cfi_offset 4, -8
 2060              		.cfi_offset 14, -4
 2061 0002 84B0     		sub	sp, sp, #16
 2062              	.LCFI45:
 2063              		.cfi_def_cfa_offset 24
 589:Core/Src/MQTTSim800.c ****     unsigned char buf[16] = {0};
 2064              		.loc 1 589 5 view .LVU437
 2065              		.loc 1 589 19 is_stmt 0 view .LVU438
 2066 0004 0023     		movs	r3, #0
 2067 0006 0093     		str	r3, [sp]
 2068 0008 0193     		str	r3, [sp, #4]
 2069 000a 0293     		str	r3, [sp, #8]
 2070 000c 0393     		str	r3, [sp, #12]
 590:Core/Src/MQTTSim800.c **** 
 591:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_pingreq(buf, sizeof(buf));
 2071              		.loc 1 591 5 is_stmt 1 view .LVU439
 2072              		.loc 1 591 20 is_stmt 0 view .LVU440
 2073 000e 1021     		movs	r1, #16
 2074 0010 6846     		mov	r0, sp
 2075 0012 FFF7FEFF 		bl	MQTTSerialize_pingreq
 2076              	.LVL183:
 2077 0016 0446     		mov	r4, r0
 2078              	.LVL184:
 592:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 2079              		.loc 1 592 5 is_stmt 1 view .LVU441
 2080 0018 4FF4FA62 		mov	r2, #2000
 2081 001c 0B49     		ldr	r1, .L109
 2082 001e 0C48     		ldr	r0, .L109+4
 2083              	.LVL185:
 2084              		.loc 1 592 5 is_stmt 0 view .LVU442
 2085 0020 FFF7FEFF 		bl	SIM800_SendCommand
 2086              	.LVL186:
 593:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT((char*)buf, mqtt_len, "OK\r\n", CMD_DELAY);
 2087              		.loc 1 593 5 is_stmt 1 view .LVU443
 2088 0024 4FF4FA63 		mov	r3, #2000
 2089 0028 0A4A     		ldr	r2, .L109+8
 2090 002a E1B2     		uxtb	r1, r4
 2091 002c 6846     		mov	r0, sp
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 51


 2092 002e FFF7FEFF 		bl	SIM800_SendMQTT
 2093              	.LVL187:
 594:Core/Src/MQTTSim800.c ****     osDelay(100);
 2094              		.loc 1 594 5 view .LVU444
 2095 0032 6420     		movs	r0, #100
 2096 0034 FFF7FEFF 		bl	osDelay
 2097              	.LVL188:
 595:Core/Src/MQTTSim800.c ****     huart1.Instance->DR = 0b00011010;       //0x1A - OK
 2098              		.loc 1 595 5 view .LVU445
 2099              		.loc 1 595 11 is_stmt 0 view .LVU446
 2100 0038 074B     		ldr	r3, .L109+12
 2101 003a 1B68     		ldr	r3, [r3]
 2102              		.loc 1 595 25 view .LVU447
 2103 003c 1A22     		movs	r2, #26
 2104 003e 5A60     		str	r2, [r3, #4]
 596:Core/Src/MQTTSim800.c **** 
 597:Core/Src/MQTTSim800.c **** 
 598:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 599:Core/Src/MQTTSim800.c ****     osDelay(100);
 2105              		.loc 1 599 5 is_stmt 1 view .LVU448
 2106 0040 6420     		movs	r0, #100
 2107 0042 FFF7FEFF 		bl	osDelay
 2108              	.LVL189:
 600:Core/Src/MQTTSim800.c **** #else
 601:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 602:Core/Src/MQTTSim800.c **** #endif
 603:Core/Src/MQTTSim800.c **** }
 2109              		.loc 1 603 1 is_stmt 0 view .LVU449
 2110 0046 04B0     		add	sp, sp, #16
 2111              	.LCFI46:
 2112              		.cfi_def_cfa_offset 8
 2113              		@ sp needed
 2114 0048 10BD     		pop	{r4, pc}
 2115              	.LVL190:
 2116              	.L110:
 2117              		.loc 1 603 1 view .LVU450
 2118 004a 00BF     		.align	2
 2119              	.L109:
 2120 004c 28000000 		.word	.LC7
 2121 0050 2C000000 		.word	.LC8
 2122 0054 20000000 		.word	.LC6
 2123 0058 00000000 		.word	huart1
 2124              		.cfi_endproc
 2125              	.LFE92:
 2127              		.section	.text.MQTT_Sub,"ax",%progbits
 2128              		.align	1
 2129              		.global	MQTT_Sub
 2130              		.syntax unified
 2131              		.thumb
 2132              		.thumb_func
 2133              		.fpu softvfp
 2135              	MQTT_Sub:
 2136              	.LVL191:
 2137              	.LFB93:
 604:Core/Src/MQTTSim800.c **** 
 605:Core/Src/MQTTSim800.c **** /**
 606:Core/Src/MQTTSim800.c ****  * Subscribe on the MQTT broker of the message in a topic
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 52


 607:Core/Src/MQTTSim800.c ****  * @param topic to be used to the set topic
 608:Core/Src/MQTTSim800.c ****  * @return NONE
 609:Core/Src/MQTTSim800.c ****  */
 610:Core/Src/MQTTSim800.c **** void MQTT_Sub(char *topic)
 611:Core/Src/MQTTSim800.c **** {
 2138              		.loc 1 611 1 is_stmt 1 view -0
 2139              		.cfi_startproc
 2140              		@ args = 0, pretend = 0, frame = 272
 2141              		@ frame_needed = 0, uses_anonymous_args = 0
 2142              		.loc 1 611 1 is_stmt 0 view .LVU452
 2143 0000 30B5     		push	{r4, r5, lr}
 2144              	.LCFI47:
 2145              		.cfi_def_cfa_offset 12
 2146              		.cfi_offset 4, -12
 2147              		.cfi_offset 5, -8
 2148              		.cfi_offset 14, -4
 2149 0002 C9B0     		sub	sp, sp, #292
 2150              	.LCFI48:
 2151              		.cfi_def_cfa_offset 304
 2152 0004 0546     		mov	r5, r0
 612:Core/Src/MQTTSim800.c ****     unsigned char buf[256] = {0};
 2153              		.loc 1 612 5 is_stmt 1 view .LVU453
 2154              		.loc 1 612 19 is_stmt 0 view .LVU454
 2155 0006 0024     		movs	r4, #0
 2156 0008 0894     		str	r4, [sp, #32]
 2157 000a FC22     		movs	r2, #252
 2158 000c 2146     		mov	r1, r4
 2159 000e 09A8     		add	r0, sp, #36
 2160              	.LVL192:
 2161              		.loc 1 612 19 view .LVU455
 2162 0010 FFF7FEFF 		bl	memset
 2163              	.LVL193:
 613:Core/Src/MQTTSim800.c **** 
 614:Core/Src/MQTTSim800.c ****     MQTTString topicString = MQTTString_initializer;
 2164              		.loc 1 614 5 is_stmt 1 view .LVU456
 2165              		.loc 1 614 16 is_stmt 0 view .LVU457
 2166 0014 05AB     		add	r3, sp, #20
 2167 0016 0594     		str	r4, [sp, #20]
 2168 0018 0694     		str	r4, [sp, #24]
 2169 001a 0794     		str	r4, [sp, #28]
 615:Core/Src/MQTTSim800.c ****     topicString.cstring = topic;
 2170              		.loc 1 615 5 is_stmt 1 view .LVU458
 2171              		.loc 1 615 25 is_stmt 0 view .LVU459
 2172 001c 0595     		str	r5, [sp, #20]
 616:Core/Src/MQTTSim800.c **** 
 617:Core/Src/MQTTSim800.c ****     int mqtt_len = MQTTSerialize_subscribe(buf, sizeof(buf), 0, 1, 1,
 2173              		.loc 1 617 5 is_stmt 1 view .LVU460
 2174              		.loc 1 617 20 is_stmt 0 view .LVU461
 2175 001e 0294     		str	r4, [sp, #8]
 2176 0020 0193     		str	r3, [sp, #4]
 2177 0022 0123     		movs	r3, #1
 2178 0024 0093     		str	r3, [sp]
 2179 0026 2246     		mov	r2, r4
 2180 0028 4FF48071 		mov	r1, #256
 2181 002c 08A8     		add	r0, sp, #32
 2182 002e FFF7FEFF 		bl	MQTTSerialize_subscribe
 2183              	.LVL194:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 53


 2184 0032 0446     		mov	r4, r0
 2185              	.LVL195:
 618:Core/Src/MQTTSim800.c ****                                             &topicString, 0);
 619:Core/Src/MQTTSim800.c ****     SIM800_SendCommand("AT+CIPSEND\r\n", ">", CMD_DELAY);
 2186              		.loc 1 619 5 is_stmt 1 view .LVU462
 2187 0034 4FF4FA62 		mov	r2, #2000
 2188 0038 0B49     		ldr	r1, .L113
 2189 003a 0C48     		ldr	r0, .L113+4
 2190              	.LVL196:
 2191              		.loc 1 619 5 is_stmt 0 view .LVU463
 2192 003c FFF7FEFF 		bl	SIM800_SendCommand
 2193              	.LVL197:
 620:Core/Src/MQTTSim800.c ****     SIM800_SendMQTT(buf, mqtt_len, "OK\r\n", CMD_DELAY);
 2194              		.loc 1 620 5 is_stmt 1 view .LVU464
 2195 0040 4FF4FA63 		mov	r3, #2000
 2196 0044 0A4A     		ldr	r2, .L113+8
 2197 0046 E1B2     		uxtb	r1, r4
 2198 0048 08A8     		add	r0, sp, #32
 2199 004a FFF7FEFF 		bl	SIM800_SendMQTT
 2200              	.LVL198:
 621:Core/Src/MQTTSim800.c ****     osDelay(100);
 2201              		.loc 1 621 5 view .LVU465
 2202 004e 6420     		movs	r0, #100
 2203 0050 FFF7FEFF 		bl	osDelay
 2204              	.LVL199:
 622:Core/Src/MQTTSim800.c ****     huart1.Instance->DR = 0b00011010;       //0x1A - OK
 2205              		.loc 1 622 5 view .LVU466
 2206              		.loc 1 622 11 is_stmt 0 view .LVU467
 2207 0054 074B     		ldr	r3, .L113+12
 2208 0056 1B68     		ldr	r3, [r3]
 2209              		.loc 1 622 25 view .LVU468
 2210 0058 1A22     		movs	r2, #26
 2211 005a 5A60     		str	r2, [r3, #4]
 623:Core/Src/MQTTSim800.c **** 
 624:Core/Src/MQTTSim800.c **** #if FREERTOS == 1
 625:Core/Src/MQTTSim800.c ****     osDelay(100);
 2212              		.loc 1 625 5 is_stmt 1 view .LVU469
 2213 005c 6420     		movs	r0, #100
 2214 005e FFF7FEFF 		bl	osDelay
 2215              	.LVL200:
 626:Core/Src/MQTTSim800.c **** #else
 627:Core/Src/MQTTSim800.c ****     HAL_Delay(100);
 628:Core/Src/MQTTSim800.c **** #endif
 629:Core/Src/MQTTSim800.c **** }
 2216              		.loc 1 629 1 is_stmt 0 view .LVU470
 2217 0062 49B0     		add	sp, sp, #292
 2218              	.LCFI49:
 2219              		.cfi_def_cfa_offset 12
 2220              		@ sp needed
 2221 0064 30BD     		pop	{r4, r5, pc}
 2222              	.LVL201:
 2223              	.L114:
 2224              		.loc 1 629 1 view .LVU471
 2225 0066 00BF     		.align	2
 2226              	.L113:
 2227 0068 28000000 		.word	.LC7
 2228 006c 2C000000 		.word	.LC8
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 54


 2229 0070 20000000 		.word	.LC6
 2230 0074 00000000 		.word	huart1
 2231              		.cfi_endproc
 2232              	.LFE93:
 2234              		.section	.text.MQTT_Receive,"ax",%progbits
 2235              		.align	1
 2236              		.global	MQTT_Receive
 2237              		.syntax unified
 2238              		.thumb
 2239              		.thumb_func
 2240              		.fpu softvfp
 2242              	MQTT_Receive:
 2243              	.LVL202:
 2244              	.LFB94:
 630:Core/Src/MQTTSim800.c **** 
 631:Core/Src/MQTTSim800.c **** /**
 632:Core/Src/MQTTSim800.c ****  * Receive message from MQTT broker
 633:Core/Src/MQTTSim800.c ****  * @param receive mqtt bufer
 634:Core/Src/MQTTSim800.c ****  * @return NONE
 635:Core/Src/MQTTSim800.c ****  */
 636:Core/Src/MQTTSim800.c **** void MQTT_Receive(unsigned char *buf)
 637:Core/Src/MQTTSim800.c **** {
 2245              		.loc 1 637 1 is_stmt 1 view -0
 2246              		.cfi_startproc
 2247              		@ args = 0, pretend = 0, frame = 16
 2248              		@ frame_needed = 0, uses_anonymous_args = 0
 2249              		.loc 1 637 1 is_stmt 0 view .LVU473
 2250 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2251              	.LCFI50:
 2252              		.cfi_def_cfa_offset 20
 2253              		.cfi_offset 4, -20
 2254              		.cfi_offset 5, -16
 2255              		.cfi_offset 6, -12
 2256              		.cfi_offset 7, -8
 2257              		.cfi_offset 14, -4
 2258 0002 8BB0     		sub	sp, sp, #44
 2259              	.LCFI51:
 2260              		.cfi_def_cfa_offset 64
 2261 0004 0546     		mov	r5, r0
 638:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.topic, 0, sizeof(SIM800.mqttReceive.topic));
 2262              		.loc 1 638 5 is_stmt 1 view .LVU474
 2263 0006 194C     		ldr	r4, .L117
 2264 0008 4027     		movs	r7, #64
 2265 000a 3A46     		mov	r2, r7
 2266 000c 0021     		movs	r1, #0
 2267 000e 2046     		mov	r0, r4
 2268              	.LVL203:
 2269              		.loc 1 638 5 is_stmt 0 view .LVU475
 2270 0010 FFF7FEFF 		bl	memset
 2271              	.LVL204:
 639:Core/Src/MQTTSim800.c ****     memset(SIM800.mqttReceive.payload, 0, sizeof(SIM800.mqttReceive.payload));
 2272              		.loc 1 639 5 is_stmt 1 view .LVU476
 2273 0014 A4F14406 		sub	r6, r4, #68
 2274 0018 3A46     		mov	r2, r7
 2275 001a 0021     		movs	r1, #0
 2276 001c 3046     		mov	r0, r6
 2277 001e FFF7FEFF 		bl	memset
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 55


 2278              	.LVL205:
 640:Core/Src/MQTTSim800.c ****     MQTTString receivedTopic;
 2279              		.loc 1 640 5 view .LVU477
 641:Core/Src/MQTTSim800.c ****     unsigned char *payload;
 2280              		.loc 1 641 5 view .LVU478
 642:Core/Src/MQTTSim800.c ****     MQTTDeserialize_publish(&SIM800.mqttReceive.dup, &SIM800.mqttReceive.qos, &SIM800.mqttReceive.r
 2281              		.loc 1 642 5 view .LVU479
 2282 0022 0423     		movs	r3, #4
 2283 0024 0493     		str	r3, [sp, #16]
 2284 0026 0395     		str	r5, [sp, #12]
 2285 0028 231F     		subs	r3, r4, #4
 2286 002a 0293     		str	r3, [sp, #8]
 2287 002c 06AB     		add	r3, sp, #24
 2288 002e 0193     		str	r3, [sp, #4]
 2289 0030 07AB     		add	r3, sp, #28
 2290 0032 0093     		str	r3, [sp]
 2291 0034 A4F14603 		sub	r3, r4, #70
 2292 0038 A4F14802 		sub	r2, r4, #72
 2293 003c A4F14C01 		sub	r1, r4, #76
 2294 0040 A4F14F00 		sub	r0, r4, #79
 2295 0044 FFF7FEFF 		bl	MQTTDeserialize_publish
 2296              	.LVL206:
 643:Core/Src/MQTTSim800.c ****                             &SIM800.mqttReceive.msgId,
 644:Core/Src/MQTTSim800.c ****                             &receivedTopic, &payload, &SIM800.mqttReceive.payloadLen, buf,
 645:Core/Src/MQTTSim800.c ****                             sizeof(buf));
 646:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.topic, receivedTopic.lenstring.data, receivedTopic.lenstring.len);
 2297              		.loc 1 646 5 view .LVU480
 2298              		.loc 1 646 91 is_stmt 0 view .LVU481
 2299 0048 089D     		ldr	r5, [sp, #32]
 2300              	.LVL207:
 2301              		.loc 1 646 5 view .LVU482
 2302 004a 2A46     		mov	r2, r5
 2303 004c 0999     		ldr	r1, [sp, #36]
 2304 004e 2046     		mov	r0, r4
 2305 0050 FFF7FEFF 		bl	memcpy
 2306              	.LVL208:
 647:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.topicLen = receivedTopic.lenstring.len;
 2307              		.loc 1 647 5 is_stmt 1 view .LVU483
 2308              		.loc 1 647 33 is_stmt 0 view .LVU484
 2309 0054 2564     		str	r5, [r4, #64]
 648:Core/Src/MQTTSim800.c ****     memcpy(SIM800.mqttReceive.payload, payload, SIM800.mqttReceive.payloadLen);
 2310              		.loc 1 648 5 is_stmt 1 view .LVU485
 2311 0056 54F8042C 		ldr	r2, [r4, #-4]
 2312 005a 0699     		ldr	r1, [sp, #24]
 2313 005c 3046     		mov	r0, r6
 2314 005e FFF7FEFF 		bl	memcpy
 2315              	.LVL209:
 649:Core/Src/MQTTSim800.c ****     SIM800.mqttReceive.newEvent = 1;
 2316              		.loc 1 649 5 view .LVU486
 2317              		.loc 1 649 33 is_stmt 0 view .LVU487
 2318 0062 0123     		movs	r3, #1
 2319 0064 04F8503C 		strb	r3, [r4, #-80]
 650:Core/Src/MQTTSim800.c **** }
 2320              		.loc 1 650 1 view .LVU488
 2321 0068 0BB0     		add	sp, sp, #44
 2322              	.LCFI52:
 2323              		.cfi_def_cfa_offset 20
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 56


 2324              		@ sp needed
 2325 006a F0BD     		pop	{r4, r5, r6, r7, pc}
 2326              	.L118:
 2327              		.align	2
 2328              	.L117:
 2329 006c 74000000 		.word	SIM800+116
 2330              		.cfi_endproc
 2331              	.LFE94:
 2333              		.section	.rodata.Sim800_RxCallBack.str1.4,"aMS",%progbits,1
 2334              		.align	2
 2335              	.LC21:
 2336 0000 0D0A00   		.ascii	"\015\012\000"
 2337 0003 00       		.align	2
 2338              	.LC22:
 2339 0004 4552524F 		.ascii	"ERROR\015\012\000"
 2339      520D0A00 
 2340              		.align	2
 2341              	.LC23:
 2342 000c 4552524F 		.ascii	"ERROR\000"
 2342      5200
 2343 0012 0000     		.align	2
 2344              	.LC24:
 2345 0014 434F4E4E 		.ascii	"CONNECT\000"
 2345      45435400 
 2346              		.align	2
 2347              	.LC25:
 2348 001c 434C4F53 		.ascii	"CLOSED\015\012\000"
 2348      45440D0A 
 2348      00
 2349 0025 000000   		.align	2
 2350              	.LC26:
 2351 0028 44454143 		.ascii	"DEACT\015\012\000"
 2351      540D0A00 
 2352              		.align	2
 2353              	.LC27:
 2354 0030 2B434D47 		.ascii	"+CMGS:\000"
 2354      533A00
 2355              		.section	.text.Sim800_RxCallBack,"ax",%progbits
 2356              		.align	1
 2357              		.global	Sim800_RxCallBack
 2358              		.syntax unified
 2359              		.thumb
 2360              		.thumb_func
 2361              		.fpu softvfp
 2363              	Sim800_RxCallBack:
 2364              	.LFB79:
 241:Core/Src/MQTTSim800.c ****     rx_buffer[rx_index++] = rx_data;
 2365              		.loc 1 241 1 is_stmt 1 view -0
 2366              		.cfi_startproc
 2367              		@ args = 0, pretend = 0, frame = 0
 2368              		@ frame_needed = 0, uses_anonymous_args = 0
 2369 0000 10B5     		push	{r4, lr}
 2370              	.LCFI53:
 2371              		.cfi_def_cfa_offset 8
 2372              		.cfi_offset 4, -8
 2373              		.cfi_offset 14, -4
 242:Core/Src/MQTTSim800.c **** 
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 57


 2374              		.loc 1 242 5 view .LVU490
 242:Core/Src/MQTTSim800.c **** 
 2375              		.loc 1 242 23 is_stmt 0 view .LVU491
 2376 0002 3F4A     		ldr	r2, .L138
 2377 0004 1388     		ldrh	r3, [r2]
 2378 0006 5C1C     		adds	r4, r3, #1
 2379 0008 A4B2     		uxth	r4, r4
 2380 000a 1480     		strh	r4, [r2]	@ movhi
 242:Core/Src/MQTTSim800.c **** 
 2381              		.loc 1 242 27 view .LVU492
 2382 000c 3D48     		ldr	r0, .L138+4
 2383 000e 3E4A     		ldr	r2, .L138+8
 2384 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 2385 0012 C254     		strb	r2, [r0, r3]
 245:Core/Src/MQTTSim800.c ****     {
 2386              		.loc 1 245 5 is_stmt 1 view .LVU493
 245:Core/Src/MQTTSim800.c ****     {
 2387              		.loc 1 245 9 is_stmt 0 view .LVU494
 2388 0014 3D49     		ldr	r1, .L138+12
 2389 0016 FFF7FEFF 		bl	strstr
 2390              	.LVL210:
 245:Core/Src/MQTTSim800.c ****     {
 2391              		.loc 1 245 8 view .LVU495
 2392 001a 08B1     		cbz	r0, .L120
 245:Core/Src/MQTTSim800.c ****     {
 2393              		.loc 1 245 51 discriminator 1 view .LVU496
 2394 001c 022C     		cmp	r4, #2
 2395 001e 48D0     		beq	.L131
 2396              	.L120:
 249:Core/Src/MQTTSim800.c ****     {
 2397              		.loc 1 249 10 is_stmt 1 view .LVU497
 249:Core/Src/MQTTSim800.c ****     {
 2398              		.loc 1 249 15 is_stmt 0 view .LVU498
 2399 0020 3B49     		ldr	r1, .L138+16
 2400 0022 3848     		ldr	r0, .L138+4
 2401 0024 FFF7FEFF 		bl	strstr
 2402              	.LVL211:
 249:Core/Src/MQTTSim800.c ****     {
 2403              		.loc 1 249 13 view .LVU499
 2404 0028 0028     		cmp	r0, #0
 2405 002a 46D0     		beq	.L132
 2406              	.L122:
 251:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2407              		.loc 1 251 9 is_stmt 1 view .LVU500
 2408 002c 394C     		ldr	r4, .L138+20
 2409 002e C822     		movs	r2, #200
 2410 0030 3449     		ldr	r1, .L138+4
 2411 0032 2046     		mov	r0, r4
 2412 0034 FFF7FEFF 		bl	memcpy
 2413              	.LVL212:
 252:Core/Src/MQTTSim800.c ****         if (strstr(mqtt_buffer, "ERROR") && (SIM800.mqttServer.connect == 1))
 2414              		.loc 1 252 9 view .LVU501
 2415 0038 FFF7FEFF 		bl	clearRxBuffer
 2416              	.LVL213:
 253:Core/Src/MQTTSim800.c ****         {
 2417              		.loc 1 253 9 view .LVU502
 253:Core/Src/MQTTSim800.c ****         {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 58


 2418              		.loc 1 253 13 is_stmt 0 view .LVU503
 2419 003c 3649     		ldr	r1, .L138+24
 2420 003e 2046     		mov	r0, r4
 2421 0040 FFF7FEFF 		bl	strstr
 2422              	.LVL214:
 253:Core/Src/MQTTSim800.c ****         {
 2423              		.loc 1 253 12 view .LVU504
 2424 0044 18B1     		cbz	r0, .L123
 253:Core/Src/MQTTSim800.c ****         {
 2425              		.loc 1 253 63 discriminator 1 view .LVU505
 2426 0046 354B     		ldr	r3, .L138+28
 2427 0048 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
 253:Core/Src/MQTTSim800.c ****         {
 2428              		.loc 1 253 42 discriminator 1 view .LVU506
 2429 004a 012B     		cmp	r3, #1
 2430 004c 3CD0     		beq	.L133
 2431              	.L123:
 257:Core/Src/MQTTSim800.c ****         {
 2432              		.loc 1 257 14 is_stmt 1 view .LVU507
 257:Core/Src/MQTTSim800.c ****         {
 2433              		.loc 1 257 18 is_stmt 0 view .LVU508
 2434 004e 3449     		ldr	r1, .L138+32
 2435 0050 3048     		ldr	r0, .L138+20
 2436 0052 FFF7FEFF 		bl	strstr
 2437              	.LVL215:
 257:Core/Src/MQTTSim800.c ****         {
 2438              		.loc 1 257 17 view .LVU509
 2439 0056 10B1     		cbz	r0, .L121
 259:Core/Src/MQTTSim800.c ****         }
 2440              		.loc 1 259 13 is_stmt 1 view .LVU510
 259:Core/Src/MQTTSim800.c ****         }
 2441              		.loc 1 259 39 is_stmt 0 view .LVU511
 2442 0058 304B     		ldr	r3, .L138+28
 2443 005a 0122     		movs	r2, #1
 2444 005c 9A74     		strb	r2, [r3, #18]
 2445              	.L121:
 263:Core/Src/MQTTSim800.c ****     {
 2446              		.loc 1 263 5 is_stmt 1 view .LVU512
 263:Core/Src/MQTTSim800.c ****     {
 2447              		.loc 1 263 9 is_stmt 0 view .LVU513
 2448 005e 3149     		ldr	r1, .L138+36
 2449 0060 2848     		ldr	r0, .L138+4
 2450 0062 FFF7FEFF 		bl	strstr
 2451              	.LVL216:
 263:Core/Src/MQTTSim800.c ****     {
 2452              		.loc 1 263 8 view .LVU514
 2453 0066 0028     		cmp	r0, #0
 2454 0068 32D0     		beq	.L134
 2455              	.L124:
 265:Core/Src/MQTTSim800.c ****     }
 2456              		.loc 1 265 9 is_stmt 1 view .LVU515
 265:Core/Src/MQTTSim800.c ****     }
 2457              		.loc 1 265 35 is_stmt 0 view .LVU516
 2458 006a 2C4B     		ldr	r3, .L138+28
 2459 006c 0022     		movs	r2, #0
 2460 006e 9A74     		strb	r2, [r3, #18]
 2461              	.L125:
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 59


 290:Core/Src/MQTTSim800.c ****     {
 2462              		.loc 1 290 5 is_stmt 1 view .LVU517
 290:Core/Src/MQTTSim800.c ****     {
 2463              		.loc 1 290 18 is_stmt 0 view .LVU518
 2464 0070 234B     		ldr	r3, .L138
 2465 0072 1B88     		ldrh	r3, [r3]
 290:Core/Src/MQTTSim800.c ****     {
 2466              		.loc 1 290 8 view .LVU519
 2467 0074 C72B     		cmp	r3, #199
 2468 0076 32D8     		bhi	.L135
 2469              	.L126:
 295:Core/Src/MQTTSim800.c ****     {
 2470              		.loc 1 295 5 is_stmt 1 view .LVU520
 295:Core/Src/MQTTSim800.c ****     {
 2471              		.loc 1 295 10 is_stmt 0 view .LVU521
 2472 0078 3E21     		movs	r1, #62
 2473 007a 2248     		ldr	r0, .L138+4
 2474 007c FFF7FEFF 		bl	strchr
 2475              	.LVL217:
 295:Core/Src/MQTTSim800.c ****     {
 2476              		.loc 1 295 8 view .LVU522
 2477 0080 18B1     		cbz	r0, .L127
 295:Core/Src/MQTTSim800.c ****     {
 2478              		.loc 1 295 63 discriminator 1 view .LVU523
 2479 0082 1F4B     		ldr	r3, .L138
 2480 0084 1B88     		ldrh	r3, [r3]
 295:Core/Src/MQTTSim800.c ****     {
 2481              		.loc 1 295 50 discriminator 1 view .LVU524
 2482 0086 042B     		cmp	r3, #4
 2483 0088 2ED9     		bls	.L136
 2484              	.L127:
 300:Core/Src/MQTTSim800.c ****     {
 2485              		.loc 1 300 5 is_stmt 1 view .LVU525
 300:Core/Src/MQTTSim800.c ****     {
 2486              		.loc 1 300 9 is_stmt 0 view .LVU526
 2487 008a 2749     		ldr	r1, .L138+40
 2488 008c 1D48     		ldr	r0, .L138+4
 2489 008e FFF7FEFF 		bl	strstr
 2490              	.LVL218:
 300:Core/Src/MQTTSim800.c ****     {
 2491              		.loc 1 300 8 view .LVU527
 2492 0092 20B1     		cbz	r0, .L128
 302:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2493              		.loc 1 302 9 is_stmt 1 view .LVU528
 302:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2494              		.loc 1 302 21 is_stmt 0 view .LVU529
 2495 0094 254B     		ldr	r3, .L138+44
 2496 0096 0122     		movs	r2, #1
 2497 0098 1A70     		strb	r2, [r3]
 303:Core/Src/MQTTSim800.c ****     }
 2498              		.loc 1 303 9 is_stmt 1 view .LVU530
 2499 009a FFF7FEFF 		bl	clearRxBuffer
 2500              	.LVL219:
 2501              	.L128:
 306:Core/Src/MQTTSim800.c ****     {
 2502              		.loc 1 306 5 view .LVU531
 306:Core/Src/MQTTSim800.c ****     {
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 60


 2503              		.loc 1 306 16 is_stmt 0 view .LVU532
 2504 009e 1A4B     		ldr	r3, .L138+8
 2505 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 306:Core/Src/MQTTSim800.c ****     {
 2506              		.loc 1 306 7 view .LVU533
 2507 00a2 5E2B     		cmp	r3, #94
 2508 00a4 28D0     		beq	.L137
 2509              	.L129:
 311:Core/Src/MQTTSim800.c **** }
 2510              		.loc 1 311 5 is_stmt 1 view .LVU534
 2511 00a6 0122     		movs	r2, #1
 2512 00a8 1749     		ldr	r1, .L138+8
 2513 00aa 2148     		ldr	r0, .L138+48
 2514 00ac FFF7FEFF 		bl	HAL_UART_Receive_IT
 2515              	.LVL220:
 312:Core/Src/MQTTSim800.c **** 
 2516              		.loc 1 312 1 is_stmt 0 view .LVU535
 2517 00b0 10BD     		pop	{r4, pc}
 2518              	.L131:
 247:Core/Src/MQTTSim800.c ****     }
 2519              		.loc 1 247 9 is_stmt 1 view .LVU536
 247:Core/Src/MQTTSim800.c ****     }
 2520              		.loc 1 247 18 is_stmt 0 view .LVU537
 2521 00b2 134B     		ldr	r3, .L138
 2522 00b4 0022     		movs	r2, #0
 2523 00b6 1A80     		strh	r2, [r3]	@ movhi
 2524 00b8 D1E7     		b	.L121
 2525              	.L132:
 249:Core/Src/MQTTSim800.c ****     {
 2526              		.loc 1 249 64 discriminator 1 view .LVU538
 2527 00ba 1E49     		ldr	r1, .L138+52
 2528 00bc 1148     		ldr	r0, .L138+4
 2529 00be FFF7FEFF 		bl	strstr
 2530              	.LVL221:
 249:Core/Src/MQTTSim800.c ****     {
 2531              		.loc 1 249 60 discriminator 1 view .LVU539
 2532 00c2 0028     		cmp	r0, #0
 2533 00c4 B2D1     		bne	.L122
 2534 00c6 CAE7     		b	.L121
 2535              	.L133:
 255:Core/Src/MQTTSim800.c ****         }
 2536              		.loc 1 255 13 is_stmt 1 view .LVU540
 255:Core/Src/MQTTSim800.c ****         }
 2537              		.loc 1 255 39 is_stmt 0 view .LVU541
 2538 00c8 144B     		ldr	r3, .L138+28
 2539 00ca 0022     		movs	r2, #0
 2540 00cc 9A74     		strb	r2, [r3, #18]
 2541 00ce C6E7     		b	.L121
 2542              	.L134:
 263:Core/Src/MQTTSim800.c ****     {
 2543              		.loc 1 263 52 discriminator 1 view .LVU542
 2544 00d0 1949     		ldr	r1, .L138+56
 2545 00d2 0C48     		ldr	r0, .L138+4
 2546 00d4 FFF7FEFF 		bl	strstr
 2547              	.LVL222:
 263:Core/Src/MQTTSim800.c ****     {
 2548              		.loc 1 263 49 discriminator 1 view .LVU543
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 61


 2549 00d8 0028     		cmp	r0, #0
 2550 00da C6D1     		bne	.L124
 2551 00dc C8E7     		b	.L125
 2552              	.L135:
 292:Core/Src/MQTTSim800.c ****         clearMqttBuffer();
 2553              		.loc 1 292 9 is_stmt 1 view .LVU544
 2554 00de FFF7FEFF 		bl	clearRxBuffer
 2555              	.LVL223:
 293:Core/Src/MQTTSim800.c ****     }
 2556              		.loc 1 293 9 view .LVU545
 2557 00e2 FFF7FEFF 		bl	clearMqttBuffer
 2558              	.LVL224:
 2559 00e6 C7E7     		b	.L126
 2560              	.L136:
 297:Core/Src/MQTTSim800.c ****         clearRxBuffer();
 2561              		.loc 1 297 9 view .LVU546
 2562 00e8 C822     		movs	r2, #200
 2563 00ea 0649     		ldr	r1, .L138+4
 2564 00ec 0948     		ldr	r0, .L138+20
 2565 00ee FFF7FEFF 		bl	memcpy
 2566              	.LVL225:
 298:Core/Src/MQTTSim800.c ****     }
 2567              		.loc 1 298 9 view .LVU547
 2568 00f2 FFF7FEFF 		bl	clearRxBuffer
 2569              	.LVL226:
 2570 00f6 C8E7     		b	.L127
 2571              	.L137:
 308:Core/Src/MQTTSim800.c ****     }
 2572              		.loc 1 308 9 view .LVU548
 2573 00f8 0248     		ldr	r0, .L138+4
 2574 00fa FFF7FEFF 		bl	MQTT_Receive
 2575              	.LVL227:
 2576 00fe D2E7     		b	.L129
 2577              	.L139:
 2578              		.align	2
 2579              	.L138:
 2580 0100 00000000 		.word	.LANCHOR0
 2581 0104 00000000 		.word	.LANCHOR1
 2582 0108 00000000 		.word	.LANCHOR8
 2583 010c 00000000 		.word	.LC21
 2584 0110 20000000 		.word	.LC6
 2585 0114 00000000 		.word	.LANCHOR4
 2586 0118 0C000000 		.word	.LC23
 2587 011c 00000000 		.word	SIM800
 2588 0120 14000000 		.word	.LC24
 2589 0124 1C000000 		.word	.LC25
 2590 0128 30000000 		.word	.LC27
 2591 012c 00000000 		.word	is_SMS_done
 2592 0130 00000000 		.word	huart1
 2593 0134 04000000 		.word	.LC22
 2594 0138 28000000 		.word	.LC26
 2595              		.cfi_endproc
 2596              	.LFE79:
 2598              		.global	mqtt_index
 2599              		.global	mqtt_buffer
 2600              		.global	mqtt_receive
 2601              		.global	rx_index
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 62


 2602              		.global	rx_buffer
 2603              		.global	rx_data
 2604              		.global	SIM800_Batt
 2605              		.global	SIM800_Status
 2606              		.section	.rodata
 2607              		.align	2
 2608              		.set	.LANCHOR2,. + 0
 2609              	.LC1:
 2610 0000 41542B43 		.ascii	"AT+CBC\015\012\000"
 2610      42430D0A 
 2610      00
 2611 0009 00000000 		.space	6
 2611      0000
 2612 000f 00       		.space	1
 2613              	.LC3:
 2614 0010 41542B43 		.ascii	"AT+CGNSINF\015\012\000"
 2614      474E5349 
 2614      4E460D0A 
 2614      00
 2615 001d 0000     		.space	2
 2616 001f 00       		.space	1
 2617              	.LC0:
 2618 0020 4D515443 		.ascii	"MQTC"
 2619 0024 00000000 		.word	0
 2620 0028 04       		.byte	4
 2621 0029 000000   		.space	3
 2622 002c 00000000 		.word	0
 2623 0030 00000000 		.word	0
 2624 0034 00000000 		.word	0
 2625 0038 3C00     		.short	60
 2626 003a 01       		.byte	1
 2627 003b 00       		.byte	0
 2628 003c 4D515457 		.ascii	"MQTW"
 2629 0040 00000000 		.word	0
 2630 0044 00000000 		.word	0
 2631 0048 00000000 		.word	0
 2632 004c 00000000 		.word	0
 2633 0050 00000000 		.word	0
 2634 0054 00000000 		.word	0
 2635 0058 00000000 		.word	0
 2636 005c 00       		.byte	0
 2637 005d 00       		.byte	0
 2638 005e 0000     		.space	2
 2639 0060 00000000 		.word	0
 2640 0064 00000000 		.word	0
 2641 0068 00000000 		.word	0
 2642 006c 00000000 		.word	0
 2643 0070 00000000 		.word	0
 2644 0074 00000000 		.word	0
 2645              		.section	.bss.SIM800_Batt,"aw",%nobits
 2646              		.align	2
 2647              		.set	.LANCHOR3,. + 0
 2650              	SIM800_Batt:
 2651 0000 00000000 		.space	4
 2652              		.section	.bss.SIM800_Status,"aw",%nobits
 2653              		.align	2
 2654              		.set	.LANCHOR7,. + 0
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 63


 2657              	SIM800_Status:
 2658 0000 000000   		.space	3
 2659              		.section	.bss.mqtt_buffer,"aw",%nobits
 2660              		.align	2
 2661              		.set	.LANCHOR4,. + 0
 2664              	mqtt_buffer:
 2665 0000 00000000 		.space	200
 2665      00000000 
 2665      00000000 
 2665      00000000 
 2665      00000000 
 2666              		.section	.bss.mqtt_index,"aw",%nobits
 2667              		.align	1
 2668              		.set	.LANCHOR6,. + 0
 2671              	mqtt_index:
 2672 0000 0000     		.space	2
 2673              		.section	.bss.mqtt_receive,"aw",%nobits
 2674              		.set	.LANCHOR5,. + 0
 2677              	mqtt_receive:
 2678 0000 00       		.space	1
 2679              		.section	.bss.rx_buffer,"aw",%nobits
 2680              		.align	2
 2681              		.set	.LANCHOR1,. + 0
 2684              	rx_buffer:
 2685 0000 00000000 		.space	200
 2685      00000000 
 2685      00000000 
 2685      00000000 
 2685      00000000 
 2686              		.section	.bss.rx_data,"aw",%nobits
 2687              		.set	.LANCHOR8,. + 0
 2690              	rx_data:
 2691 0000 00       		.space	1
 2692              		.section	.bss.rx_index,"aw",%nobits
 2693              		.align	1
 2694              		.set	.LANCHOR0,. + 0
 2697              	rx_index:
 2698 0000 0000     		.space	2
 2699              		.text
 2700              	.Letext0:
 2701              		.file 2 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\machine\\_default_type
 2702              		.file 3 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\sys\\_stdint.h"
 2703              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 2704              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2705              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2706              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 2707              		.file 8 "Core/Inc/MQTTSim800.h"
 2708              		.file 9 "Core/Inc/MQTTPacket.h"
 2709              		.file 10 "Core/Inc/MQTTConnect.h"
 2710              		.file 11 "Core/Inc/usart.h"
 2711              		.file 12 "<built-in>"
 2712              		.file 13 "Core/Inc/MQTTPublish.h"
 2713              		.file 14 "Core/Inc/MQTTSubscribe.h"
 2714              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 2715              		.file 16 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\stdio.h"
 2716              		.file 17 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\string.h"
 2717              		.file 18 "d:\\tools\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\math.h"
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 64


ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 MQTTSim800.c
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:16     .text.reverse:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:24     .text.reverse:00000000 reverse
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:74     .text.intToStr:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:81     .text.intToStr:00000000 intToStr
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:174    .text.intToStr:00000050 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:186    .text.ftoa:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:193    .text.ftoa:00000000 ftoa
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:304    .text.ftoa:00000070 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:313    .text.str2float:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:320    .text.str2float:00000000 str2float
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:479    .text.str2float:00000098 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:485    .text.GPS_Time_Parse:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:492    .text.GPS_Time_Parse:00000000 GPS_Time_Parse
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:666    .text.GPS_Time_Parse:000000b8 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:672    .text.clearRxBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:679    .text.clearRxBuffer:00000000 clearRxBuffer
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:705    .text.clearRxBuffer:00000014 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:711    .rodata.getBattery.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:715    .text.getBattery:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:722    .text.getBattery:00000000 getBattery
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:779    .text.getBattery:00000048 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:788    .text.clearMqttBuffer:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:795    .text.clearMqttBuffer:00000000 clearMqttBuffer
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:825    .text.clearMqttBuffer:00000018 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:832    .rodata.getGPS.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:838    .text.getGPS:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:845    .text.getGPS:00000000 getGPS
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:953    .text.getGPS:000000a0 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:963    .text.SIM800_SendCommand:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:970    .text.SIM800_SendCommand:00000000 SIM800_SendCommand
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1031   .text.SIM800_SendCommand:00000038 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1037   .text.SIM800_SendMQTT:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1044   .text.SIM800_SendMQTT:00000000 SIM800_SendMQTT
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1106   .text.SIM800_SendMQTT:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1112   .rodata.MQTT_Connect.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1128   .text.MQTT_Connect:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1135   .text.MQTT_Connect:00000000 MQTT_Connect
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1325   .text.MQTT_Connect:000000dc $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1338   .rodata.MQTT_Init.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1366   .text.MQTT_Init:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1373   .text.MQTT_Init:00000000 MQTT_Init
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1571   .text.MQTT_Init:00000104 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1588   .text.MQTT_Pub:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1595   .text.MQTT_Pub:00000000 MQTT_Pub
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1707   .text.MQTT_Pub:0000008c $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1715   .rodata.MQTT_PubUint8.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1719   .text.MQTT_PubUint8:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1726   .text.MQTT_PubUint8:00000000 MQTT_PubUint8
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1780   .text.MQTT_PubUint8:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1785   .text.MQTT_PubUint16:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1792   .text.MQTT_PubUint16:00000000 MQTT_PubUint16
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1846   .text.MQTT_PubUint16:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1851   .rodata.MQTT_PubUint32.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1855   .text.MQTT_PubUint32:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1862   .text.MQTT_PubUint32:00000000 MQTT_PubUint32
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 66


C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1916   .text.MQTT_PubUint32:00000030 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1921   .text.MQTT_PubFloat:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1928   .text.MQTT_PubFloat:00000000 MQTT_PubFloat
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1980   .text.MQTT_PubDouble:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:1987   .text.MQTT_PubDouble:00000000 MQTT_PubDouble
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2043   .text.MQTT_PingReq:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2050   .text.MQTT_PingReq:00000000 MQTT_PingReq
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2120   .text.MQTT_PingReq:0000004c $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2128   .text.MQTT_Sub:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2135   .text.MQTT_Sub:00000000 MQTT_Sub
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2227   .text.MQTT_Sub:00000068 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2235   .text.MQTT_Receive:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2242   .text.MQTT_Receive:00000000 MQTT_Receive
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2329   .text.MQTT_Receive:0000006c $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2334   .rodata.Sim800_RxCallBack.str1.4:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2356   .text.Sim800_RxCallBack:00000000 $t
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2363   .text.Sim800_RxCallBack:00000000 Sim800_RxCallBack
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2580   .text.Sim800_RxCallBack:00000100 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2671   .bss.mqtt_index:00000000 mqtt_index
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2664   .bss.mqtt_buffer:00000000 mqtt_buffer
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2677   .bss.mqtt_receive:00000000 mqtt_receive
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2697   .bss.rx_index:00000000 rx_index
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2684   .bss.rx_buffer:00000000 rx_buffer
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2690   .bss.rx_data:00000000 rx_data
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2650   .bss.SIM800_Batt:00000000 SIM800_Batt
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2657   .bss.SIM800_Status:00000000 SIM800_Status
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2607   .rodata:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2646   .bss.SIM800_Batt:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2653   .bss.SIM800_Status:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2660   .bss.mqtt_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2667   .bss.mqtt_index:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2678   .bss.mqtt_receive:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2680   .bss.rx_buffer:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2691   .bss.rx_data:00000000 $d
C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s:2693   .bss.rx_index:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2iz
__aeabi_i2f
__aeabi_fsub
__aeabi_i2d
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
pow
__aeabi_fmul
__aeabi_fadd
__aeabi_ddiv
__aeabi_dadd
strtol
myGPS
memset
strlen
HAL_UART_Transmit_IT
osDelay
sscanf
huart1
ARM GAS  C:\Users\Vento\AppData\Local\Temp\ccxgWzH3.s 			page 67


strstr
snprintf
memcpy
MQTTSerialize_connect
SIM800
MQTTSerialize_publish
sprintf
MQTTSerialize_pingreq
MQTTSerialize_subscribe
MQTTDeserialize_publish
strchr
HAL_UART_Receive_IT
is_SMS_done
